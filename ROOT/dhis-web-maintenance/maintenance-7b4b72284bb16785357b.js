webpackJsonp([14],[,function(e,t,n){"use strict";var r=n(31),i=n(1330),o=n(193),a=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,o=i.toSubscriber(e,t,n);if(r?r.call(o,this.source):o.add(this._trySubscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.syncErrorThrown=!0,e.syncErrorValue=t,e.error(t)}},e.prototype.forEach=function(e,t){var n=this;if(t||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?t=r.root.Rx.config.Promise:r.root.Promise&&(t=r.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,r){var i;i=n.subscribe(function(t){if(i)try{e(t)}catch(e){r(e),i.unsubscribe()}else e(t)},r,t)})},e.prototype._subscribe=function(e){return this.source.subscribe(e)},e.prototype[o.observable]=function(){return this},e.create=function(t){return new e(t)},e}();t.Observable=a},,,,,,,,,,function(e,t){e.exports=fp},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(198),o=n(27),a=n(459),s=n(194),u=function(e){function t(n,r,i){switch(e.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a.empty;break;case 1:if(!n){this.destination=a.empty;break}if("object"==typeof n){n instanceof t?(this.destination=n,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new c(this,n));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,n,r,i)}}return r(t,e),t.prototype[s.rxSubscriber]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this,t=e._parent,n=e._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=n,this},t}(o.Subscription);t.Subscriber=u;var c=function(e){function t(t,n,r,o){e.call(this),this._parentSubscriber=t;var s,u=this;i.isFunction(n)?s=n:n&&(s=n.next,r=n.error,o=n.complete,n!==a.empty&&(u=Object.create(n),i.isFunction(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=s,this._error=r,this._complete=o}return r(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){throw this.unsubscribe(),e}},t.prototype.__tryOrSetError=function(e,t,n){try{t.call(this._context,n)}catch(t){return e.syncErrorValue=t,e.syncErrorThrown=!0,!0}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(u)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.default,n=t.getApi();n.setBaseUrl("");var r={getBaseUrl:function(){return this.activities.dhis.href}};return n.get(""+e).then(function(e){return Object.assign({},e,r)})}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.default,t=e.getApi();return k.baseUrl&&C&&t.setBaseUrl(k.baseUrl),t.get("userSettings")}function s(e,t){var n=[],r=function(t){return e.get("schemas/"+t,{fields:x.fieldsForSchemas})};if(Array.isArray(t)){var i=t.map(r).concat([]),o=Promise.all(i).then(function(e){return{schemas:e}});n.push(o),t.length>0?n.push(e.get("attributes",{fields:":all,optionSet[:all,options[:all]]",paging:!1})):n.push({attributes:[]})}else n.push(e.get("schemas",{fields:x.fieldsForSchemas})),n.push(e.get("attributes",{fields:":all,optionSet[:all,options[:all]]",paging:!1}));return n}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.default,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.default.getLogger(),r=t.getApi(),o=S.default.create(k,e);o.headers&&r.setDefaultHeaders(o.headers);var u={models:void 0,model:h.default,Api:t,system:v.default.getSystem(),i18n:w.default.getI18n(),dataStore:P.default.getDataStore()};S.default.processConfigForD2(o,u),C?C=!1:j=l.Deferred.create();var c=s(r,o.schemas),p=[r.get("me",{fields:":all,organisationUnits[id],userGroups[id],userCredentials[:all,!user,userRoles[id]"}),r.get("me/authorization"),a(t)],d=[r.get("system/info"),r.get("apps")];return Promise.all([].concat(i(c),p,d,[u.i18n.load()])).then(function(e){var t={schemas:(0,l.pick)("schemas")(e[0]),attributes:(0,l.pick)("attributes")(e[1]),currentUser:e[2],authorities:e[3],userSettings:e[4],systemInfo:e[5],apps:e[6]};return t.schemas.filter(function(e){return e.metadata}).map(function(e){return e.apiEndpoint=(0,l.updateAPIUrlWithBaseUrlVersionNumber)(e.apiEndpoint,o.baseUrl),e}).forEach(function(e){var n=t.attributes.filter(function(t){return!0===t[[e.singular,"Attribute"].join("")]});Object.prototype.hasOwnProperty.call(u.models,e.singular)||u.models.add(h.default.ModelDefinition.createFromSchema(e,n))}),u.currentUser=E.default.create(t.currentUser,t.authorities,u.models,t.userSettings),u.system.setSystemInfo(t.systemInfo),u.system.setInstalledApps(t.apps),j.resolve(u),j.promise}).catch(function(e){return n.error("Unable to get schemas from the api",JSON.stringify(e),e),j.reject("Unable to get schemas from the DHIS2 API"),j.promise})}function c(){return j.promise}Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0,t.getManifest=o,t.getUserSettings=a,t.init=u,t.getInstance=c,n(492);var l=n(133),p=n(380),f=r(p),d=n(777),h=r(d),m=n(52),y=r(m),b=n(387),v=r(b),g=n(761),w=r(g),O=n(755),S=r(O),_=n(756),E=r(_),x=n(384),T=n(759),P=r(T),C=!0,j=l.Deferred.create(),k=S.default.create(),A=t.config=k;t.default={init:u,config:A,getInstance:c,getUserSettings:a,getManifest:o}},function(e,t,n){"use strict";var r=n(26);t.Subject=r.Subject,t.AnonymousSubject=r.AnonymousSubject;var i=n(1);t.Observable=i.Observable,n(1060),n(1061),n(1062),n(1063),n(1064),n(1067),n(1068),n(1069),n(1070),n(1071),n(1072),n(1073),n(1074),n(1075),n(1076),n(1081),n(1077),n(1078),n(1079),n(1080),n(1082),n(1085),n(1083),n(1084),n(1086),n(1065),n(1066),n(1089),n(1090),n(1091),n(1092),n(1093),n(1094),n(1095),n(1096),n(1097),n(1098),n(1099),n(1100),n(1101),n(1107),n(1102),n(1103),n(1104),n(1105),n(1106),n(1108),n(1109),n(1110),n(1111),n(1114),n(1115),n(1116),n(1112),n(1117),n(1118),n(1119),n(1120),n(1121),n(1122),n(1123),n(1124),n(1087),n(1088),n(1125),n(1126),n(1113),n(1127),n(1128),n(1129),n(1130),n(1131),n(1132),n(1133),n(1134),n(1135),n(1136),n(1137),n(1138),n(1139),n(1140),n(1141),n(1142),n(1143),n(1144),n(1146),n(1145),n(1147),n(1148),n(1149),n(1150),n(1151),n(1152),n(1153),n(1154),n(1155),n(1156),n(1157),n(1158),n(1159),n(1160),n(1161),n(1162),n(1163),n(1164),n(1165),n(1166),n(1167),n(1168),n(1169),n(1170),n(1171),n(1172),n(1173),n(1174),n(1175),n(1176),n(1177),n(1178),n(1179),n(1180),n(1181),n(1182),n(1183),n(1184),n(1185),n(1186),n(1187),n(1188);var o=n(27);t.Subscription=o.Subscription;var a=n(12);t.Subscriber=a.Subscriber;var s=n(189);t.AsyncSubject=s.AsyncSubject;var u=n(190);t.ReplaySubject=u.ReplaySubject;var c=n(458);t.BehaviorSubject=c.BehaviorSubject;var l=n(461);t.ConnectableObservable=l.ConnectableObservable;var p=n(144);t.Notification=p.Notification;var f=n(195);t.EmptyError=f.EmptyError;var d=n(148);t.ArgumentOutOfRangeError=d.ArgumentOutOfRangeError;var h=n(196);t.ObjectUnsubscribedError=h.ObjectUnsubscribedError;var m=n(484);t.TimeoutError=m.TimeoutError;var y=n(485);t.UnsubscriptionError=y.UnsubscriptionError;var b=n(477);t.TimeInterval=b.TimeInterval;var v=n(478);t.Timestamp=v.Timestamp;var g=n(1321);t.TestScheduler=g.TestScheduler;var w=n(479);t.VirtualTimeScheduler=w.VirtualTimeScheduler;var O=n(464);t.AjaxResponse=O.AjaxResponse,t.AjaxError=O.AjaxError,t.AjaxTimeoutError=O.AjaxTimeoutError;var S=n(480),_=n(36),E=n(481),x=n(1318),T=n(194),P=n(147),C=n(193),j={asap:S.asap,queue:E.queue,animationFrame:x.animationFrame,async:_.async};t.Scheduler=j;var k={rxSubscriber:T.rxSubscriber,observable:C.observable,iterator:P.iterator};t.Symbol=k},function(e,t,n){var r,i;!function(o,a){"use strict";r=a,void 0!==(i="function"==typeof r?r.call(t,n,t,e):r)&&(e.exports=i)}(0,function(){"use strict";function e(e){return typeof console!==s&&(void 0!==console[e]?t(console,e):void 0!==console.log?t(console,"log"):a)}function t(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function n(e,t,n){return function(){typeof console!==s&&(r.call(this,t,n),this[e].apply(this,arguments))}}function r(e,t){for(var n=0;n<u.length;n++){var r=u[n];this[r]=n<e?a:this.methodFactory(r,e,t)}}function i(t,r,i){return e(t)||n.apply(this,arguments)}function o(e,t,n){function o(e){var t=(u[e]||"silent").toUpperCase();try{return void(window.localStorage[p]=t)}catch(e){}try{window.document.cookie=encodeURIComponent(p)+"="+t+";"}catch(e){}}function a(){var e;try{e=window.localStorage[p]}catch(e){}if(typeof e===s)try{var t=window.document.cookie,n=t.indexOf(encodeURIComponent(p)+"=");n&&(e=/^([^;]+)/.exec(t.slice(n))[1])}catch(e){}return void 0===l.levels[e]&&(e=void 0),e}var c,l=this,p="loglevel";e&&(p+=":"+e),l.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},l.methodFactory=n||i,l.getLevel=function(){return c},l.setLevel=function(t,n){if("string"==typeof t&&void 0!==l.levels[t.toUpperCase()]&&(t=l.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=l.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(c=t,!1!==n&&o(t),r.call(l,t,e),typeof console===s&&t<l.levels.SILENT)return"No console available for logging"},l.setDefaultLevel=function(e){a()||l.setLevel(e,!1)},l.enableAll=function(e){l.setLevel(l.levels.TRACE,e)},l.disableAll=function(e){l.setLevel(l.levels.SILENT,e)};var f=a();null==f&&(f=null==t?"WARN":t),l.setLevel(f,!1)}var a=function(){},s="undefined",u=["trace","debug","info","warn","error"],c=new o,l={};c.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=l[e];return t||(t=l[e]=new o(e,c.getLevel(),c.methodFactory)),t};var p=typeof window!==s?window.log:void 0;return c.noConflict=function(){return typeof window!==s&&window.log===c&&(window.log=p),c},c})},,function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(12),o=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(i.Subscriber);t.OuterSubscriber=o},function(e,t,n){"use strict";function r(e,t,n,r){var f=new l.InnerSubscriber(e,n,r);if(f.closed)return null;if(t instanceof u.Observable)return t._isScalar?(f.next(t.value),f.complete(),null):t.subscribe(f);if(o.isArrayLike(t)){for(var d=0,h=t.length;d<h&&!f.closed;d++)f.next(t[d]);f.closed||f.complete()}else{if(a.isPromise(t))return t.then(function(e){f.closed||(f.next(e),f.complete())},function(e){return f.error(e)}).then(null,function(e){i.root.setTimeout(function(){throw e})}),f;if(t&&"function"==typeof t[c.iterator])for(var m=t[c.iterator]();;){var y=m.next();if(y.done){f.complete();break}if(f.next(y.value),f.closed)break}else if(t&&"function"==typeof t[p.observable]){var b=t[p.observable]();if("function"==typeof b.subscribe)return b.subscribe(new l.InnerSubscriber(e,n,r));f.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var v=s.isObject(t)?"an invalid object":"'"+t+"'",g="You provided "+v+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";f.error(new TypeError(g))}}return null}var i=n(31),o=n(487),a=n(489),s=n(488),u=n(1),c=n(147),l=n(1058),p=n(193);t.subscribeToResult=r},,,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(14),s=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=Symbol("publishState"),c=Symbol("publishError"),l=Symbol("observable"),p=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n[l]=new a.ReplaySubject(1),e&&Promise.resolve(e).then(function(e){n.setState(e)}).catch(function(e){n[c](e)}),n}return o(t,e),s(t,[{key:"setState",value:function(e){this.state=e,this[u]()}},{key:"getState",value:function(){return this.state}},{key:"setSource",value:function(e){var t=this;e.subscribe(function(e){return t.setState(e)},function(e){return t[c]("Rethrown error from source: "+e)})}},{key:"_subscribe",value:function(e){return this[l].subscribe(e)}},{key:u,value:function(){return this[l].next(this.state)}},{key:c,value:function(e){return this[l].error(e)}}],[{key:"create",value:function(e){var n=void 0,r={};return e&&(e.getInitialState&&(n=e&&e.getInitialState()),Object.keys(e).filter(function(e){return"getInitialState"!==e}).forEach(function(t){return r[t]=e[t],r})),Object.assign(new t(n),r)}}]),t}(a.Observable);t.a=p},function(e,t,n){"use strict";var r=function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;u=new Error(t.replace(/%s/g,function(){return c[l++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};e.exports=r},function(e,t,n){"use strict";function r(e,t){if(void 0!==e)return!0;throw new Error([t||"Value","should be provided"].join(" "))}function i(e,t,n){if(r(e,n),r(t,"Type"),"function"==typeof t&&e instanceof t||"string"==typeof t&&(void 0===e?"undefined":h(e))===t)return!0;throw new Error(["Expected",n||e,"to have type",t].join(" "))}function o(e,t){try{return i(e,t),!0}catch(e){}return!1}function a(e){return o(e,"string")}function s(e){return Array.isArray(e)}function u(e){return o(e,Object)}function c(e){return void 0!==e}function l(e){return"number"==typeof e&&isFinite(e)&&e>-9007199254740992&&e<9007199254740992&&Math.floor(e)===e}function p(e){return"number"==typeof e&&isFinite(e)&&e-parseFloat(e)+1>=0}function f(e,t){return(s(t)&&t||[]).indexOf(e)>=0}function d(e){return e&&11===e.length}Object.defineProperty(t,"__esModule",{value:!0});var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.checkDefined=r,t.checkType=i,t.isType=o,t.isString=a,t.isArray=s,t.isObject=u,t.isDefined=c,t.isInteger=l,t.isNumeric=p,t.contains=f,t.isValidUid=d,Number.isInteger||(Number.isInteger=l),t.default={checkType:i,checkDefined:r,isArray:s,isDefined:c,isInteger:l,isNumeric:p,isString:a,isType:o,contains:f,isValidUid:d}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(1),o=n(12),a=n(27),s=n(196),u=n(460),c=n(194),l=function(e){function t(t){e.call(this,t),this.destination=t}return r(t,e),t}(o.Subscriber);t.SubjectSubscriber=l;var p=function(e){function t(){e.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return r(t,e),t.prototype[c.rxSubscriber]=function(){return new l(this)},t.prototype.lift=function(e){var t=new f(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new s.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),a.Subscription.EMPTY):this.isStopped?(e.complete(),a.Subscription.EMPTY):(this.observers.push(e),new u.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new i.Observable;return e.source=this,e},t.create=function(e,t){return new f(e,t)},t}(i.Observable);t.Subject=p;var f=function(e){function t(t,n){e.call(this),this.destination=t,this.source=n}return r(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):a.Subscription.EMPTY},t}(p);t.AnonymousSubject=f},function(e,t,n){"use strict";function r(e){return e.reduce(function(e,t){return e.concat(t instanceof c.UnsubscriptionError?t.errors:t)},[])}var i=n(65),o=n(488),a=n(198),s=n(32),u=n(29),c=n(485),l=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var n=this,l=n._parent,p=n._parents,f=n._unsubscribe,d=n._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var h=-1,m=p?p.length:0;l;)l.remove(this),l=++h<m&&p[h]||null;if(a.isFunction(f)){var y=s.tryCatch(f).call(this);y===u.errorObject&&(t=!0,e=e||(u.errorObject.e instanceof c.UnsubscriptionError?r(u.errorObject.e.errors):[u.errorObject.e]))}if(i.isArray(d))for(h=-1,m=d.length;++h<m;){var b=d[h];if(o.isObject(b)){var y=s.tryCatch(b.unsubscribe).call(b);if(y===u.errorObject){t=!0,e=e||[];var v=u.errorObject.e;v instanceof c.UnsubscriptionError?e=e.concat(r(v.errors)):e.push(v)}}}if(t)throw new c.UnsubscriptionError(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;n=new e,n._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.prototype._addParent=function(e){var t=this,n=t._parent,r=t._parents;n&&n!==e?r?-1===r.indexOf(e)&&r.push(e):this._parents=[e]:this._parent=e},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();t.Subscription=l},,function(e,t,n){"use strict";t.errorObject={e:{}}},,function(e,t,n){"use strict";(function(e){var n="undefined"!=typeof window&&window,r="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,i=void 0!==e&&e,o=n||i||r;t.root=o,function(){if(!o)throw new Error("RxJS could not find any global context (window, self, global)")}()}).call(t,n(28))},function(e,t,n){"use strict";function r(){try{return o.apply(this,arguments)}catch(e){return a.errorObject.e=e,a.errorObject}}function i(e){return o=e,r}var o,a=n(29);t.tryCatch=i},function(e,t,n){"use strict";function r(e){return n.i(a.a)(e,{d2:o.a.PropTypes.object})}t.a=r;var i=n(0),o=n.n(i),a=n(708)},,,function(e,t,n){"use strict";var r=n(145),i=n(146);t.async=new i.AsyncScheduler(r.AsyncAction)},function(e,t,n){"use strict";var r=n(11),i=(n.n(r),n(14)),o=(n.n(i),n(15)),a=n.n(o),s={create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"AnonymousAction",t=Object.assign(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return a.a.trace("Firing action: "+t.id.toString()),i.Observable.fromPromise(new Promise(function(e,r){t.next({data:1===n.length?n[0]:[].concat(n),complete:function(){e.apply(void 0,arguments),a.a.trace("Completed action: "+t.id.toString())},error:function(){r.apply(void 0,arguments),a.a.debug("Errored action: "+t.id.toString())}})}))},i.Observable.prototype,i.Subject.prototype);return Object.defineProperty(t,"id",{value:Symbol(e)}),i.Subject.call(t),t},createActionsFromNames:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o={},a=i;return a=i&&n.i(r.isString)(i)?i+".":"",t.forEach(function(t){o[t]=e.create(a+t)}),o}};t.a=s},function(e,t,n){"use strict";var r=n(456),i=n(1057),o=n(1056),a=n(1055);n(455),n(457);n.d(t,"c",function(){return r.b}),n.d(t,"b",function(){return i.a}),n.d(t,"a",function(){return o.a}),n.d(t,"d",function(){return a.a})},,,,,,,,,,,,function(e,t,n){"use strict";var r=n(1017),i=(n(441),n(1018));n.d(t,"b",function(){return r.a}),n.d(t,"a",function(){return i.a})},,function(e,t,n){"use strict";(function(e){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"REPLACE",t=p.default.getSystem();return t.version&&Number(t.version.minor)<=22?"mergeStrategy="+e:"mergeMode="+e}function o(e,t){if(new RegExp("^(:?https?:)?//").test(t))return t;var n=[];return e&&n.push(e),n.push(t),n.join("/").replace(new RegExp("(.(?:[^:]))//+","g"),"$1/").replace(new RegExp("/$"),"")}function a(){return a.api?a.api:a.api=new f}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(492);var u=n(25),c=n(133),l=n(387),p=function(e){return e&&e.__esModule?e:{default:e}}(l),f=function(){function t(n){if(r(this,t),"function"==typeof n)this.fetch=n.bind("undefined"!=typeof window?window:e);else{if("undefined"==typeof fetch)throw new Error("Failed to initialise D2 Api: No fetch implementation is available");this.fetch=fetch.bind("undefined"!=typeof window?window:e)}this.baseUrl="/api",this.defaultFetchOptions={mode:"cors",credentials:"include",cache:"default"},this.defaultHeaders={}}return s(t,[{key:"setDefaultHeaders",value:function(e){this.defaultHeaders=e}},{key:"get",value:function(e,t,n){return this.request("GET",o(this.baseUrl,e),t,n)}},{key:"post",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=o(this.baseUrl,e),a=t;if(r.headers=new Headers(r.headers||{}),void 0!==t)if(r.contentType){if(!n.i({NODE_ENV:"production"})||"test"!==n.i({NODE_ENV:"production"}).npm_lifecycle_event){var s=new Error;console.warn("Deprecation warning: Setting `contentType` for API POST requests is deprecated, and support may be removed in the next major release of D2. In stead you may set the  `Content-Type` header explicitly. If no `Content-Type` header is specified, the browser will try to determine one for you.\nRequest:","POST",i,s.stack)}r.headers.set("Content-Type","text/plain"),delete r.contentType}else"FormData"===t.constructor.name?(r.headers.delete("Content-Type"),a=t):"text/plain"===r.headers.get("Content-Type")||"text/css"===r.headers.get("Content-Type")||"text/javascript"===r.headers.get("Content-Type")?a=String(t):(r.headers.set("Content-Type","application/json"),a=JSON.stringify(t));return this.request("POST",i,a,r)}},{key:"delete",value:function(e,t){return this.request("DELETE",o(this.baseUrl,e),void 0,t)}},{key:"update",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!0===n?e+"?"+i():e;return this.request("PUT",o(this.baseUrl,r),JSON.stringify(t))}},{key:"request",value:function(e,t,r){function i(e){try{return JSON.parse(e)}catch(t){return e}}var o=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,u.checkType)(e,"string","Request type"),(0,u.checkType)(t,"string","Url");var s=this,l=t,p="";if(-1!==l.indexOf("?")&&(p=l.substr(l.indexOf("?")+1),l=l.substr(0,l.indexOf("?"))),r&&Array.isArray(r.filter)){var f=r.filter.map(function(e){return e.split(":").map(encodeURIComponent).join(":")});p=(0,c.customEncodeURIComponent)(p)+(p.length?"&":"")+"filter="+f.join("&filter="),delete r.filter}r&&"GET"===e&&Object.keys(r).forEach(function(e){p=p+(p.length>0?"&":"")+encodeURIComponent(e)+"="+encodeURIComponent(r[e])}),p.length&&(l=l+"?"+p);var d=function(t,i,o){var a=Object.assign({},s.defaultFetchOptions,i),u=new Headers(i.headers||{});if(Object.keys(t).filter(function(e){return!u.get(e)}).forEach(function(e){return u.set(e,t[e])}),a.method=e,"GET"===a.method||!o&&0!==o&&!1!==o?u.delete("Content-Type"):o&&("FormData"===r.constructor.name?u.delete("Content-Type"):u.get("Content-Type")||u.set("Content-Type","application/json"),a.body=o),i.dataType){if(!n.i({NODE_ENV:"production"})||"test"!==n.i({NODE_ENV:"production"}).npm_lifecycle_event){var c=new Error;console.warn("Deprecation warning: Setting `dataType` for API requests is deprecated, and support may be removed in the next major release of D2. In stead you should set the  `Accept` header directly.\nRequest:",a.method,l,c.stack)}"text"===i.dataType&&(u.set("Accept","text/plain"),delete a.dataType)}return a.headers=u,a}(this.defaultHeaders,a,r);return new Promise(function(e,t){o.fetch(l,d).then(function(r){r.ok?r.text().then(function(t){return e(i(t))}):r.text().then(function(e){n.i({NODE_ENV:"production"})&&"test"===n.i({NODE_ENV:"production"}).npm_lifecycle_event||console.warn("API request failed with status "+r.status+" "+r.statusText+"\n","Request: "+d.method+" "+l),t(i(e))})}).catch(function(e){n.i({NODE_ENV:"production"})&&"test"===n.i({NODE_ENV:"production"}).npm_lifecycle_event||console.error("Server connection error:",e),t("Server connection failed for API request: "+d.method+" "+l)})})}},{key:"setBaseUrl",value:function(e){return(0,u.checkType)(e,"string","Base url"),this.baseUrl=e,this}}]),t}();f.getApi=a,t.default=f}).call(t,n(28))},,,,function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t){var r=n.i(d.uniq)(n.i(d.keys)(e.models)),i=m.a.getState(),o=n.i(d.contains)(d.__,r),a=_(e,i),s=function(e){return o(e)&&a(e)};return t.filter(s).map(function(t){return{key:t,label:e.i18n.getTranslation(c()(t))}})}function o(e){S.setState(Object.assign({},S.state,e))}n.d(t,"e",function(){return E}),n.d(t,"a",function(){return x}),t.c=o,n.d(t,"d",function(){return T});var a=n(23),s=n(13),u=(n.n(s),n(82)),c=n.n(u),l=n(172),p=n.n(l),f=n(67),d=n(11),h=(n.n(d),n(154)),m=n(215),y=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=function(){var e=r(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.i(s.getInstance)();case 2:return r=e.sent,e.abrupt("return",n.i(d.map)(function(e){return{name:e,items:i(r,t[e].items)}},Object.keys(t)));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=r(regeneratorRuntime.mark(function e(){var t,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.i(s.getInstance)();case 2:return t=e.sent,r=h.a.getSideBarConfig(),e.next=6,v(r);case 6:return i=e.sent,e.abrupt("return",i.reduce(function(e,n){return(n.items.length||"all"===n.name)&&(e[n.name]=n.items,e.mainSections=e.mainSections.concat([{key:n.name,label:t.i18n.getTranslation(c()(n.name))}])),e},{mainSections:[]}));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),w=function(){var e=r(regeneratorRuntime.mark(function e(){var t,r,i,o=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o||!w.currentUserOrganisationUnits){e.next=2;break}return e.abrupt("return",w.currentUserOrganisationUnits);case 2:return e.next=4,n.i(s.getInstance)();case 4:return t=e.sent,e.next=7,t.currentUser.getOrganisationUnits({paging:!1});case 7:if(r=e.sent,!t.currentUser.authorities.has("ALL")||r.size){e.next=15;break}return e.next=11,t.models.organisationUnits.list({level:1,paging:!1,fields:"id,displayName,path,publicAccess,lastUpdated,children[id,displayName,path,children::isNotEmpty]"});case 11:return i=e.sent,w.currentUserOrganisationUnits=i,0===i.size&&f.a.show({message:"no_org_units_add_one_to_get_started",translate:!0}),e.abrupt("return",i);case 15:return w.currentUserOrganisationUnits=r,e.abrupt("return",r);case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),O=function(){var e=r(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(S.state&&S.state.selectedOrganisationUnit&&S.state.selectedOrganisationUnit.length)){e.next=2;break}return e.abrupt("return",S.state.selectedOrganisationUnit);case 2:return e.next=4,w(!0);case 4:return t=e.sent,e.abrupt("return",t.toArray().reduce(function(e,t){return!e.path||e.path.length>t.path.length?t:e},{}));case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),S=a.a.create(),_=n.i(d.curry)(function(e,t,n){return!0!==t.keyRequireAddToView||(e.currentUser.canUpdate(e.models[n])||e.currentUser.canCreate(e.models[n]))}),E=function(){var e=r(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(!0);case 2:t=e.sent,S.setState(b({},S.getState(),{userOrganisationUnits:t}));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),x=function(){var e=r(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([g(),O(),w(n)]);case 2:r=e.sent,i=y(r,3),o=i[0],a=i[1],s=i[2],u={selectedOrganisationUnit:a,sideBar:o,mainSections:o.mainSections,userOrganisationUnits:s,hierarchy:{selectedLeft:[],selectedRight:[],isProcessing:!1,leftRoots:s.toArray(),rightRoots:s.toArray()}},c=Object.keys(t).reduce(function(e,n){return e[n]&&(p()(e[n])?e[n]=Object.assign({},e[n],t[n]):e[n]=t[n]),e},u),S.setState(c);case 10:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}();t.b=S;var T=S.map(function(e){return e.sideBar.currentSubSection}).distinctUntilChanged()},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r=n(402),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return s});var r=function(e){return function(t){return{type:e,payload:t}}},i="NOTIFY_USER",o=r(i),a="STEPPER_RESET_ACTIVE_STEP",s=r(a)},function(e,t,n){"use strict";var r=n(0),i=n(689),o=(new r.Component).updater;e.exports=i(r.Component,r.isValidElement,o)},function(e,t,n){"use strict";(function(e){function r(e,t){switch(e.userSettings.keyStyle){case"vietnam/vietnam.css":return Object.assign({},t,{background:"#B40303"});case"india/india.css":return Object.assign({},t,{background:"#EA5911"});case"green/green.css":return Object.assign({},t,{background:"#467E4A"})}return t}function i(){return e.document?Math.max(window.document.documentElement.clientWidth,window.innerWidth||0):0}function o(){if(!e.document)return 465;var t=.8*Math.max(e.document.documentElement.clientHeight,window.innerHeight||0);return t<465?t:465}n.d(t,"c",function(){return p}),t.b=r,n.d(t,"e",function(){return h}),t.d=o;var a=n(40),s=(n.n(a),n(14)),u=(n.n(s),n(15)),c=n.n(u),l=n(11),p=(n.n(l),125),f={},d=n.i(l.curry)(function(e,t,n){return e()?t:n}),h=d(function(){return i()>1150});e.document&&s.Observable.fromEvent(e,"resize").debounceTime(300).subscribe(function(){return Object.assign(f.searchResults,{maxHeight:o()})},c.a.error),f={avatar:{fontSize:"1.3rem",letterSpacing:-2,lineHeight:"32px"},avatarBig:{fontSize:"34px",letterSpacing:-2,lineHeight:"60px"},headerBar:{boxSizing:"border-box",background:"#4ACDD1",display:"flex",position:"fixed",top:0,left:0,width:"100%",minHeight:48,justifyContent:"center",alignItems:"center",zIndex:1400},headerTitle:{flex:1,color:"#FFF"},headerMenu:{flex:"0 0 auto",padding:"0 1rem",height:48,justifyContent:"center",alignItems:"center",display:"flex"},menusWrap:{display:"flex",flexDirection:"row",justifyContent:"flex-end",paddingRight:"2rem"},dropDownWrap:{position:"absolute",display:"none",padding:"1rem",right:40,overflow:"hidden",width:400,flexDirection:"column",top:48},searchField:{display:"flex",flex:1,position:"relative",flexDirection:"row",maxWidth:550,justifyContent:"flex-end",minWidth:420},searchFieldInnerWrap:{transition:"width .5s cubic-bezier(0.39, -0.04, 0.2, 1)",position:"relative"},searchResultList:{display:"flex",flexWrap:"wrap"},searchResults:{position:"absolute",top:48,left:0,right:0,maxWidth:673,maxHeight:o(),overflow:"auto",transition:"padding-top .3s cubic-bezier(0.39, -0.04, 0.2, 1), padding-bottom .3s cubic-bezier(0.39, -0.04, 0.2, 1), height .3s cubic-bezier(0.39, -0.04, 0.2, 1)",boxSizing:"border-box"},searchFieldInput:{color:a.white,flex:1},searchFieldHintText:{color:"rgba(255, 255, 255, 0.5)"},menuItemLink:{padding:"1rem",display:"flex",width:p,height:p,boxSizing:"border-box",flexDirection:"column",alignItems:"center",justifyContent:"center",textDecoration:"none",color:a.black,fontSize:"1rem"},menuItemIcon:{height:48,width:48},menuItemLabel:{flex:"1 1 auto",maxWidth:"100%",textAlign:"center"},moreAppsButton:{marginTop:"1rem",width:"100%",display:"block",textAlign:"center"},moreAppsButtonWrap:{width:"100%",padding:"1rem",boxSizing:"border-box"},clearIcon:{position:"absolute",top:"10px",right:"5px"}},t.a=f}).call(t,n(28))},,,function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(1),o=n(281),a=n(81),s=n(66),u=function(e){function t(t,n){e.call(this),this.array=t,this.scheduler=n,n||1!==t.length||(this._isScalar=!0,this.value=t[0])}return r(t,e),t.create=function(e,n){return new t(e,n)},t.of=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var r=e[e.length-1];s.isScheduler(r)?e.pop():r=null;var i=e.length;return i>1?new t(e,r):1===i?new o.ScalarObservable(e[0],r):new a.EmptyObservable(r)},t.dispatch=function(e){var t=e.array,n=e.index,r=e.count,i=e.subscriber;if(n>=r)return void i.complete();i.next(t[n]),i.closed||(e.index=n+1,this.schedule(e))},t.prototype._subscribe=function(e){var n=this.array,r=n.length,i=this.scheduler;if(i)return i.schedule(t.dispatch,0,{array:n,index:0,count:r,subscriber:e});for(var o=0;o<r&&!e.closed;o++)e.next(n[o]);e.complete()},t}(i.Observable);t.ArrayObservable=u},function(e,t,n){"use strict";t.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}t.isScheduler=r},function(e,t,n){"use strict";var r=n(37),i=n(331),o=n(13),a=(n.n(o),r.a.createActionsFromNames(["show","hide"]));a.show.subscribe(function(e){var t=e.data,r=t.message,s=t.action,u=t.autoHideDuration,c=t.onActionTouchTap,l=t.translate;n.i(o.getInstance)().then(function(e){i.a.setState({message:l?e.i18n.getTranslation(r):r,action:s,autoHideDuration:u,onActionTouchTap:c||function(){a.hide()}})})}),a.hide.subscribe(function(){i.a.setState(null)}),t.a=a},,function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),u=n.n(s),c=n(118),l=n.n(c),p=n(43),f=n.n(p),d=n(77),h=n.n(d),m=n(39),y=n.n(m),b=n(34),v=n.n(b),g=n(84),w=n.n(g),O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.getTranslation=n.d2.i18n.getTranslation.bind(n.d2.i18n),r._onChange=r._onChange.bind(r),r.openDialog=r.openDialog.bind(r),r.closeDialog=r.closeDialog.bind(r),r.state={value:void 0!==r.props.value&&null!==r.props.value?r.props.value:"",options:r.getOptions(r.props.options,r.props.isRequired),dialogOpen:!1},r}return a(t,e),S(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({options:this.getOptions(e.options,e.isRequired)})}},{key:"getOptions",value:function(e){var t=this;arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.map(function(e){return{value:e.value,text:e.text}}).map(function(e){return e.text&&t.props.translateOptions&&(e.text=h()(e.text)?t.getTranslation(e.text.toLowerCase()):e.text),e})}},{key:"_onChange",value:function(e,t,n){this.props.onChange({target:{value:n}})}},{key:"openDialog",value:function(){this.setState({dialogOpen:!0,filterText:""})}},{key:"closeDialog",value:function(){this.setState({dialogOpen:!1})}},{key:"getOptionText",value:function(e){return e&&this.state.options.length?this.state.options.find(function(t){return t.value===e}).text:""}},{key:"renderDialogOption",value:function(e,t){var n=this;return u.a.createElement("div",{style:{cursor:"pointer",margin:8},key:e,onClick:function(){n.props.onChange({target:{value:e}}),n.setState({dialogOpen:!1,value:e})}},u.a.createElement("a",null,t))}},{key:"render",value:function(){var e=this,t=this.props,n=(t.onFocus,t.onBlur,t.labelText),i=(t.modelDefinition,t.models,t.referenceType,t.referenceProperty,t.isInteger,t.translateOptions,t.isRequired,t.options,t.model,t.limit),o=t.fullWidth,a=t.top,s=(t.translateLabel,t.style),c=r(t,["onFocus","onBlur","labelText","modelDefinition","models","referenceType","referenceProperty","isInteger","translateOptions","isRequired","options","model","limit","fullWidth","top","translateLabel","style"]);return s&&s.display&&"none"===s.display?null:this.state.options.length>i?u.a.createElement("div",{style:{width:o?"100%":"inherit",position:"relative",top:a||void 0}},u.a.createElement(y.a,{title:n,open:this.state.dialogOpen,onRequestClose:this.closeDialog,autoScrollBodyContent:!0,autoDetectWindowHeight:!0,actions:[u.a.createElement(v.a,{onClick:this.closeDialog,label:this.getTranslation("cancel")})]},u.a.createElement(f.a,{floatingLabelText:"Filter list",onChange:function(t,n){e.setState({filterText:n})},style:{marginBottom:16}}),!this.props.isRequired&&this.renderDialogOption(null,this.getTranslation("no_value")),this.state.options.filter(function(t){return!e.state.filterText||e.state.filterText.trim().toLocaleLowerCase().split(" ").every(function(e){return t.text.toLocaleLowerCase().includes(e.toLocaleLowerCase())})}).map(function(t){return e.renderDialogOption(t.value,t.text)})),u.a.createElement(f.a,O({},c,{fullWidth:o,value:this.getOptionText(this.state.value),onClick:this.openDialog,onChange:this.openDialog,floatingLabelText:n,inputStyle:{cursor:"pointer"}})),u.a.createElement("div",{style:{position:"absolute",top:36,right:10,color:"rgba(0,0,0,0.25)",cursor:"pointer"},className:"material-icons",onClick:this.openDialog},"open_in_new")):u.a.createElement(l.a,O({value:this.state.value,fullWidth:o},c,{onChange:this._onChange,floatingLabelText:n}),this.renderOptions())}},{key:"renderOptions",value:function(){var e=this.state.options.map(function(e,t){return u.a.createElement(w.a,{primaryText:e.text,key:t,value:e.value,label:e.text})});return this.props.isRequired||e.unshift([u.a.createElement(w.a,{primaryText:this.getTranslation("no_value"),key:"no_value",value:null,label:" "})]),e}}]),t}(u.a.Component);_.propTypes={defaultValue:u.a.PropTypes.oneOfType([u.a.PropTypes.string,u.a.PropTypes.number,u.a.PropTypes.bool]),onFocus:u.a.PropTypes.func,onBlur:u.a.PropTypes.func,options:u.a.PropTypes.array.isRequired,isRequired:u.a.PropTypes.bool,labelText:u.a.PropTypes.string.isRequired,translateOptions:u.a.PropTypes.bool,limit:u.a.PropTypes.number},_.defaultProps={limit:50},_.contextTypes={d2:u.a.PropTypes.any},t.a=_},function(e,t,n){"use strict";function r(e){var t=["program","programStages","programStageSections","programStageNotifications","availableDataElements","dataEntryFormForProgramStage"];return Object.keys(e).every(function(e){return n.i(o.some)(n.i(o.equals)(e),t)})}n.d(t,"b",function(){return O}),n.d(t,"c",function(){return S});var i=n(23),o=n(11),a=(n.n(o),n(111)),s=(n.n(a),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),u=n.i(o.get)("program"),c=n.i(o.get)("programStages"),l=n.i(o.get)("programStageSections"),p=n.i(o.get)("programStageNotifications"),f=n.i(o.get)("dataEntryFormForProgramStage"),d=function(e){return e&&e.isDirty()},h=a.getOwnedPropertyJSON,m=n.i(o.compose)(d,o.first,c),y=n.i(o.compose)(n.i(o.get)("id"),o.first,c),b=n.i(o.compose)(n.i(o.some)(d),l),v=function(e){return n.i(o.some)(d,n.i(o.get)(y(e),p(e)))},g=n.i(o.compose)(n.i(o.some)(d),o.values,f),w=n.i(o.compose)(d,u),O=n.i(o.compose)(n.i(o.some)(o.identity),n.i(o.map)(o.__,[w,m,b,v,g]),function(e){return function(t){return t(e)}}),S=function(e){var t={};if(w(e)&&(t.programs=[u(e)].map(h)),m(e)&&(t.programStages=c(e).map(h)),b(e)){var r=l(e);t.programStageSections=r.filter(d).map(h)}if(v(e)){var i=p(e);t.programNotificationTemplates=Object.keys(i).map(n.i(o.get)(o.__,i)).reduce(o.concat).filter(d).map(h)}try{if(g(e)){var a=f(e);t.dataEntryForms=Object.keys(a).map(n.i(o.get)(o.__,a)).filter(d).map(h)}}catch(e){console.error(e)}return t},_=i.a.create(),E=_.setState.bind(_);_.setState=function(e){if(!n.i(o.isObject)(e))throw new Error("You are attempting to set a state that is a non object");if(!r(e))throw new Error("You are attempting to set an invalid state onto the eventProgramStore");E(s({},_.getState(),e))},t.a=_},function(e,t,n){"use strict";function r(e){return e.d2&&e.d2.i18n&&n.i(u.isFunction)(e.d2.i18n.getTranslation)}function i(e,t){return n.i(u.isString)(e.children)?r(t)?a.a.createElement("span",null,t.d2.i18n.getTranslation(e.children)):(l.a.error("<Translate />: d2 is not available on the `context`"),a.a.createElement("span",null)):(l.a.error("<Translate /> requires a string to be passed as a child in order for it to translate. e.g. <Translate>string_to_translate</Translate>"),a.a.createElement("span",null))}var o=n(0),a=n.n(o),s=n(33),u=n(11),c=(n.n(u),n(15)),l=n.n(c);t.a=n.i(s.a)(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(54),o=(r(i),n(44)),a=(r(o),n(53)),s=r(a),u=function(e){return function(t){var n=(0,s.default)(t),r=function(t){return n(e(t))};return r}};t.default=u},,,,,,function(e,t,n){"use strict";t.__esModule=!0,t.createPath=t.parsePath=t.getQueryStringValueFromPath=t.stripQueryStringValueFromPath=t.addQueryStringValueToPath=void 0;var r=n(22),i=(function(e){e&&e.__esModule}(r),t.addQueryStringValueToPath=function(e,t,n){var r=o(e),i=r.pathname,s=r.search,u=r.hash;return a({pathname:i,search:s+(-1===s.indexOf("?")?"?":"&")+t+"="+n,hash:u})},t.stripQueryStringValueFromPath=function(e,t){var n=o(e),r=n.pathname,i=n.search,s=n.hash;return a({pathname:r,search:i.replace(new RegExp("([?&])"+t+"=[a-zA-Z0-9]+(&?)"),function(e,t,n){return"?"===t?t:n}),hash:s})},t.getQueryStringValueFromPath=function(e,t){var n=o(e),r=n.search,i=r.match(new RegExp("[?&]"+t+"=([a-zA-Z0-9]+)"));return i&&i[1]},function(e){var t=e.match(/^(https?:)?\/\/[^\/]*/);return null==t?e:e.substring(t[0].length)}),o=t.parsePath=function(e){var t=i(e),n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substring(o),t=t.substring(0,o));var a=t.indexOf("?");return-1!==a&&(n=t.substring(a),t=t.substring(0,a)),""===t&&(t="/"),{pathname:t,search:n,hash:r}},a=t.createPath=function(e){if(null==e||"string"==typeof e)return e;var t=e.basename,n=e.pathname,r=e.search,i=e.hash,o=(t||"")+n;return r&&"?"!==r&&(o+=r),i&&(o+=i),o}},function(e,t,n){"use strict";function r(e){return null==e||l.a.isValidElement(e)}function i(e){return r(e)||Array.isArray(e)&&e.every(r)}function o(e,t){return p({},e,t)}function a(e){var t=e.type,n=o(t.defaultProps,e.props);if(n.children){var r=s(n.children,n);r.length&&(n.childRoutes=r),delete n.children}return n}function s(e,t){var n=[];return l.a.Children.forEach(e,function(e){if(l.a.isValidElement(e))if(e.type.createRouteFromReactElement){var r=e.type.createRouteFromReactElement(e,t);r&&n.push(r)}else n.push(a(e))}),n}function u(e){return i(e)?e=s(e):e&&!Array.isArray(e)&&(e=[e]),e}t.a=i,t.c=a,t.b=u;var c=n(0),l=n.n(c),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";var r=n(1054);n.d(t,"b",function(){return r.a});var i=(n(453),n(1053));n.d(t,"a",function(){return i.a});n(454)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(1),o=function(e){function t(t){e.call(this),this.scheduler=t}return r(t,e),t.create=function(e){return new t(e)},t.dispatch=function(e){e.subscriber.complete()},t.prototype._subscribe=function(e){var n=this.scheduler;if(n)return n.schedule(t.dispatch,0,{subscriber:e});e.complete()},t}(i.Observable);t.EmptyObservable=o},,function(e,t,n){"use strict";function r(e,t){return e?{size:119,margin:10.5}:t?{size:29.75,margin:2.625}:{size:59.5,margin:5.25}}function i(e){var t=e.large,n=void 0!==t&&t,i=e.small,o=void 0!==i&&i,s=e.style,c=r(n,o);return a.a.createElement(u.a,{mode:"indeterminate",size:c.size,style:Object.assign({margin:c.margin},s)})}t.a=i;var o=n(0),a=n.n(o),s=n(265),u=n.n(s);i.propTypes={large:o.PropTypes.bool,small:o.PropTypes.bool}},,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.mapPropsStreamWithConfig=void 0;var i=n(164),o=r(i),a=n(53),s=r(a),u=n(279),c=n(54),l=(r(c),n(44)),p=(r(l),n(200)),f=function(e){return e},d=t.mapPropsStreamWithConfig=function(e){var t=(0,u.componentFromStreamWithConfig)({fromESObservable:f,toESObservable:f});return function(n){return function(r){var i=(0,s.default)(r),a=e.fromESObservable,u=e.toESObservable;return t(function(e){var t;return t={subscribe:function(t){var r=u(n(a(e))).subscribe({next:function(e){return t.next(i(e))}});return{unsubscribe:function(){return r.unsubscribe()}}}},t[o.default]=function(){return this},t})}}},h=function(e){var t=d(p.config)(e);return t};t.default=h},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function o(e){return!(!e||!e.modelDefinition)&&-1!==Object.keys(S).indexOf(e.modelDefinition.name)}function a(e,t){return S[e.modelDefinition.name](e,t)}var s=n(37),u=n(117),c=n(15),l=n.n(c),p=n(13),f=(n.n(p),n(511)),d=n(509),h=n(14),m=(n.n(h),n(111)),y=(n.n(m),n(11)),b=(n.n(y),n(67)),v=this,g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w=n.i(y.compose)(n.i(y.filter)(y.identity),n.i(y.map)(n.i(y.get)("message")),y.flatten,n.i(y.map)("errorReports"),y.flatten,n.i(y.map)("objectReports"),n.i(y.get)("typeReports")),O=s.a.createActionsFromNames(["getObjectOfTypeById","getObjectOfTypeByIdAndClone","saveObject","afterSave","saveAndRedirectToList","update","updateAttribute"]),S={dataElement:function(e,t){var r=d.a.state.remove.filter(function(e){return e}).map(function(e){return"dataElementGroups/"+e+"/dataElements/"+t}),i=Array.from(new Set(r).values()),o=Object.keys(d.a.state.dataElementGroupValues).map(function(e){return d.a.state.dataElementGroupValues[e]}).filter(function(e){return e}).map(function(e){return"dataElementGroups/"+e+"/dataElements/"+t}),a=n.i(p.getInstance)().then(function(e){var t=e.Api.getApi();return Promise.all(i.map(function(e){return t.delete(e)}))}),s=n.i(p.getInstance)().then(function(e){var t=e.Api.getApi();return Promise.all(o.map(function(e){return t.post(e)}))});return h.Observable.fromPromise(Promise.all([a,s]))},indicator:function(e,t){var r=f.a.state.remove.filter(function(e){return e}).map(function(e){return"indicatorGroups/"+e+"/indicators/"+t}),i=Array.from(new Set(r).values()),o=Object.keys(f.a.state.indicatorGroupValues).map(function(e){return f.a.state.indicatorGroupValues[e]}).filter(function(e){return e}).map(function(e){return"indicatorGroups/"+e+"/indicators/"+t}),a=n.i(p.getInstance)().then(function(e){var t=e.Api.getApi();return Promise.all(i.map(function(e){return t.delete(e)}))}),s=n.i(p.getInstance)().then(function(e){var t=e.Api.getApi();return Promise.all(o.map(function(e){return t.post(e)}))});return h.Observable.fromPromise(Promise.all([a,s]))}};O.getObjectOfTypeById.subscribe(function(e){var t=e.data,n=e.complete,r=e.error;u.a.getObjectOfTypeById(t).subscribe(n,r)}),O.getObjectOfTypeByIdAndClone.subscribe(function(e){var t=e.data,n=e.complete,r=e.error;u.a.getObjectOfTypeByIdAndClone(t).subscribe(n,r)});var _=["legendSet","dataSet","organisationUnit","programRule","programRuleVariable"];O.saveObject.filter(function(e){var t=e.data;return!_.includes(t.modelType)}).subscribe(function(e){var t=function(t){if("Response was not a WebMessage with the expected format"===t)return void e.error("Failed to save: Failed to provide proper error message: Everything is broken");e.error(t)},n=function(n){o(u.a.state)?(l.a.debug("Handling after save"),a(u.a.state,u.a.state.id).subscribe(function(){return e.complete("success")},t)):e.complete("success")};return u.a.save(e.data.id).subscribe(n,t)},function(e){l.a.error(e)}),O.saveObject.filter(function(e){return"organisationUnit"===e.data.modelType}).subscribe(function(){var e=i(regeneratorRuntime.mark(function e(t){var r,i,o=t.complete,a=t.error;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.i(p.getInstance)();case 2:r=e.sent,i=u.a.getState(),i.isDirty()||i.dataSets.isDirty()?i.save().then(function(){return i.dataSets.save()},function(e){l.a.error(e),b.a.show({message:Array.isArray(e.messages)?e.messages[0].message:r.i18n.getTranslation("failed_to_save_organisation_unit"),action:"ok"}),a(e)}).then(function(){return o("success")},function(e){return a(e)}):o("no_changes_to_be_saved");case 5:case"end":return e.stop()}},e,v)}));return function(t){return e.apply(this,arguments)}}(),function(e){l.a.error(e)}),O.saveObject.filter(function(e){return"legendSet"===e.data.modelType}).subscribe(function(){var e=i(regeneratorRuntime.mark(function e(t){var r,i,o,a,s,c,f=t.complete,d=t.error;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.i(m.getOwnedPropertyJSON)(u.a.getState()),i={legendSets:[r]},e.next=4,n.i(p.getInstance)();case 4:return o=e.sent,a=o.Api.getApi(),e.prev=6,e.next=9,a.post("metadata",i);case 9:s=e.sent,"ERROR"!==s.status?f("save_success"):(c=w(s),d(o.i18n.getTranslation("could_not_save_legend_set_($$message$$)",{message:n.i(y.head)(c)||"Unknown error!"}))),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(6),d(o.i18n.getTranslation("could_not_save_legend_set")),l.a.error(e.t0);case 17:case"end":return e.stop()}},e,v,[[6,13]])}));return function(t){return e.apply(this,arguments)}}(),function(e){return l.a.error(e)}),O.saveObject.filter(function(e){return"dataSet"===e.data.modelType}).subscribe(function(){var e=i(regeneratorRuntime.mark(function e(t){var i,o,a,s,c,f,d,h,b,O=t.complete,S=t.error;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.i(p.getInstance)();case 2:if(i=e.sent,o=i.Api.getApi(),a=u.a.getState(),s=n.i(m.getOwnedPropertyJSON)(a),s.id){e.next=11;break}return e.next=9,o.get("system/uid",{limit:1}).then(function(e){return e.codes[0]});case 9:c=e.sent,s.id=c;case 11:return f=Array.from(a.dataSetElements?a.dataSetElements.values():[]).map(function(e){var t=e.dataSet,n=e.dataElement,i=r(e,["dataSet","dataElement"]);return g({dataSet:g({},t,{id:t.id||s.id})},i,{dataElement:{id:n.id}})}),s.dataSetElements=f,d={dataSets:[s]},e.prev=14,e.next=17,o.post("metadata",d);case 17:h=e.sent,"OK"===h.status?O("save_success"):(b=w(h),S(i.i18n.getTranslation("could_not_save_data_set_($$message$$)",{message:n.i(y.head)(b)||"Unknown error!"}))),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(14),S(i.i18n.getTranslation("could_not_save_data_set")),l.a.error(e.t0);case 25:case"end":return e.stop()}},e,v,[[14,21]])}));return function(t){return e.apply(this,arguments)}}()),O.saveObject.filter(function(e){return"programRule"===e.data.modelType}).subscribe(function(){var e=i(regeneratorRuntime.mark(function e(t){var r,i,o,a,s,c,f=t.complete,d=t.error;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.i(p.getInstance)();case 2:if(r=e.sent,i=r.Api.getApi(),u.a.getState().program){e.next=7;break}return d(r.i18n.getTranslation("could_not_save_program_rule_no_program_specified")),e.abrupt("return");case 7:if(e.t0=u.a.getState().id,e.t0){e.next=12;break}return e.next=11,i.get("/system/id");case 11:e.t0=e.sent.codes[0];case 12:return o=e.t0,a={programRules:[Object.assign(n.i(m.getOwnedPropertyJSON)(u.a.getState()),{program:{id:u.a.getState().program.id},id:o})],programRuleActions:u.a.getState().programRuleActions.toArray().map(function(e){return Object.assign(e,{programRule:{id:o}})}).map(m.getOwnedPropertyJSON)},e.prev=14,e.next=17,i.post("metadata",a);case 17:s=e.sent,"OK"===s.status?f("save_success"):(c=w(s),d(r.i18n.getTranslation("could_not_save_program_rule_($$message$$)",{message:n.i(y.head)(c)||"Unknown error!"}))),e.next=25;break;case 21:e.prev=21,e.t1=e.catch(14),d(r.i18n.getTranslation("could_not_save_program_rule")),l.a.error(e.t1);case 25:case"end":return e.stop()}},e,v,[[14,21]])}));return function(t){return e.apply(this,arguments)}}()),O.saveObject.filter(function(e){return"programRuleVariable"===e.data.modelType}).subscribe(function(){var e=i(regeneratorRuntime.mark(function e(t){var r,i,o,a=t.complete,s=t.error;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.a.getState(),r.program&&r.program.id){e.next=7;break}return e.next=4,n.i(p.getInstance)();case 4:return i=e.sent,s(i.i18n.getTranslation("could_not_save_program_rule_variable_no_program_specified")),e.abrupt("return");case 7:o=Object.assign(r,{program:{id:r.program.id},programStage:r.programStage?{id:r.programStage.id}:void 0,dataElement:r.dataElement?{id:r.dataElement.id}:void 0,trackedEntityAttribute:r.trackedEntityAttribute?{id:r.trackedEntityAttribute.id}:void 0}),o.save().then(function(){return a("save_success")}).catch(function(e){s(e.messages?e.messages[0].message:e)});case 9:case"end":return e.stop()}},e,v)}));return function(t){return e.apply(this,arguments)}}()),O.update.subscribe(function(e){var t=e.data,n=t.fieldName,r=t.value,i=u.a.getState();if(i){if(i.attributes&&Object.keys(i.attributes).indexOf(n)>=0)return l.a.debug(n+" is a custom attribute. Setting "+n+" to "+r),i.attributes[n]=r,l.a.debug("Value is now: "+i.attributes[n]),u.a.setState(i),e.complete();i[n]&&i[n].constructor&&"ModelCollectionProperty"===i[n].constructor.name?l.a.debug("Not updating anything"):(l.a.debug("Change "+n+" to "+r),i[n]=r,l.a.debug("Value is now: "+i.dataValues[n])),u.a.setState(i),e.complete()}else l.a.error("modelToEdit does not exist"),e.error()}),O.updateAttribute.subscribe(function(e){var t=e.data,n=t.attributeName,r=t.value,i=u.a.getState();i.attributes[n]=r,u.a.setState(i),e.complete()}),t.a=O},function(e,t,n){"use strict";function r(e){return Math.floor(Math.random()*e)}function i(){for(var e=s.charAt(r(s.length)),t=1;t<l;t+=1)e+=u.charAt(r(c));return e}function o(e){return null!=e&&p.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.generateUid=i,t.isValidUid=o;var a="abcdefghijklmnopqrstuvwxyz",s=a.concat(a.toUpperCase()),u="0123456789"+s,c=u.length,l=11,p=/^[a-zA-Z]{1}[a-zA-Z0-9]{10}$/},,,,,,function(e,t,n){function r(e,t){var n=o(e,t);return i(n)?n:void 0}var i=n(838),o=n(860);e.exports=r},,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(0),c=n(54),l=(r(c),n(44)),p=(r(l),n(53)),f=r(p),d=function(e,t,n){return function(r){var c=(0,f.default)(r),l=function(r){function u(){var e,t,a;i(this,u);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return e=t=o(this,r.call.apply(r,[this].concat(c))),t.state={stateValue:"function"==typeof n?n(t.props):n},t.updateStateValue=function(e,n){return t.setState(function(t){var n=t.stateValue;return{stateValue:"function"==typeof e?e(n):e}},n)},a=e,o(t,a)}return a(u,r),u.prototype.render=function(){var n;return c(s({},this.props,(n={},n[e]=this.state.stateValue,n[t]=this.updateStateValue,n)))},u}(u.Component);return l}};t.default=d},function(e,t,n){"use strict";function r(e,t){var n;if(n="function"==typeof e?e:function(){return e},"function"==typeof t)return this.lift(new o(n,t));var r=Object.create(this,i.connectableObservableDescriptor);return r.source=this,r.subjectFactory=n,r}var i=n(461);t.multicast=r;var o=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(e);return i.add(t.subscribe(r)),i},e}();t.MulticastOperator=o},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o={contextTypes:{d2:i.a.PropTypes.object.isRequired},getTranslation:function(e){return this.context.d2.i18n.getTranslation(e)}};t.a=o},function(e,t,n){"use strict";(function(e){function r(e){a.b.push(e)}function i(t){r(t),e.scrollTo&&e.scrollTo(0,0)}function o(){a.b.goBack()}t.c=r,t.a=i,t.b=o;var a=n(187)}).call(t,n(28))},,,,,,,,,function(e,t,n){"use strict";function r(e){return e.replace(/\/{1,}$/,"")}function i(e){var t=e.protocol,n=e.host,i=e.pathname;return r(t+"//"+n+(/^\//.test(i)?i:"/"+i))}function o(e){var t=document.createElement("a");return e.Api?(t.href=e.Api.getApi().baseUrl.replace(/\/api(?:\/2[3-9])?\/?$/i,""),t.host||(t.host=window.location.host),i(t)):(console&&console.info("Can not find d2 baseUrl, falling back to one folder up in the current location"),t.href=document.location.pathname+"/../",i(t))}t.a=o},function(e,t,n){"use strict";function r(e){return function(t){return-1===e.indexOf(t)}}function i(e){return function(t){return!r(e)(t)}}function o(e){return function(t){return e.indexOf(t)>=0}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a={},s=e.getCollectionChildrenPropertyNames().filter(function(e){return"attributeValues"!==e}),l=Object.keys(e.modelDefinition.modelValidations).filter(function(e){return t.indexOf(e)>=0}).filter(function(t){return void 0!==e.dataValues[t]&&null!==e.dataValues[t]});return l.filter(r(s)).filter(function(t){return!o(e.getReferenceProperties())(t)}).forEach(function(t){a[t]=e.dataValues[t]}),l.filter(r(s)).filter(o(e.getReferenceProperties())).forEach(function(t){a[t]={id:e.dataValues[t].id}}),l.filter(i(s)).forEach(function(t){if(c.has(t))return void(a[t]=Array.from(e.dataValues[t]));var r=Array.isArray(e.dataValues[t])?e.dataValues[t]:Array.from(e.dataValues[t].values());if(-1!==e.getEmbeddedObjectCollectionPropertyNames().indexOf(t))return void(a[t]=r);a[t]=r.filter(function(e){return e.id}).map(function(e){return n&&u(e.clone)?e.clone():{id:e.id}})}),a}function s(e){return a(e,e.modelDefinition.getOwnedPropertyNames())}Object.defineProperty(t,"__esModule",{value:!0}),t.getJSONForProperties=a,t.getOwnedPropertyJSON=s;var u=function(e){return"function"==typeof e},c=new Set(["aggregationLevels","grantTypes","translations","deliveryChannels","redirectUris"])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.locationsAreEqual=t.statesAreEqual=t.createLocation=t.createQuery=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(24),s=r(a),u=n(22),c=(r(u),n(78)),l=n(173),p=(t.createQuery=function(e){return o(Object.create(null),e)},t.createLocation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.POP,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r="string"==typeof e?(0,c.parsePath)(e):e;return{pathname:r.pathname||"/",search:r.search||"",hash:r.hash||"",state:r.state,action:t,key:n}},function(e){return"[object Date]"===Object.prototype.toString.call(e)}),f=t.statesAreEqual=function e(t,n){if(t===n)return!0;var r=void 0===t?"undefined":i(t);if(r!==(void 0===n?"undefined":i(n)))return!1;if("function"===r&&(0,s.default)(!1),"object"===r){if(p(t)&&p(n)&&(0,s.default)(!1),!Array.isArray(t)){var o=Object.keys(t),a=Object.keys(n);return o.length===a.length&&o.every(function(r){return e(t[r],n[r])})}return Array.isArray(n)&&t.length===n.length&&t.every(function(t,r){return e(t,n[r])})}return!1};t.locationsAreEqual=function(e,t){return e.key===t.key&&e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&f(e.state,t.state)}},,function(e,t,n){"use strict";function r(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function i(e){for(var t="",n=[],i=[],o=void 0,a=0,s=/:([a-zA-Z_$][a-zA-Z0-9_$]*)|\*\*|\*|\(|\)|\\\(|\\\)/g;o=s.exec(e);)o.index!==a&&(i.push(e.slice(a,o.index)),t+=r(e.slice(a,o.index))),o[1]?(t+="([^/]+)",n.push(o[1])):"**"===o[0]?(t+="(.*)",n.push("splat")):"*"===o[0]?(t+="(.*?)",n.push("splat")):"("===o[0]?t+="(?:":")"===o[0]?t+=")?":"\\("===o[0]?t+="\\(":"\\)"===o[0]&&(t+="\\)"),i.push(o[0]),a=s.lastIndex;return a!==e.length&&(i.push(e.slice(a,e.length)),t+=r(e.slice(a,e.length))),{pattern:e,regexpSource:t,paramNames:n,tokens:i}}function o(e){return p[e]||(p[e]=i(e)),p[e]}function a(e,t){"/"!==e.charAt(0)&&(e="/"+e);var n=o(e),r=n.regexpSource,i=n.paramNames,a=n.tokens;"/"!==e.charAt(e.length-1)&&(r+="/?"),"*"===a[a.length-1]&&(r+="$");var s=t.match(new RegExp("^"+r,"i"));if(null==s)return null;var u=s[0],c=t.substr(u.length);if(c){if("/"!==u.charAt(u.length-1))return null;c="/"+c}return{remainingPathname:c,paramNames:i,paramValues:s.slice(1).map(function(e){return e&&decodeURIComponent(e)})}}function s(e){return o(e).paramNames}function u(e,t){t=t||{};for(var n=o(e),r=n.tokens,i=0,a="",s=0,u=[],c=void 0,p=void 0,f=void 0,d=0,h=r.length;d<h;++d)if("*"===(c=r[d])||"**"===c)f=Array.isArray(t.splat)?t.splat[s++]:t.splat,null!=f||i>0||l()(!1),null!=f&&(a+=encodeURI(f));else if("("===c)u[i]="",i+=1;else if(")"===c){var m=u.pop();i-=1,i?u[i-1]+=m:a+=m}else if("\\("===c)a+="(";else if("\\)"===c)a+=")";else if(":"===c.charAt(0))if(p=c.substring(1),f=t[p],null!=f||i>0||l()(!1),null==f){if(i){u[i-1]="";for(var y=r.indexOf(c),b=r.slice(y,r.length),v=-1,g=0;g<b.length;g++)if(")"==b[g]){v=g;break}v>0||l()(!1),d=y+v-1}}else i?u[i-1]+=encodeURIComponent(f):a+=encodeURIComponent(f);else i?u[i-1]+=c:a+=c;return i<=0||l()(!1),a.replace(/\/+/g,"/")}t.b=a,t.a=s,t.c=u;var c=n(24),l=n.n(c),p=Object.create(null)},function(e,t,n){"use strict";var r=n(22);n.n(r)},,function(e,t,n){"use strict";var r=n(322);t.a=r.b.create()},,function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t,n){function r(e){return null==e?void 0===e?u:s:c&&c in Object(e)?o(e):a(e)}var i=n(124),o=n(859),a=n(883),s="[object Null]",u="[object Undefined]",c=i?i.toStringTag:void 0;e.exports=r},function(e,t,n){function r(e){return null!=e&&o(e.length)&&!i(e)}var i=n(406),o=n(263);e.exports=r},,function(e,t,n){var r=n(58),i=r.Symbol;e.exports=i},function(e,t,n){"use strict";n.d(t,"i",function(){return r}),n.d(t,"g",function(){return i}),n.d(t,"f",function(){return o}),n.d(t,"j",function(){return a}),n.d(t,"h",function(){return s}),n.d(t,"m",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return p}),n.d(t,"d",function(){return f}),n.d(t,"a",function(){return d}),n.d(t,"e",function(){return h}),n.d(t,"k",function(){return m}),n.d(t,"l",function(){return y});var r="NOTIFICATION_STAGE_REMOVE",i="NOTIFICATION_STAGE_SET_EDIT_MODEL",o="NOTIFICATION_STAGE_SET_VALUE",a="NOTIFICATION_STAGE_SAVE",s="NOTIFICATION_STAGE_SAVE_ERROR",u="NOTIFICATION_STAGE_SET_ADD_MODEL",c=function(e){return function(t){return{type:e,payload:t}}},l=function(e){return{type:r,payload:e}},p=(c("NOTIFICATION_STAGE_REMOVE_SUCCESS"),c("NOTIFICATION_STAGE_REMOVE_ERROR"),c(i)),f=c(u),d=function(e,t){return{type:o,payload:{property:e,value:t}}},h=function(e){return{type:a,payload:e}},m=c("NOTIFICATION_STAGE_SAVE_SUCCESS"),y=c(s)},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e){return!0===e||"true"===e}function o(e){var t=e.onChange,n=e.value;return function(){t({target:{value:!i(n)}})}}var a=n(0),s=n.n(a),u=n(211),c=n.n(u),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(e){var t=e.value,n=(e.errorStyle,e.errorText,e.labelText),a=(e.modelDefinition,e.models,e.referenceType,e.referenceProperty,e.isInteger,e.multiLine,e.fullWidth,e.translateOptions,e.isRequired,e.options,e.model,r(e,["value","errorStyle","errorText","labelText","modelDefinition","models","referenceType","referenceProperty","isInteger","multiLine","fullWidth","translateOptions","isRequired","options","model"]));return s.a.createElement("div",{style:{marginTop:24,marginBottom:0}},s.a.createElement(c.a,l({onClick:o(e)},a,{label:n,defaultChecked:i(t)})))};p.propTypes={onChange:a.PropTypes.func.isRequired,labelText:a.PropTypes.string.isRequired,value:a.PropTypes.oneOfType([a.PropTypes.bool,a.PropTypes.oneOf(["true","false"])])},t.a=p},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),u=n.n(s),c=n(45),l=n.n(c),p=n(37),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e){function t(e){var n;i(this,t);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];var u=o(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this,e].concat(a)));return u.state={fieldValue:e.value||0===e.value?e.value:""},u.updateOnChange=p.a.create("updateOnKeyUp - "+e.name),u._onValueChanged=u._onValueChanged.bind(u),u}return a(t,e),d(t,[{key:"componentDidMount",value:function(){var e=this;this.subscription=this.updateOnChange.debounceTime(300).map(function(e){return e.data}).distinctUntilChanged().subscribe(function(t){e.props.onChange({target:{value:t}})})}},{key:"componentWillUnmount",value:function(){this.subscription&&this.subscription.unsubscribe&&this.subscription.unsubscribe()}},{key:"componentWillReceiveProps",value:function(e){e.value!==this.props.value&&this.setState({fieldValue:e.value?e.value:""})}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.labelText,i=e.multiLine,o=(e.model,e.modelDefinition,e.models,e.referenceType,e.referenceProperty,e.isInteger,e.translateOptions,e.isRequired,e.options,r(e,["label","labelText","multiLine","model","modelDefinition","models","referenceType","referenceProperty","isInteger","translateOptions","isRequired","options"])),a={lineHeight:i?"48px":"12px",marginTop:i?-16:-12};return u.a.createElement(l.a,f({errorStyle:a,label:t,multiLine:i},o,{value:this.state.fieldValue,floatingLabelText:n,onChange:this._onValueChanged}))}},{key:"_onValueChanged",value:function(e){e.preventDefault(),e.stopPropagation(),this.setState({fieldValue:e.currentTarget.value}),this.updateOnChange(e.currentTarget.value)}}]),t}(s.Component);t.a=h,h.propTypes={labelText:u.a.PropTypes.string.isRequired,multiLine:u.a.PropTypes.bool}},,,,,function(e,t,n){"use strict";function r(e,t){return t.map(function(t){return Object.assign({},t,{name:e(t.name)})})}n.d(t,"c",function(){return h}),t.d=r,n.d(t,"f",function(){return b}),n.d(t,"e",function(){return T}),n.d(t,"b",function(){return C});var i=n(13),o=(n.n(i),n(11)),a=(n.n(o),n(706)),s=n(361),u=n(14),c=(n.n(u),n(110)),l=n.i(o.curry)(function(e,t){return e.i18n.getTranslation(t)}),p={currentUser:{userSettings:{}}},f=u.Observable.fromPromise(n.i(i.getInstance)()).catch(u.Observable.of(p)),d=f.map(n.i(o.get)("currentUser")),h=u.Observable.combineLatest(f,u.Observable.of(l),function(e,t){return t(e)}),m=function(e){return e.replace(/^\.\./,"")},y=function(e){return/^(?:https?:)?\/\//.test(e)},b=c.a,v=n.i(o.curry)(function(e,t){return y(t)?t:e+m(t)}),g=function(e){return e.icon||"/icons/program.png"},w=n.i(o.curry)(function(e,t){return Object.assign({},t,{icon:v(e,g(t))})}),O=n.i(o.curry)(function(e,t){return Object.assign({},t,{action:v(e,t.defaultAction)})}),S=function(e){return n.i(o.compose)(w(e),O(e))},_=function(e){return Object.assign({},e,{label:e.displayName||e.name})},E=n.i(o.pick)(["action","icon","description","label","name","parentApp"]),x=function(e){return n.i(o.compose)(E,S(e),_)},T=function(e,t){return n.i(o.map)(x(e),t)},P=u.Observable.combineLatest(h,s.a,r).combineLatest(f,function(e,t){return{items:e,d2:t}}).map(function(e){var t=e.items,n=e.d2;return T(b(n),t)}).catch(u.Observable.of([])),C=s.b.combineLatest(f,function(e,t){return{items:e,d2:t}}).map(function(e){var t=e.items,n=e.d2;return T(b(n),t)}).catch(u.Observable.of([])),j=u.Observable.combineLatest(C,P,d,a.a,function(e,t,n,r){return{appItems:e,profileItems:t,currentUser:n,settings:r}});t.a=j},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){throw new Error(e)}function o(e,t){return function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.apply(this,[t].concat(r))}}function a(e,t,n){var r={enumerable:!0,configurable:!1,writable:!1,value:n};Object.defineProperty(e,t,r)}function s(e,t){return Object.keys(t).filter(function(e){return t.hasOwnProperty(e)}).forEach(function(n){e[n]=t[n]}),e}function u(e){return function(t){if(t)return t[e]}}function c(e,t){if(!t||!e)return e;var n=/api\/(2[3-9])/,r=t.match(n),i=r&&r[1],o=e&&!n.test(e);if(i&&o){var a=r[1];return e.replace(/api/,"api/"+a)}return e}function l(e){return encodeURIComponent(e).replace(h,decodeURIComponent)}Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.throwError=i,t.curry=o,t.addLockedProperty=a,t.copyOwnProperties=s,t.pick=u,t.updateAPIUrlWithBaseUrlVersionNumber=c,t.customEncodeURIComponent=l;var f=(t.Deferred=function(){function e(){var t=this;r(this,e),this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return p(e,null,[{key:"create",value:function(){return new e}}]),e}(),",&$=/;:"),d=f.split("").map(function(e){return encodeURIComponent(e)}),h=new RegExp("(?:"+d.join("|")+")","g")},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(25),a=n(248),s=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(){function e(t){var n=this;r(this,e),(0,o.checkType)(t,"object","modelDefinition"),(0,o.checkType)(t.modelProperties,"object","modelProperties"),Object.defineProperty(this,"modelDefinition",{enumerable:!1,configurable:!1,writable:!1,value:t}),Object.defineProperty(this,"dirty",{enumerable:!1,configurable:!1,writable:!0,value:!1}),Object.defineProperty(this,"dataValues",{enumerable:!1,configurable:!0,writable:!0,value:{}});var i={},s=t.attributeProperties;(function(e){return e&&!!Object.keys(e).length})(s)&&(Object.defineProperty(this,"attributes",{enumerable:!1,value:i}),Object.keys(s).forEach(function(e){Object.defineProperty(i,e,{enumerable:!0,get:function(){if(Array.isArray(n.attributeValues))return n.attributeValues.filter(function(t){return t.attribute.name===e}).reduce(function(e,t){return t.value},void 0)},set:function(t){n.attributeValues||(n.attributeValues=[]);var r=n.attributeValues.filter(function(t){return t.attribute.name===e}).reduce(function(e,t){return t},void 0);r&&r.value===t||(r?(void 0!==t&&null!==t&&""!==t||(n.attributeValues=n.attributeValues.filter(function(e){return e!==r})),r.value=t):n.attributeValues.push({value:t,attribute:{id:s[e].id,name:s[e].name}}),n.dirty=!0)}})})),Object.defineProperties(this,t.modelProperties),this[a.DIRTY_PROPERTY_LIST]=new Set([])}return i(e,null,[{key:"create",value:function(t){return new e(t)}}]),e}();u.prototype=s.default,t.default=u},function(e,t,n){function r(e){return"symbol"==typeof e||o(e)&&i(e)==a}var i=n(121),o=n(120),a="[object Symbol]";e.exports=r},,,,function(e,t,n){"use strict";function r(e,t,n){if(e[t])return new Error("<"+n+'> should not have a "'+t+'" prop')}t.c=r,n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"d",function(){return u});var i=n(2),o=(n.n(i),n.i(i.shape)({listen:i.func.isRequired,push:i.func.isRequired,replace:i.func.isRequired,go:i.func.isRequired,goBack:i.func.isRequired,goForward:i.func.isRequired}),n.i(i.oneOfType)([i.func,i.string])),a=n.i(i.oneOfType)([o,i.object]),s=n.i(i.oneOfType)([i.object,i.element]),u=n.i(i.oneOfType)([s,n.i(i.arrayOf)(s)])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.arrayMove=t.sortableHandle=t.sortableElement=t.sortableContainer=t.SortableHandle=t.SortableElement=t.SortableContainer=void 0;var i=n(188);Object.defineProperty(t,"arrayMove",{enumerable:!0,get:function(){return i.arrayMove}});var o=n(1043),a=r(o),s=n(1044),u=r(s),c=n(1045),l=r(c);t.SortableContainer=a.default,t.SortableElement=u.default,t.SortableHandle=l.default,t.sortableContainer=a.default,t.sortableElement=u.default,t.sortableHandle=l.default},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}n.d(t,"a",function(){return S}),n.d(t,"d",function(){return E}),n.d(t,"e",function(){return T}),n.d(t,"c",function(){return C}),n.d(t,"b",function(){return r});var i=n(0),o=n.n(i),a=n(251),s=n.n(a),u=n(205),c=(n.n(u),n(346)),l=(n.n(c),n(164)),p=n.n(l),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},y=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},b=function(e,t,n,r,i){if(!e&&t)return n(i?h({},r,{children:i}):r);var a=n;return i?o.a.createElement(a,r,i):o.a.createElement(a,r)},v=function(e){return Boolean(e&&e.prototype&&"object"===f(e.prototype.isReactComponent))},g=function(e){return Boolean(!("function"!=typeof e||v(e)||e.defaultProps||e.contextTypes))},w=function(e){var t=g(e);return function(n,r){return b(!1,t,e,n,r)}},O=function(e){return function(t){var n=w(t),r=function(t){return n(e(t))};return r}},S=function(e){var t=O(function(t){return h({},t,"function"==typeof e?e(t):e)});return t},_=function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r];e.hasOwnProperty(i)&&(n[i]=e[i])}return n},E=(Object.keys,function(e,t,n){return function(r){var o=w(r),a=function(r){function i(){var e,t,o;d(this,i);for(var a=arguments.length,s=Array(a),u=0;u<a;u++)s[u]=arguments[u];return e=t=y(this,r.call.apply(r,[this].concat(s))),t.state={stateValue:"function"==typeof n?n(t.props):n},t.updateStateValue=function(e,n){return t.setState(function(t){var n=t.stateValue;return{stateValue:"function"==typeof e?e(n):e}},n)},o=e,y(t,o)}return m(i,r),i.prototype.render=function(){var n;return o(h({},this.props,(n={},n[e]=this.state.stateValue,n[t]=this.updateStateValue,n)))},i}(i.Component);return a}}),x=function(e){function t(){return d(this,t),y(this,e.apply(this,arguments))}return m(t,e),t.prototype.render=function(){return null},t}(i.Component);x.displayName="Nothing";var T=function(e){return x},P=function(e){return function(t){var n=w(t),r=function(t){function r(){return d(this,r),y(this,t.apply(this,arguments))}return m(r,t),r.prototype.shouldComponentUpdate=function(t){return e(this.props,t)},r.prototype.render=function(){return n(this.props)},r}(i.Component);return r}},C=function(e){var t=P(function(t,n){return!s()(_(n,e),_(t,e))});return t},j={fromESObservable:null,toESObservable:null},k={fromESObservable:function(e){return"function"==typeof j.fromESObservable?j.fromESObservable(e):e},toESObservable:function(e){return"function"==typeof j.toESObservable?j.toESObservable(e):e}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(54),a=(r(o),n(44)),s=(r(a),n(53)),u=r(s),c=function(e){return function(t){var n=(0,u.default)(t),r=function(e,t){return n(i({},e,t))};return r.contextTypes=e,r}};t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(0),c=n(53),l=r(c),p=n(54),f=(r(p),n(44)),d=(r(f),function(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r],r));return n}),h=function(e){return function(t){var n=(0,l.default)(t),r=function(e){function t(){var n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=o(this,e.call.apply(e,[this].concat(u))),c.call(r),a=n,o(r,a)}return a(t,e),t.prototype.componentWillReceiveProps=function(){this.cachedHandlers={}},t.prototype.render=function(){return n(s({},this.props,this.handlers))},t}(u.Component),c=function(){var t=this;this.cachedHandlers={},this.handlers=d("function"==typeof e?e(this.props):e,function(e,n){return function(){var r=t.cachedHandlers[n];if(r)return r.apply(void 0,arguments);var i=e(t.props);return t.cachedHandlers[n]=i,i.apply(void 0,arguments)}})};return r}};t.default=h},function(e,t,n){"use strict";var r=n(1),i=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return r.Observable.of(this.value);case"E":return r.Observable.throw(this.error);case"C":return r.Observable.empty()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):this.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return this.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();t.Notification=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(31),o=n(1311),a=function(e){function t(t,n){e.call(this,t,n),this.scheduler=t,this.work=n,this.pending=!1}return r(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e,this.pending=!0;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),i.root.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){return void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending?t:i.root.clearInterval(t)&&void 0||void 0},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.delay=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null))},t}(o.Action);t.AsyncAction=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(1059),o=function(e){function t(){e.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return r(t,e),t.prototype.flush=function(e){var t=this.actions;if(this.active)return void t.push(e);var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}},t}(i.Scheduler);t.AsyncScheduler=o},function(e,t,n){"use strict";function r(e){var t=e.Symbol;if("function"==typeof t)return t.iterator||(t.iterator=t("iterator polyfill")),t.iterator;var n=e.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var r=e.Map;if(r)for(var i=Object.getOwnPropertyNames(r.prototype),o=0;o<i.length;++o){var a=i[o];if("entries"!==a&&"size"!==a&&r.prototype[a]===r.prototype.entries)return a}return"@@iterator"}var i=n(31);t.symbolIteratorPonyfill=r,t.iterator=r(i.root),t.$$iterator=t.iterator},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(){var t=e.call(this,"argument out of range");this.name=t.name="ArgumentOutOfRangeError",this.stack=t.stack,this.message=t.message}return r(t,e),t}(Error);t.ArgumentOutOfRangeError=i},,function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e){var t=e.level,n=e.text,i=e.style,o=e.children,u=r(e,["level","text","style","children"]),c={type:t<=6?"h"+t:"span"},l=s({fontSize:24,fontWeight:300,color:"rgba(0, 0, 0, 0.87)",padding:"16px 0 5px 0",margin:0},i);return a.a.createElement(c.type,s({},u,{style:l}),o||n)}var o=n(0),a=n.n(o),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};i.propTypes={level:o.PropTypes.oneOf([1,2,3,4,5,6]),text:o.PropTypes.string},i.defaultProps={level:1},t.a=i},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(21),a=(n.n(o),n(55)),s=n.n(a),u=n(116),c=n.n(u),l=n(13),p=(n.n(l),n(100)),f=n(83);l.config.i18n.strings.add("selected"),l.config.i18n.strings.add("assign_all"),l.config.i18n.strings.add("remove_all"),l.config.i18n.strings.add("hidden_by_filters"),t.a=i.a.createClass({displayName:"GroupEditor.component",propTypes:{itemStore:i.a.PropTypes.object.isRequired,assignedItemStore:i.a.PropTypes.object.isRequired,filterText:i.a.PropTypes.string,onAssignItems:i.a.PropTypes.func.isRequired,onRemoveItems:i.a.PropTypes.func.isRequired,height:i.a.PropTypes.number},contextTypes:{d2:i.a.PropTypes.object},mixins:[p.a],componentDidMount:function(){var e=this;this.disposables=[],this.disposables.push(this.props.itemStore.subscribe(function(t){return e.setState({loading:!t})})),this.disposables.push(this.props.assignedItemStore.subscribe(function(){return e.forceUpdate()}))},componentWillReceiveProps:function(e){e.hasOwnProperty("filterText")&&this.leftSelect&&this.rightSelect&&this.setState({selectedLeft:[].filter.call(this.leftSelect.selectedOptions,function(t){return-1!==t.text.toLowerCase().indexOf((""+e.filterText).trim().toLowerCase())}).length,selectedRight:[].filter.call(this.rightSelect.selectedOptions,function(t){return-1!==t.text.toLowerCase().indexOf((""+e.filterText).trim().toLowerCase())}).length})},componentWillUnmount:function(){this.disposables.forEach(function(e){e.unsubscribe()})},getDefaultProps:function(){return{height:500,filterText:""}},getInitialState:function(){return{selectedLeft:0,selectedRight:0,loading:!0}},getItemStoreIsCollection:function(){return void 0!==this.props.itemStore.state&&"function"==typeof this.props.itemStore.state.values&&"function"==typeof this.props.itemStore.state.has},getItemStoreIsArray:function(){return void 0!==this.props.itemStore.state&&"Array"===this.props.itemStore.state.constructor.name},getAssignedItemStoreIsCollection:function(){return void 0!==this.props.assignedItemStore.state&&"function"==typeof this.props.assignedItemStore.state.values&&"function"==typeof this.props.assignedItemStore.state.has},getAssignedItemStoreIsArray:function(){return void 0!==this.props.assignedItemStore.state&&"Array"===this.props.assignedItemStore.state.constructor.name},getAllItems:function(){return this.getItemStoreIsCollection()?Array.from(this.props.itemStore.state.values()).map(function(e){return{value:e.id,text:e.name}}):this.props.itemStore.state||[]},getItemCount:function(){return this.getItemStoreIsCollection()&&this.props.itemStore.state.size||this.getItemStoreIsArray()&&this.props.itemStore.state.length||0},getIsValueAssigned:function(e){return this.getAssignedItemStoreIsCollection()?this.props.assignedItemStore.state.has(e):this.props.assignedItemStore.state&&-1!==this.props.assignedItemStore.state.indexOf(e)},getAssignedItems:function(){var e=this;return this.getAllItems().filter(function(t){return e.getIsValueAssigned(t.value)})},getAvailableItems:function(){var e=this;return this.getAllItems().filter(function(t){return!e.getIsValueAssigned(t.value)})},getAllItemsFiltered:function(){return this.filterItems(this.getAllItems())},getAssignedItemsFiltered:function(){return this.filterItems(this.getAssignedItems())},getAvailableItemsFiltered:function(){return this.filterItems(this.getAvailableItems())},getAssignedItemsCount:function(){return this.getAssignedItems().length},getAvailableItemsCount:function(){return this.getAvailableItems().length},getAssignedItemsFilterCount:function(){return 0===this.getFilterText().length?0:this.getAssignedItems().length-this.getAssignedItemsFiltered().length},getAvailableItemsFilterCount:function(){return 0===this.getFilterText().length?0:this.getAvailableItems().length-this.getAvailableItemsFiltered().length},getAssignedItemsUnfilteredCount:function(){return 0===this.getFilterText().length?this.getAssignedItemsCount():this.getAssignedItemsCount()-this.getAssignedItemsFilterCount()},getAvailableItemsUnfilteredCount:function(){return 0===this.getFilterText().length?this.getAvailableItemsCount():this.getAvailableItemsCount()-this.getAvailableItemsFilterCount()},getFilterText:function(){return this.props.filterText?this.props.filterText.trim().toLowerCase():""},getAvailableSelectedCount:function(){return Math.max(this.state.selectedLeft,0)},getAssignedSelectedCount:function(){return Math.max(this.state.selectedRight,0)},getSelectedCount:function(){return Math.max(this.getAvailableSelectedCount(),this.getAssignedSelectedCount())},byAssignedItemsOrder:function(e,t){var n=this.props.assignedItemStore.state;return Array.isArray(n)?n.indexOf(e.value)>n.indexOf(t.value)?1:-1:0},render:function(){var e=this,t=this.getFilterText().length>0?15:0,r={container:{display:"flex",marginTop:16,marginBottom:32,height:this.props.height+"px"},left:{flex:"1 0 120px"},middle:{flex:"0 0 120px",alignSelf:"center",textAlign:"center"},right:{flex:"1 0 120px"},paper:{width:"100%",height:"100%"},select:{width:"100%",minHeight:"50px",height:this.props.height-t+"px",border:"none",fontFamily:"Roboto",fontSize:13,outline:"none"},options:{padding:".25rem .5rem"},buttons:{minWidth:"100px",maxWidth:"100px",marginTop:"8px"},selected:{fontSize:13,minHeight:"15px",marginTop:"45px",padding:"0 8px"},status:{marginTop:"8px",minHeight:"60px"},hidden:{fontSize:13,color:"#404040",fontStyle:"italic",textAlign:"center",width:"100%",background:"#d0d0d0",maxHeight:"15px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},a=function(t){e.clearSelection(!1,!0),e.setState({selectedLeft:t.target.selectedOptions.length})},u=function(t){e.clearSelection(!0,!1),e.setState({selectedRight:t.target.selectedOptions.length})},l=function(t){return e.getItemCount()>0&&e.getFilterText().length>0?t+" "+e.getTranslation("hidden_by_filters"):""};return i.a.createElement("div",{style:r.container},i.a.createElement("div",{style:r.left},i.a.createElement(s.a,{style:r.paper},i.a.createElement("div",{style:r.hidden},l(this.getAvailableItemsFilterCount())),i.a.createElement("select",{multiple:!0,style:r.select,onChange:a,ref:function(t){e.leftSelect=n.i(o.findDOMNode)(t)}},this.getAvailableItemsFiltered().map(function(t){return i.a.createElement("option",{key:t.value,value:t.value,onDoubleClick:e._assignItems,style:r.options},t.text)}))),i.a.createElement(c.a,{label:this.getTranslation("assign_all")+" "+(0===this.getAvailableItemsUnfilteredCount()?"":this.getAvailableItemsUnfilteredCount())+" ",disabled:this.state.loading||0===this.getAvailableItemsUnfilteredCount(),onClick:this._assignAll,style:{marginTop:"1rem"},secondary:!0})),i.a.createElement("div",{style:r.middle},i.a.createElement("div",{style:r.selected},function(){return e.getSelectedCount()>0?e.getSelectedCount()+" "+e.getTranslation("selected"):""}()),i.a.createElement(c.a,{label:"",secondary:!0,onClick:this._assignItems,style:r.buttons,disabled:this.state.loading||0===this.state.selectedLeft}),i.a.createElement(c.a,{label:"",secondary:!0,onClick:this._removeItems,style:r.buttons,disabled:this.state.loading||0===this.state.selectedRight}),i.a.createElement("div",{style:r.status},this.state.loading?i.a.createElement(f.a,{small:!0,style:{width:60,height:60}}):void 0)),i.a.createElement("div",{style:r.right},i.a.createElement(s.a,{style:r.paper},i.a.createElement("div",{style:r.hidden},l(this.getAssignedItemsFilterCount())),i.a.createElement("select",{multiple:!0,style:r.select,onChange:u,ref:function(t){e.rightSelect=n.i(o.findDOMNode)(t)}},this.getAssignedItemsFiltered().sort(this.byAssignedItemsOrder).map(function(t){return i.a.createElement("option",{key:t.value,value:t.value,onDoubleClick:e._removeItems,style:r.options},t.text)}))),i.a.createElement(c.a,{label:" "+this.getTranslation("remove_all")+" "+(this.getAssignedItemsUnfilteredCount()>0?this.getAssignedItemsUnfilteredCount():""),style:{float:"right",marginTop:"1rem"},disabled:this.state.loading||0===this.getAssignedItemsUnfilteredCount(),onClick:this._removeAll,secondary:!0})))},clearSelection:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&(this.leftSelect.selectedIndex=-1),t&&(this.rightSelect.selectedIndex=-1),this.setState(function(n){return{selectedLeft:e?0:n.selectedLeft,selectedRight:t?0:n.selectedRight}})},filterItems:function(e){var t=this;return e.filter(function(e){return 0===t.getFilterText().length||-1!==e.text.trim().toLowerCase().indexOf(t.getFilterText())})},getSelectedItems:function(){return[].map.call(this.rightSelect.selectedOptions,function(e){return e.value})},_assignItems:function(){var e=this;this.setState({loading:!0}),this.props.onAssignItems([].map.call(this.leftSelect.selectedOptions,function(e){return e.value})).then(function(){e.clearSelection(),e.setState({loading:!1})}).catch(function(){e.setState({loading:!1})})},_removeItems:function(){var e=this;this.setState({loading:!0}),this.props.onRemoveItems([].map.call(this.rightSelect.selectedOptions,function(e){return e.value})).then(function(){e.clearSelection(),e.setState({loading:!1})}).catch(function(){e.setState({loading:!1})})},_assignAll:function(){var e=this;this.setState({loading:!0}),this.props.onAssignItems([].map.call(this.leftSelect.options,function(e){return e.value})).then(function(){e.clearSelection(),e.setState({loading:!1})}).catch(function(){e.setState({loading:!1})})},_removeAll:function(){var e=this;this.setState({loading:!0}),this.props.onRemoveItems([].map.call(this.rightSelect.options,function(e){return e.value})).then(function(){e.clearSelection(),e.setState({loading:!1})}).catch(function(){e.setState({loading:!1})})}})},function(e,t,n){"use strict";n.d(t,"g",function(){return i}),n.d(t,"h",function(){return o}),n.d(t,"i",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return c}),n.d(t,"n",function(){return l}),n.d(t,"e",function(){return p}),n.d(t,"l",function(){return f}),n.d(t,"a",function(){return d}),n.d(t,"m",function(){return h}),n.d(t,"q",function(){return m}),n.d(t,"j",function(){return y}),n.d(t,"k",function(){return b}),n.d(t,"d",function(){return v}),n.d(t,"o",function(){return g}),n.d(t,"p",function(){return w});var r=n(59);n.d(t,"r",function(){return r.e});var i="EVENT_PROGRAM_STEP_CHANGE",o="EVENT_PROGRAM_STEP_NEXT",a="EVENT_PROGRAM_STEP_PREVIOUS",s=function(e){return{type:i,payload:e}},u=function(){return{type:o}},c=function(){return{type:a}},l="MODEL_TO_EDIT_FIELD_CHANGED",p=function(e,t){return{type:l,payload:{field:e,value:t}}},f="EVENT_PROGRAM_LOAD",d=n.i(r.b)(f),h=n.i(r.b)("EVENT_PROGRAM_LOAD_SUCCESS"),m=(n.i(r.b)("EVENT_PROGRAM_LOAD_ERROR"),"EVENT_PROGRAM_SAVE"),y="EVENT_PROGRAM_SAVE_SUCCESS",b="EVENT_PROGRAM_SAVE_ERROR",v=n.i(r.b)(m),g=n.i(r.b)(y),w=n.i(r.b)(b)},function(e,t,n){"use strict";n.d(t,"g",function(){return i}),n.d(t,"h",function(){return o}),n.d(t,"i",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return c}),n.d(t,"j",function(){return l}),n.d(t,"a",function(){return p}),n.d(t,"k",function(){return f}),n.d(t,"m",function(){return d}),n.d(t,"p",function(){return h}),n.d(t,"q",function(){return m}),n.d(t,"d",function(){return y}),n.d(t,"n",function(){return b}),n.d(t,"o",function(){return v}),n.d(t,"l",function(){return g}),n.d(t,"e",function(){return w});var r=n(59),i="PROGRAM_INDICATOR_STEP_CHANGE",o="PROGRAM_INDICATOR_STEP_NEXT",a="PROGRAM_INDICATOR_STEP_PREVIOUS",s=function(e){return{type:i,payload:e}},u=function(){return{type:o}},c=function(){return{type:a}},l="PROGRAM_INDICATOR_LOAD",p=n.i(r.b)(l),f=n.i(r.b)("PROGRAM_INDICATOR_LOAD_SUCCESS"),d=(n.i(r.b)("PROGRAM_INDICATOR_LOAD_ERROR"),"PROGRAM_INDICATOR_SAVE"),h="PROGRAM_INDICATOR_SAVE_SUCCESS",m="PROGRAM_INDICATOR_SAVE_ERROR",y=n.i(r.b)(d),b=n.i(r.b)(h),v=n.i(r.b)(m),g="PROGRAM_INDICATOR_TO_EDIT_FIELD_CHANGED",w=function(e,t){return{type:g,payload:{field:e,value:t}}}},function(e,t,n){"use strict";function r(){return{all:{items:[]},categorySection:{items:["categoryOption","category","categoryCombo","categoryOptionCombo","categoryOptionGroup","categoryOptionGroupSet"]},dataElementSection:{items:["dataElement","dataElementGroup","dataElementGroupSet"]},dataSetSection:{items:["dataSet"]},indicatorSection:{items:["indicator","indicatorType","indicatorGroup","indicatorGroupSet","programIndicator","programIndicatorGroup"]},organisationUnitSection:{items:["organisationUnit","organisationUnitGroup","organisationUnitGroupSet","organisationUnitLevel"]},programSection:{items:["program","trackedEntityAttribute","trackedEntityAttributeGroup","relationshipType","trackedEntity","programRule","programRuleVariable"]},validationSection:{items:["validationRule","validationRuleGroup","validationNotificationTemplate"]},otherSection:{items:["constant","attribute","optionSet","legendSet","predictor","pushAnalysis","externalMapLayer"]}}}function i(e){var t=r();return Object.keys(t).find(function(n){return t[n]&&t[n].items&&t[n].items.indexOf(e)>=0})}function o(e){return c.hasOwnProperty(e)&&c[e].hasOwnProperty("filters")?c[e].filters:[]}function a(e){return c.hasOwnProperty(e)&&c[e].hasOwnProperty("filters")?c[e].filters.reduce(function(e,t){return e[t]=null,e},{}):[]}function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return c.hasOwnProperty(e)&&c[e].hasOwnProperty("columns")?c[e].columns.map(function(e){return t?e:e.replace(/(\w*)\[(\w*)]/,"$1___$2")}):["displayName","publicAccess","lastUpdated"]}function u(e){return c.hasOwnProperty(e)&&c[e].hasOwnProperty("defaultFilters")&&Array.isArray(c[e].defaultFilters)?c[e].defaultFilters:[]}t.b=i,t.c=o,t.f=a,t.e=s,t.d=u;var c={category:{filters:["dataDimensionType"],columns:["displayName","dataDimensionType","publicAccess","lastUpdated"]},categoryCombo:{filters:["dataDimensionType"],columns:["displayName","dataDimensionType","publicAccess","lastUpdated"]},categoryOptionGroup:{filters:["dataDimensionType"],columns:["displayName","dataDimensionType","publicAccess","lastUpdated"]},categoryOptionGroupSet:{filters:["dataDimensionType"],columns:["displayName","dataDimensionType","publicAccess","lastUpdated"]},dataElement:{filters:["domainType","valueType","categoryCombo"],columns:["displayName","domainType","valueType","categoryCombo[displayName]","lastUpdated"]},dataElementGroupSet:{columns:["displayName","compulsory","publicAccess","lastUpdated"]},dataSet:{filters:["formType"],columns:["displayName","formType","periodType","publicAccess","lastUpdated"]},indicator:{filters:["indicatorType"],columns:["displayName","indicatorType[displayName]","publicAccess","lastUpdated"]},indicatorType:{columns:["displayName","factor","publicAccess","lastUpdated"]},indicatorGroupSet:{columns:["displayName","compulsory","publicAccess","lastUpdated"]},organisationUnit:{columns:["displayName","level","lastUpdated"]},organisationUnitGroupSet:{columns:["displayName","compulsory","dataDimension","publicAccess","lastUpdated"]},trackedEntityAttribute:{filters:["valueType","aggregationType"],columns:["displayName","valueType","aggregationType","unique","confidential","lastUpdated"]},program:{columns:["displayName","publicAccess","lastUpdated"],defaultFilters:[["programType","WITHOUT_REGISTRATION"]]},programIndicator:{filters:["program"],columns:["displayName","program[displayName]","lastUpdated"]},programRule:{filters:["program"],columns:["displayName","description","program[displayName]","lastUpdated"]},programRuleVariable:{filters:["program","programRuleVariableSourceType"],columns:["displayName","program[displayName]","programRuleVariableSourceType","lastUpdated"]},validationRule:{columns:["displayName","importance","periodType","publicAccess","lastUpdated"]},constant:{columns:["displayName","value","lastUpdated"]},attribute:{columns:["displayName","valueType","mandatory","unique","publicAccess","lastUpdated"]},optionSet:{columns:["displayName","valueType","lastUpdated"]},predictor:{columns:["displayName","output[displayName]","periodType","lastUpdated"]},pushAnalysis:{columns:["displayName","dashboard[displayName]","lastUpdated"]},externalMapLayer:{columns:["displayName","mapLayerPosition","mapService","lastUpdated"]}};t.a={getSideBarConfig:r}},function(e,t,n){var r,i;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===i)for(var a in r)o.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}var o={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=n:(r=[],void 0!==(i=function(){return n}.apply(t,r))&&(e.exports=i))}()},function(e,t,n){function r(e){return a(e)?i(e):o(e)}var i=n(520),o=n(840),a=n(122);e.exports=r},,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(54),o=(r(i),n(44)),a=(r(o),n(53)),s=r(a),u=function(e){return e},c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;return function(r){var i=void 0,o=void 0,a=function(a){return e(a)?(i=i||(0,s.default)(t(r)))(a):(o=o||(0,s.default)(n(r)))(a)};return a}};t.default=c},function(e,t,n){"use strict";function r(e){return!(!p()(e)||e)||(!p()(e)||!/\./.test(e))&&Number.parseInt(e,10)===Number.parseFloat(e)}function i(e){return{validator:e,message:e.message}}function o(e,t,n){function o(e){return Number(e)<=t.max}function a(e){return Number(e)>=t.min}function s(e){return!e||e.length<=t.max}function u(e){return!e||e.length>=t.min}o.message="value_not_max",a.message="value_not_min",s.message="value_not_max",u.message="value_not_min";var l=[];switch(e){case I:l.push(i(c.a));break;case C:l.push(i(c.a)),l.push(i(r)),d()(t.max)&&l.push(i(o)),d()(t.min)&&l.push(i(a));break;case j:case _:d()(t.max)&&l.push(i(s)),d()(t.min)&&l.push(i(u));break;case k:l.push(i(c.b));break;case A:l.push(i(c.c))}return l}function a(e,t){var n=[];return e.required&&n.push(i(c.d)),t&&(n=n.concat(o(e.type,e,t))),n}function s(e){switch(e){case E:return g.a;case x:return w.a;case S:return v.a;case T:return b.a;case P:return O.a}return y.a}function u(e,t,n){var r=t.modelProperties[e.name]&&t.modelProperties[e.name].constants||[],i={name:e.name,component:e.component||s(e.type),props:Object.assign(e.fieldOptions||{},{labelText:e.fieldOptions.labelText,modelDefinition:t,models:n,referenceType:e.referenceType,referenceProperty:e.name,isInteger:e.type===C,multiLine:"description"===e.name,fullWidth:!0,translateOptions:r&&!!r.length,isRequired:e.required,options:(e.fieldOptions.options||r).map(function(e){return e.name&&e.value?{text:e.name,value:e.value}:{text:e,value:e.toString()}})})};e.type===S&&(i.props.isRequired=!1),e.constants&&e.constants.length&&(i.translate=!0);var o=[].concat(a(e,t)).concat(e.validators||[]);return Object.assign(e,{validators:o},i)}n.d(t,"c",function(){return E}),t.e=a,t.d=s,t.a=u,n.d(t,"b",function(){return N});var c=n(161),l=n(77),p=n.n(l),f=n(823),d=n.n(f),h=n(15),m=(n.n(h),n(13)),y=(n.n(m),n(127)),b=n(633),v=n(126),g=n(69),w=n(208),O=n(630),S=Symbol("CHECKBOX"),_=Symbol("INPUT"),E=Symbol("SELECT"),x=Symbol("SELECTASYNC"),T=Symbol("MULTISELECT"),P=(Symbol("TEXT"),Symbol("DATE")),C=Symbol("INTEGER"),j=Symbol("IDENTIFIER"),k=Symbol("URL"),A=Symbol("EMAIL"),I=Symbol("NUMBER"),R=Symbol("COMPLEX");r.message="number_should_not_have_decimals";var N=new Map([["BOOLEAN",S],["CONSTANT",E],["IDENTIFIER",j],["REFERENCE",x],["TEXT",_],["EMAIL",A],["PHONENUMBER",_],["COLLECTION",T],["INTEGER",C],["DATE",P],["URL",k],["NUMBER",I],["COMPLEX",R],["GEOLOCATION",_],["TRUE_ONLY",S]])},function(e,t,n){"use strict";function r(e){return null===e}function i(e){return void 0===e}function o(e){return""===e||void 0!==e&&null!==e&&""===e.toString()}function a(e){return i(e)||o(e)}function s(e){return Boolean(e)||0===e||!1===e}function u(e){return!!a(e)||m.test(e)}function c(e){return!!a(e)||y.test(e.trim())}function l(e){return!!a(e)||(e+"").split("\n").filter(function(e){return e.trim().length>0}).reduce(function(e,t){return!0===e&&u(t)||o(t.trim())},!0)}function p(e){return!!a(e)||b.test(e)}function f(e){return!r(e)&&(!!a(e)||!(isNaN(e)||Number(e)===1/0))}function d(e){return!!a(e)||f(e)&&Number(e)>0}function h(e){return!!a(e)||v.test(e)&&g.test(e)&&e.length>7&&e.length<36}t.d=s,t.b=u,t.c=p,t.a=f;var m=/^https?:\/\/[^ ]*/i,y=/[^ ]*/i,b=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,v=/^(?=.*\d)/,g=/^(?=.*[A-Z])/;a.message="value_should_be_empty_string_or_undefined",s.message="value_required",u.message="value_should_be_a_url",c.message="value_should_be_a_relative_url",l.message="value_should_be_list_of_urls",p.message="value_should_be_an_email",f.message="value_should_be_a_number",d.message="value_should_be_a_positive_number",h.message="invalid_password";new Map([["required",s],["url",u],["relative_url",c],["url_array",l],["number",f],["positive_number",d],["email",p],["is_valid_password",h]])},function(e,t){function n(e){return e}e.exports=n},,function(e,t,n){e.exports=n(1335)},function(e,t,n){"use strict";function r(e){var t=e.items,n=e.label,r=e.onItemClick,o=e.expanded,a=e.setExpanded,s={collapsibleListWrap:{padding:".5rem"},collapsibleListLabel:{fontWeight:"bold"},firstCollapsibleListItem:{fontSize:".75rem",padding:".75rem 0",cursor:"pointer"},collapsibleListItem:{fontSize:".75rem",padding:".5rem 0",cursor:"pointer",borderTop:"1px dotted #CCC"}},u=t.map(function(e,t){return React.createElement("div",{key:e.value,onClick:function(){return r(e.value)},style:0===t?s.firstCollapsibleListItem:s.collapsibleListItem},e.label)}),c=React.createElement("span",{style:s.collapsibleListLabel},n);return React.createElement("div",{style:s.collapsibleListWrap},React.createElement(i.a,{label:c,children:u,initiallyExpanded:o,onClick:function(){return a(!0)}}))}var i=n(373),o=n(98),a=n.n(o),s=a()("expanded","setExpanded",!1);t.a=s(r)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(372),c=n(729),l=n(728),p=n(727),f=n(45),d=n.n(f),h=n(37),m=n(14),y=(n.n(m),function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=function(e){function t(){var e;r(this,t);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var s=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o)));return s.state={searchValue:"",rootOrgUnits:[],selectedOrgUnits:[]},s._searchOrganisationUnits=h.a.create("searchOrganisationUnits"),s._handleClick=s._handleClick.bind(s),s._setSelection=s._setSelection.bind(s),s}return o(t,e),b(t,[{key:"componentDidMount",value:function(){var e=this,t=this.context.d2;Promise.all([t.currentUser.getOrganisationUnits({fields:"id,path,displayName,children::isNotEmpty"}),t.models.organisationUnitLevels.list({paging:!1,fields:"id,level,displayName",order:"level:asc"}),t.models.organisationUnitGroups.list({paging:!1,fields:"id,displayName"})]).then(function(t){var n=y(t,3),r=n[0],i=n[1],o=n[2],a=r.toArray().filter(function(t){return new RegExp(""+e.state.searchValue).test(t.displayName)});e.setState({originalRoots:a,rootOrgUnits:a,currentRoot:a[0],selectedOrgUnits:e.props.value.toArray().map(function(e){return e.path}),orgUnitGroups:o,orgUnitLevels:i})}),this.subscription=this._searchOrganisationUnits.map(function(e){return e.data}).debounceTime(400).map(function(t){if(!t.trim())return m.Observable.of(e.state.originalRoots);var n=e.context.d2.models.organisationUnits.filter().on("displayName").ilike(t).list({fields:"id,displayName,path,children::isNotEmpty",withinUserHierarchy:!0}).then(function(e){return e.toArray()});return m.Observable.fromPromise(n)}).concatAll().subscribe(function(t){return e.setState({rootOrgUnits:t})})}},{key:"componentWillUnmount",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"renderRoots",value:function(){var e=this,t={minHeight:300,maxHeight:450,minWidth:350,maxWidth:480,overflow:"auto",border:"1px solid #bdbdbd",borderRadius:3,padding:4,margin:"4px 0",display:"inline-block",verticalAlign:"top"};return s.a.createElement("div",{style:t},this.state.rootOrgUnits.length?this.state.rootOrgUnits.map(function(t){return s.a.createElement(u.a,{key:t.id,root:t,selected:e.state.selectedOrgUnits,onSelectClick:e._handleClick,currentRoot:e.state.currentRoot,onChangeCurrentRoot:function(t){return e.setState({currentRoot:t})},initiallyExpanded:[t.path]})}):s.a.createElement("div",null,this.context.d2.i18n.getTranslation("no_roots_found")))}},{key:"render",value:function(){var e=this;if(!this.state.rootOrgUnits.length)return s.a.createElement("div",null,this.context.d2.i18n.getTranslation("determining_your_root_orgunits"));var t={width:475,zIndex:1,background:"white",marginLeft:"1rem",marginTop:"1rem",display:"inline-block"},n=this.state.currentRoot?{}:{position:"absolute",width:495,height:240,marginLeft:-10,marginTop:4,backgroundColor:"rgba(230,230,230,0.3)",zIndex:2,borderRadius:8},r={border:"1px solid rgba(0,0,0,0.1)",borderRadius:3,backgroundColor:"rgba(0,0,0,0.05)",padding:2,margin:4};return s.a.createElement("div",{style:{position:"relative",minWidth:850}},s.a.createElement(d.a,{onChange:function(t){return e._searchOrganisationUnits(t.target.value)},floatingLabelText:this.context.d2.i18n.getTranslation("filter_organisation_units_by_name"),fullWidth:!0}),s.a.createElement("div",{className:"organisation-unit-tree__selected"},this.state.selectedOrgUnits.length," ",this.context.d2.i18n.getTranslation("organisation_units_selected")),this.renderRoots(),this.state.orgUnitGroups&&this.state.orgUnitLevels&&s.a.createElement("div",{style:t},this.state.currentRoot?s.a.createElement("span",null,this.context.d2.i18n.getTranslation("for_organisation_units_within"),s.a.createElement("span",{style:r},this.state.currentRoot.displayName),":"):s.a.createElement("span",null,this.context.d2.i18n.getTranslation("select_a_parent_organisation_unit")),s.a.createElement("div",{style:n}),s.a.createElement(c.a,{levels:this.state.orgUnitLevels,selected:this.state.selectedOrgUnits,currentRoot:this.state.currentRoot,onUpdateSelection:this._setSelection}),s.a.createElement(l.a,{groups:this.state.orgUnitGroups,selected:this.state.selectedOrgUnits,currentRoot:this.state.currentRoot,onUpdateSelection:this._setSelection}),s.a.createElement("div",{style:{marginTop:16}},s.a.createElement(p.a,{selected:this.state.selectedOrgUnits,currentRoot:this.state.currentRoot,onUpdateSelection:this._setSelection}))))}},{key:"_setSelection",value:function(e){var t=this.context.d2,n=e.map(function(e){return e.substr(e.lastIndexOf("/")+1)}),r=this.props.model.organisationUnits,i=r.toArray().map(function(e){return e.id}),o=n.filter(function(e){return!i.includes(e)}).map(function(e){return t.models.organisationUnits.create({id:e})}),a=i.filter(function(e){return!n.includes(e)}).map(function(e){return t.models.organisationUnits.create({id:e})});o.forEach(function(e){r.add(e)}),a.forEach(function(e){r.remove(e)}),this.setState({selectedOrgUnits:e})}},{key:"_handleClick",value:function(e,t){var n=this;this.state.selectedOrgUnits.includes(t.path)?this.setState(function(e){return e.selectedOrgUnits.splice(e.selectedOrgUnits.indexOf(t.path),1),n.props.model.organisationUnits.remove(t),{selectedOrgUnits:e.selectedOrgUnits}}):this.setState(function(e){return e.selectedOrgUnits.push(t.path),n.props.model.organisationUnits.add(t),{selectedOrgUnits:e.selectedOrgUnits}})}}]),t}(s.a.Component);t.a=v,v.contextTypes={d2:s.a.PropTypes.object.isRequired},v.propTypes={value:s.a.PropTypes.object},v.defaultProps={value:[]}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(69),c=n(289),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.state={options:[]},o}return o(t,e),p(t,[{key:"componentWillMount",value:function(){var e=this;this.sub=c.a.subscribe(function(t){e.setState({options:t})})}},{key:"componentWillUnmount",value:function(){this.sub&&this.sub.unsubscribe&&this.sub.unsubscribe()}},{key:"render",value:function(){return s.a.createElement(u.a,l({},this.props,{options:this.state.options}))}}]),t}(s.a.Component);t.a=f},,,,function(e,t,n){"use strict";function r(e){var t=E(e.trim().toLowerCase().split(/\s+/));j.take(1).subscribe(function(n){var r=n.filter(x),i=r.filter(t),o=n.filter(t).filter(T).filter(P(r)),a=r.filter(function(e){return o.map(O).some(function(t){return t===e.name})}),s=_([].concat(i,o,a));w.setState(v({},w.getState(),{searchResults:s,searchValue:e}))})}function i(e){w.setState(v({},w.getState(),{isHoveringOverResults:e}))}function o(e){w.setState(v({},w.getState(),{isSearchFieldFocused:e}))}function a(e){var t=w.getState().searchResults.length;w.getState().selected+e>=t||w.getState().selected+e<0||w.setState(v({},w.getState(),{selected:w.getState().selected+e}))}function s(){w.getState()&&!w.getState().isHoveringOverResults&&o(!1)}t.f=i,t.b=o,t.c=s,n.d(t,"a",function(){return C}),n.d(t,"e",function(){return k}),n.d(t,"d",function(){return A});var u=n(132),c=n(37),l=n(23),p=n(14),f=(n.n(p),n(702)),d=n(704),h=n(15),m=n.n(h),y=n(11),b=(n.n(y),function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g=function(e){return e},w=l.a.create({getInitialState:function(){return{isSearchFieldFocused:!1,open:!1,searchValue:"",selected:0,searchResults:[]}}}),O=n.i(y.get)("parentApp"),S=function(e){return!!O(e)},_=n.i(y.uniqBy)(function(e){return e.name}),E=n.i(y.curry)(function(e,t){return e.every(function(e){return t.label.toLowerCase().includes(e)})}),x=function(e){return!S(e)},T=function(e){return!x(e)},P=n.i(y.curry)(function(e,t){return e.some(function(e){return e.name===t.parentApp})}),C=c.a.create("Search Apps");C.map(function(e){return e.data||""}).subscribe(r);var j=u.a.map(function(e){return[].concat(e.appItems,e.profileItems)}).flatMap(f.a).flatMap(d.a),k=p.Observable.combineLatest(w,u.b,function(e,t){return e.searchValue?e:v({},e,{searchResults:t})}).map(function(e){return v({},e,{searchResults:e.searchResults.map(function(t,n){return Object.assign({},t,{selected:e.selected===n})}),open:Boolean(e.isSearchFieldFocused)})}),A=c.a.create(),I=A.map(function(e){return e.data});I.filter(function(e){var t=b(e,1),n=t[0];return 13===n.keyCode||"Enter"===n.key}).flatMap(function(){return w.take(1)}).map(function(e){return e.searchResults.find(function(t,n){return n===e.selected})}).filter(g).subscribe(function(e){return window.location=e.action},m.a.error),I.map(function(e){return e[0]}).filter(function(e){return 39===e.keyCode||"ArrowRight"===e.key}).subscribe(function(e){return a(1)}),I.map(function(e){return e[0]}).filter(function(e){return 37===e.keyCode||"ArrowLeft"===e.key}).subscribe(function(){return a(-1)}),I.filter(function(e){var t=b(e,2),n=t[0];t[1];return 38===n.keyCode||"ArrowUp"===n.key}).subscribe(function(e){var t=b(e,2);t[0];return a(-t[1])}),I.filter(function(e){var t=b(e,2),n=t[0];t[1];return 40===n.keyCode||"ArrowDown"===n.key}).subscribe(function(e){var t=b(e,2);t[0];return a(t[1])})},,function(e,t,n){"use strict";t.__esModule=!0;t.PUSH="PUSH",t.REPLACE="REPLACE",t.POP="POP"},function(e,t,n){"use strict";t.__esModule=!0;t.addEventListener=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},t.removeEventListener=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},t.supportsHistory=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},t.supportsGoWithoutReloadUsingHash=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},t.supportsPopstateOnHashchange=function(){return-1===window.navigator.userAgent.indexOf("Trident")},t.isExtraneousPopstateEvent=function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(870),o=n(871),a=n(872),s=n(873),u=n(874);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,e.exports=r},function(e,t,n){function r(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}var i=n(206);e.exports=r},function(e,t,n){function r(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}var i=n(868);e.exports=r},function(e,t,n){var r=n(95),i=r(Object,"create");e.exports=i},function(e,t,n){function r(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}var i=n(135),o=1/0;e.exports=r},,,,,,,,function(e,t,n){"use strict";var r=n(1030);n.d(t,"a",function(){return r.a});var i=n(445);n.d(t,"f",function(){return i.a});var o=(n(1026),n(1041),n(1027));n.d(t,"d",function(){return o.a});var a=n(1028);n.d(t,"e",function(){return a.a});var s=(n(447),n(1029));n.d(t,"c",function(){return s.a});var u=(n(79),n(278),n(277),n(1039),n(452),n(114),n(1032),n(1033),n(1037));n.d(t,"b",function(){return u.a});n(449)},function(e,t,n){"use strict";function r(e,t,n){var r=e.slice(0);if(n>=r.length)for(var i=n-r.length;1+i--;)r.push(void 0);return r.splice(n,0,r.splice(t,1)[0]),r}function i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.keys(e).reduce(function(t,r){return-1===n.indexOf(r)&&(t[r]=e[r]),t},{})}function o(e,t){for(;e;){if(t(e))return e;e=e.parentNode}}function a(e,t,n){return n<e?e:n>t?t:n}function s(e){return"px"===e.substr(-2)?parseFloat(e):0}function u(e){var t=window.getComputedStyle(e);return{top:s(t.marginTop),right:s(t.marginRight),bottom:s(t.marginBottom),left:s(t.marginLeft)}}function c(e,t){var n=t.displayName||t.name;return n?e+"("+n+")":e}Object.defineProperty(t,"__esModule",{value:!0}),t.arrayMove=r,t.omit=i,t.closest=o,t.limit=a,t.getElementMargin=u,t.provideDisplayName=c;t.events={start:["touchstart","mousedown"],move:["touchmove","mousemove"],end:["touchend","touchcancel","mouseup"]},t.vendorPrefix=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}}()},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(26),o=n(27),a=function(e){function t(){e.apply(this,arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}return r(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),o.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),o.Subscription.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(i.Subject);t.AsyncSubject=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(26),o=n(481),a=n(27),s=n(285),u=n(196),c=n(460),l=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY),e.call(this),this.scheduler=r,this._events=[],this._bufferSize=t<1?1:t,this._windowTime=n<1?1:n}return r(t,e),t.prototype.next=function(t){var n=this._getNow();this._events.push(new p(n,t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._trimBufferThenGetEvents(),r=this.scheduler;if(this.closed)throw new u.ObjectUnsubscribedError;this.hasError?t=a.Subscription.EMPTY:this.isStopped?t=a.Subscription.EMPTY:(this.observers.push(e),t=new c.SubjectSubscription(this,e)),r&&e.add(e=new s.ObserveOnSubscriber(e,r));for(var i=n.length,o=0;o<i&&!e.closed;o++)e.next(n[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||o.queue).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r},t}(i.Subject);t.ReplaySubject=l;var p=function(){function e(e,t){this.time=e,this.value=t}return e}()},function(e,t,n){"use strict";function r(e,t){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new a(e,t))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12);t.map=r;var a=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.project,this.thisArg))},e}();t.MapOperator=a;var s=function(e){function t(t,n,r){e.call(this,t),this.project=n,this.count=0,this.thisArg=r||this}return i(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(o.Subscriber)},function(e,t,n){"use strict";function r(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),this.lift(new s(e))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(17),a=n(18);t.mergeAll=r;var s=function(){function e(e){this.concurrent=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.concurrent))},e}();t.MergeAllOperator=s;var u=function(e){function t(t,n){e.call(this,t),this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0}return i(t,e),t.prototype._next=function(e){this.active<this.concurrent?(this.active++,this.add(a.subscribeToResult(this,e))):this.buffer.push(e)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(o.OuterSubscriber);t.MergeAllSubscriber=u},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}var i=n(31);t.getSymbolObservable=r,t.observable=r(i.root),t.$$observable=t.observable},function(e,t,n){"use strict";var r=n(31),i=r.root.Symbol;t.rxSubscriber="function"==typeof i&&"function"==typeof i.for?i.for("rxSubscriber"):"@@rxSubscriber",t.$$rxSubscriber=t.rxSubscriber},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(){var t=e.call(this,"no elements in sequence");this.name=t.name="EmptyError",this.stack=t.stack,this.message=t.message}return r(t,e),t}(Error);t.EmptyError=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(){var t=e.call(this,"object unsubscribed");this.name=t.name="ObjectUnsubscribedError",this.stack=t.stack,this.message=t.message}return r(t,e),t}(Error);t.ObjectUnsubscribedError=i},function(e,t,n){"use strict";function r(e){return e instanceof Date&&!isNaN(+e)}t.isDate=r},function(e,t,n){"use strict";function r(e){return"function"==typeof e}t.isFunction=r},function(e,t,n){"use strict";function r(e){return!i.isArray(e)&&e-parseFloat(e)+1>=0}var i=n(65);t.isNumeric=r},function(e,t,n){"use strict";t.__esModule=!0;var r={fromESObservable:null,toESObservable:null},i=function(e){r=e};t.config={fromESObservable:function(e){return"function"==typeof r.fromESObservable?r.fromESObservable(e):e},toESObservable:function(e){return"function"==typeof r.toESObservable?r.toESObservable(e):e}};t.default=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var n=function(n){function a(){return r(this,a),i(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return o(a,n),f(a,[{key:"componentDidMount",value:function(){var t=this;this.disposable=e.subscribe(function(e){return t.setState(e)},function(e){return l.a.error(e)})}},{key:"componentWillUnmount",value:function(){this.disposable&&this.disposable.unsubscribe&&this.disposable.unsubscribe()}},{key:"render",value:function(){return u.a.createElement(t,p({},this.state,this.props))}}]),a}(s.Component);return n.displayName=t.displayName||t.name,n}t.a=a;var s=n(0),u=n.n(s),c=n(15),l=n.n(c),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t,r){return n.i(j.isString)(e)?e===t.key:e===r}function o(e){var t=e.onBackClick;return p.a.createElement(O.a,{onClick:t},p.a.createElement(x.a,null))}function a(e){var t=e.onForwardClick;return p.a.createElement(O.a,{onClick:t},p.a.createElement(_.a,null))}function s(e,t){var n=e.findIndex(function(e){return e.key===t});return e[n+1]?e[n+1].key:t}function u(e,t){var n=e.findIndex(function(e){return e.key===t});return e[n-1]?e[n-1].key:t}function c(e,t){var n={buttons:{display:"flex",flexDirection:"row",justifyContent:"space-between",padding:"4rem 1rem 1rem"}};return function(r){var i=r.children;return p.a.createElement("div",{style:n.buttons},p.a.createElement(e,null),i,p.a.createElement(t,null))}}n.d(t,"e",function(){return I}),n.d(t,"d",function(){return R}),t.f=s,t.g=u,t.c=c,n.d(t,"a",function(){return D}),n.d(t,"b",function(){return M});var l=n(0),p=n.n(l),f=n(312),d=n.n(f),h=n(309),m=n.n(h),y=n(310),b=n.n(y),v=n(308),g=n.n(v),w=n(85),O=n.n(w),S=n(990),_=n.n(S),E=n(988),x=n.n(E),T=n(71),P=n(15),C=n.n(P),j=n(11),k=(n.n(j),n(50)),A=n(38),I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"horizontal";return function(r){var o=r.activeStep,a=r.stepperClicked,s=function(e){var t=[];return t.push(p.a.createElement(m.a,{key:"button",onClick:function(){return a(e.key)}},p.a.createElement(T.a,null,e.name))),e.content&&t.push(p.a.createElement(b.a,{key:"content"},p.a.createElement(e.content,null))),t};return p.a.createElement(d.a,{linear:!1,orientation:t,activeStep:n.i(j.isNumber)(o)?o:void 0},e.map(function(e,t){return p.a.createElement(g.a,{key:e.key,active:i(o,e,t)},s(e))}))}},R=function(e){return function(t){var n=t.activeStep,i=r(t,["activeStep"]),o=e.find(function(e){return e.key===n});return o&&o.component?p.a.createElement(o.component,i):(n?C.a.warn("Could not find a content component for a step with key ("+n+") in",e):C.a.warn("The `activeStep` prop is undefined, therefore the component created by `createStepperContentFromConfig` will render null"),null)}},N=function(e){return function(t){return n.i(A.a)(e,t)}},D=function(e){return n.i(k.a)(void 0,N({onForwardClick:e}))(a)},M=function(e){return n.i(k.a)(void 0,N({onBackClick:e}))(o)}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(0),c=n.n(u),l=n(720),p=n(288),f=(n.n(p),n(83)),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function(){},y=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=n.initState(e),n.asyncValidators=n.createAsyncValidators(e),n.asyncValidationRunner=e.asyncValidationRunner||new l.a,n.getFieldProp=n.getFieldProp.bind(n),n.getStateClone=n.getStateClone.bind(n),n}return s(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.asyncValidators=this.createAsyncValidators(e);var n=this.getStateClone();e.fields.filter(function(e){return t.state&&t.state.fields&&t.state.fields[e.name]}).filter(function(e){return e.value!==t.state.fields[e.name].value}).forEach(function(e){n.fields[e.name].value=e.value,t.validateField(n,e.name,e.value)}),this.setState(n)}},{key:"getStateClone",value:function(){var e=this;return{form:{pristine:this.state.form.pristine,valid:this.state.form.valid,validating:this.state.form.validating},fields:Object.keys(this.state.fields).reduce(function(t,n){return t[n]={pristine:e.state.fields[n].pristine,validating:e.state.fields[n].validating,valid:e.state.fields[n].valid,value:e.state.fields[n].value,error:e.state.fields[n].error},t},{})}}},{key:"renderFields",value:function(){var e=this,t={field:{position:"relative"},progress:this.props.validatingProgressStyle,validatingErrorStyle:{color:"orange"}};return this.props.fields.map(function(n){var r=n.props||{},o=r.errorTextProp,a=i(r,["errorTextProp"]),s=e.state.fields[n.name]||{},u=e.handleFieldChange.bind(e,n.name),l="onBlur"===a.changeEvent?function(t){var r=e.updateFieldState(e.getStateClone(),n.name,{value:t.target.value});e.validateField(r,n.name,t.target.value),e.setState(r)}:void 0,p=s&&s.validating?n.validatingLabelText||e.props.validatingLabelText:o;return c.a.createElement("div",{key:n.name,style:Object.assign({},t.field,e.props.fieldWrapStyle)},s.validating?c.a.createElement(f.a,{mode:"indeterminate",size:.33,style:t.progress}):void 0,c.a.createElement(n.component,d({value:s.value,onChange:a.changeEvent&&"onBlur"===a.changeEvent?l:u,onBlur:a.changeEvent&&"onBlur"===a.changeEvent?u:void 0,errorStyle:s.validating?t.validatingErrorStyle:void 0,errorText:s.valid?p:s.error},a)))})}},{key:"render",value:function(){return c.a.createElement("div",{style:this.props.style},this.renderFields())}},{key:"initState",value:function(e){var t=this,n={fields:e.fields.reduce(function(e,n){var i=t.state&&t.state.fields&&t.state.fields[n.name];return Object.assign(e,r({},n.name,{value:void 0===i||i.pristine?n.value:i.value,pristine:void 0===i||i.value===n.value,validating:void 0!==i&&i.validating,valid:void 0===i||i.valid,error:i&&i.error||void 0}))},{})};return n.form={pristine:Object.keys(n.fields).reduce(function(e,t){return e&&n.fields[t].pristine},!0),validating:Object.keys(n.fields).reduce(function(e,t){return e||n.fields[t].validating},!1),valid:Object.keys(n.fields).reduce(function(e,t){return e&&n.fields[t].valid},!0)},n}},{key:"createAsyncValidators",value:function(e){var t=this;return e.fields.filter(function(e){return Array.isArray(e.asyncValidators)&&e.asyncValidators.length}).reduce(function(e,n){return e[n.name]=t.asyncValidators&&t.asyncValidators[n.name]||void 0,e},{})}},{key:"cancelAsyncValidators",value:function(e){this.asyncValidators[e]&&(this.asyncValidators[e].unsubscribe(),this.asyncValidators[e]=void 0)}},{key:"updateFieldState",value:function(e,t,n){var r=this.getFieldProp(t);e.fields[t]={pristine:void 0!==n.pristine?!!n.pristine:e.fields[t].value===r.value,validating:void 0!==n.validating?!!n.validating:e.fields[t].validating,valid:void 0!==n.valid?!!n.valid:e.fields[t].valid,error:n.error,value:void 0!==n.value?n.value:e.fields[t].value};var i=Object.keys(e.fields);return e.form={pristine:i.reduce(function(t,n){return t&&e.fields[n].pristine},!0),validating:i.reduce(function(t,n){return t||e.fields[n].validating},!1),valid:i.reduce(function(t,n){return t&&e.fields[n].valid},!0)},e}},{key:"handleFieldChange",value:function(e,t){var r=this,i=t.target.value,o=this.getFieldProp(e);if(!o.props||"onBlur"!==o.props.changeEvent||i!==o.value){var a=this.getStateClone();this.setState(this.updateFieldState(a,e,{pristine:!1,value:i}),function(){if(!n.i(p.isObject)(i)&&i===(o.value?o.value:""))return void r.props.onUpdateField(e,i);r.asyncValidators[e]&&(r.cancelAsyncValidators(e),r.setState(r.updateFieldState(a,e,{validating:!1})));var t=r.validateField(a,e,i);!0===t?r.runAsyncValidators(o,a,e,i):r.setState(r.updateFieldState(a,e,{valid:!1,error:t}),function(){r.props.onUpdateFormStatus(r.state.form),r.props.onUpdateField(e,i)})})}}},{key:"runAsyncValidators",value:function(e,t,n,r){var i=this;(e.asyncValidators||[]).length>0?this.setState(this.updateFieldState(t,n,{validating:!0}),function(){i.props.onUpdateFormStatus(i.state.form),i.props.onUpdateField(n,r),i.asyncValidators[n]=i.asyncValidationRunner.listenToValidatorsFor(n).subscribe(function(e){i.setState(i.updateFieldState(i.getStateClone(),e.fieldName,{validating:!1,valid:e.isValid,error:e.message}),function(){i.cancelAsyncValidators(e.fieldName),i.props.onUpdateFormStatus(i.state.form)})}),i.asyncValidationRunner.run(n,e.asyncValidators,r)}):this.setState(this.updateFieldState(t,n,{valid:!0}),function(){i.props.onUpdateFormStatus(i.state.form),i.props.onUpdateField(n,r)})}},{key:"validateField",value:function(e,t,n){var r=this.getFieldProp(t),i=(r.validators||[]).reduce(function(e,t){return!0===e?!0===t.validator(n)||t.message:e},!0);return this.updateFieldState(e,t,{valid:!0===i,error:!0===i?void 0:i}),i}},{key:"getFieldProp",value:function(e){return this.props.fields.filter(function(t){return t.name===e})[0]}}]),t}(c.a.Component);y.propTypes={fields:c.a.PropTypes.arrayOf(c.a.PropTypes.shape({name:c.a.PropTypes.string.isRequired,value:c.a.PropTypes.any,component:c.a.PropTypes.func.isRequired,props:c.a.PropTypes.shape({changeEvent:c.a.PropTypes.oneOf(["onChange","onBlur"])}),validators:c.a.PropTypes.arrayOf(c.a.PropTypes.shape({validator:c.a.PropTypes.func.isRequired,message:c.a.PropTypes.string.isRequired})),asyncValidators:c.a.PropTypes.arrayOf(c.a.PropTypes.func.isRequired),validatingLabelText:c.a.PropTypes.string})).isRequired,validatingLabelText:c.a.PropTypes.string,validatingProgressStyle:c.a.PropTypes.object,onUpdateField:c.a.PropTypes.func.isRequired,onUpdateFormStatus:c.a.PropTypes.func,style:c.a.PropTypes.object,fieldWrapStyle:c.a.PropTypes.object},y.defaultProps={validatingLabelText:"Validating...",validatingProgressStyle:{position:"absolute",right:-12,top:16},onUpdateFormStatus:m},t.a=y},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.props&&t.props.isRequired?e+" (*)":e}function o(e,t,r){return function(i){if(!i||!i.trim())return Promise.resolve(!0);var o=t.filter().on(e.fieldOptions.referenceProperty).equals(i);return r&&(o=o.filter().on("id").notEqual(r)),o.list().then(function(e){return 0!==e.size?n.i(f.getInstance)().then(function(e){return e.i18n.getTranslation("value_not_unique")}).then(function(e){return Promise.reject(e)}):Promise.resolve(!0)})}}function a(e,t){return e.unique&&(e.asyncValidators=[o(e,t.modelDefinition,t.id)]),e}function s(e,t){var r=e.models[t];return Object.keys(r.attributeProperties).map(function(t){var i=r.attributeProperties[t];return n.i(b.a)({name:i.name,valueType:i.valueType,type:b.b.get(i.optionSet?"CONSTANT":i.valueType),required:Boolean(i.mandatory),fieldOptions:{labelText:i.name,options:i.optionSet?i.optionSet.options.map(function(e){return{name:e.displayName||e.name,value:e.code}}):[]}},r,e.models)})}function u(e,t){return!(!e.attributes||!new Set(Object.keys(e.attributes)).has(t.name))}function c(e,t){return e.map(function(e){return u(t,e)?C({},e,{value:t.attributes[e.name]}):C({},e,{value:t[e.name]})}).map(k(t))}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w.identity,r=arguments[3];return g()(function(i){return i.filter(function(e){return e.model}).combineLatest(O.Observable.fromPromise(j(e,t,r)),function(e,t){return C({},e,{fieldConfigs:n(c(t,e.model))})})})}function p(e,t,n,r){function i(e){var t=e.fieldConfigs,n=e.editFieldChanged,r=e.detailsFormStatusChange,i=void 0===r?w.noop:r;return _.a.createElement(T.a,{fields:t,onUpdateField:n,onUpdateFormStatus:i})}return x()(g()(function(t){return t.combineLatest(e,function(e,t){return C({},e,{model:t})})}),l(t,n,void 0,r))(i)}n.d(t,"a",function(){return j}),t.b=a,t.e=u,t.d=l,t.c=p;var f=n(13),d=(n.n(f),n(627)),h=n(628),m=n(295),y=n(594),b=n(160),v=n(87),g=n.n(v),w=n(11),O=(n.n(w),n(14)),S=(n.n(O),n(0)),_=n.n(S),E=n(47),x=n.n(E),T=n(203),P=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j=function(){var e=r(regeneratorRuntime.mark(function e(t,r){var o,a,u,c,l,p,b,v,g,w,O=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.i(f.getInstance)();case 2:for(o=e.sent,a=new h.a(new d.a(o.models)),a.setFieldOrder(r||m.a.for(t)),u=!0,c=!1,l=void 0,e.prev=8,p=y.a.for(t)[Symbol.iterator]();!(u=(b=p.next()).done);u=!0)v=P(b.value,2),g=v[0],w=v[1],a.addFieldOverrideFor(g,w);e.next=16;break;case 12:e.prev=12,e.t0=e.catch(8),c=!0,l=e.t0;case 16:e.prev=16,e.prev=17,!u&&p.return&&p.return();case 19:if(e.prev=19,!c){e.next=22;break}throw l;case 22:return e.finish(19);case 23:return e.finish(16);case 24:return e.abrupt("return",a.getFormFieldsForModel({modelDefinition:o.models[t]}).map(function(e){return e.validators&&(e.validators=e.validators.map(function(e){return C({},e,{message:o.i18n.getTranslation(e.message)})})),e.props.labelText=i(o.i18n.getTranslation(e.props.labelText),e),e}).concat(O?s(o,t):[]));case 25:case"end":return e.stop()}},e,this,[[8,12,16,24],[17,,19,23]])}));return function(t,n){return e.apply(this,arguments)}}(),k=function(e){return function(t){return C({},t,{props:C({},t.props,{model:e})})}}},function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},o="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,n){if("string"!=typeof t){var a=Object.getOwnPropertyNames(t);o&&(a=a.concat(Object.getOwnPropertySymbols(t)));for(var s=0;s<a.length;++s)if(!(r[a[s]]||i[a[s]]||n&&n[a[s]]))try{e[a[s]]=t[a[s]]}catch(e){}}return e}},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t,n){"use strict";var r=n(14),i=(n.n(r),n(23)),o=n(154);t.a=i.a.create({listSourceSubject:new r.Subject,initialise:function(){var e=this;return this.listSourceSubject.concatAll().subscribe(function(t){e.setState({tableColumns:n.i(o.e)(t.modelDefinition.name),pager:t.pager,list:t.toArray(),filters:e.state&&e.state.filters?Object.assign(e.state.filters,n.i(o.c)(t.modelDefinition.name).filter(function(t){return!Object.keys(e.state.filters).includes(t)}).reduce(function(e,t){return e[t]=null,e},{})):n.i(o.f)(t.modelDefinition.name),searchString:e.state&&e.state.searchString||""})}),this},getNextPage:function(){this.listSourceSubject.next(r.Observable.fromPromise(this.state.pager.getNextPage()))},getPreviousPage:function(){this.listSourceSubject.next(r.Observable.fromPromise(this.state.pager.getPreviousPage()))}}).initialise()},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var i=n(0),o=n.n(i),a=n(69),s=n(13),u=(n.n(s),n(338)),c=n(339),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.a=o.a.createClass({displayName:"drop-down-async",propTypes:{referenceType:o.a.PropTypes.string.isRequired,value:o.a.PropTypes.shape({id:o.a.PropTypes.string.isRequired}),onChange:o.a.PropTypes.func.isRequired,quickAddLink:o.a.PropTypes.bool,preventAutoDefault:o.a.PropTypes.bool},getDefaultProps:function(){return{quickAddLink:!0,preventAutoDefault:!1}},getInitialState:function(){return{options:[],isRefreshing:!1}},loadOptions:function(){var e=this,t="id,displayName,name";"optionSet"===this.props.referenceType&&(t="id,displayName,name,valueType"),"program"===this.props.referenceType&&(t="id,displayName,name,programType");var r=this.props.queryParamFilter,i={};return n.i(s.getInstance)().then(function(n){if(i=n,n.models.hasOwnProperty(e.props.referenceType))return n.models[e.props.referenceType].list(Object.assign({fields:t,paging:!1,filter:r},r&&r.length>1?{rootJunction:"OR"}:{}));if(-1!==e.props.referenceType.indexOf(".")){var o=e.props.referenceType.substr(0,e.props.referenceType.indexOf(".")),a=e.props.referenceType.substr(o.length+1);return n.models[o].modelProperties[a].constants.map(function(e){return{displayName:n.i18n.getTranslation(e.toLowerCase()),id:e}})}}).then(function(e){return e?e.toArray?e.toArray():e:[]}).then(function(e){return e.map(function(e){return{text:e.displayName,value:e.id,model:e}})}).then(function(t){e.omgLikeJustStop||e.setState({options:t.map(function(e){return Object.assign(e,e.model&&e.model.modelDefinition&&"categoryCombo"===e.model.modelDefinition.name&&"default"===e.text?{text:i.i18n.getTranslation("none")}:{})})})})},componentDidMount:function(){this.loadOptions()},componentWillReceiveProps:function(e){var t=this.state.options.find(function(e){return"default"===e.model.name});e.value&&t&&t.model.id!==e.value.id&&this.props.model&&"TRACKER"===this.props.model.domainType&&this.props.onChange({target:{value:t.model}})},componentWillUnmount:function(){this.omgLikeJustStop=!0},render:function(){var e=this.props,t=(e.errorStyle,e.errorText,e.modelDefinition,e.models,e.referenceType,e.referenceProperty,e.isInteger,e.multiLine,e.fullWidth,e.translateOptions,e.options,e.model,e.queryParamFilter,e.quickAddLink),n=(e.preventAutoDefault,e.styles),i=r(e,["errorStyle","errorText","modelDefinition","models","referenceType","referenceProperty","isInteger","multiLine","fullWidth","translateOptions","options","model","queryParamFilter","quickAddLink","preventAutoDefault","styles"]),s=Object.assign({display:"flex",alignItems:"flex-end"},n);return o.a.createElement("div",{style:s},this.state.isRefreshing?o.a.createElement(c.a,{horizontal:!0}):null,o.a.createElement(a.a,l({},i,{options:this.state.options,value:this.props.value?this.props.value.id:void 0,onChange:this._onChange,fullWidth:!0})),t?o.a.createElement(u.a,{referenceType:this.props.referenceType,onRefreshClick:this._onRefreshClick}):null)},renderQuickAddLink:function(){var e=getSectionForType(this.props.referenceType);if(!e)return null;var t={quickAddWrap:{display:"flex"}};return o.a.createElement("div",{style:t.quickAddWrap},o.a.createElement(Link,{tooltip:"Add some related object",tooltipPosition:"top-left",to:"/edit/"+e+"/"+this.props.referenceType+"/add",target:"_blank",rel:"noopener noreferrer"},o.a.createElement(IconButton,{tooltip:"Add new",tooltipPosition:"top-left"},o.a.createElement(AddCircleOutlineIcon,null))),o.a.createElement(IconButton,{tooltip:"Refresh values",tooltipPosition:"top-left",onClick:this._onRefreshClick},o.a.createElement(RefreshIcon,null)))},_onRefreshClick:function(){var e=this;this.setState({isRefreshing:!0}),this.loadOptions().then(function(){return e.setState({isRefreshing:!1})})},_onChange:function(e){if(null===e.target.value)return void this.props.onChange({target:{value:null}});var t=this.state.options.find(function(t){return t.model.id===e.target.value});t&&t.model&&this.props.onChange({target:{value:t.model}})}})},function(e,t,n){"use strict";var r=n(369),i={flexDirection:"row",justifyContent:"space-between"};t.a=n.i(r.a)(i,"Row")},function(e,t,n){"use strict";function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(0),s=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.render=function(){return null},t}(a.Component);s.displayName="Nothing";var u=function(e){return s};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(44),a=(r(o),n(54)),s=(r(a),n(72)),u=r(s),c=function(e){var t=(0,u.default)(function(t){return i({},t,"function"==typeof e?e(t):e)});return t};t.default=c},function(e,t,n){"use strict";var r=n(23);t.a=r.a.create()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e){if(e&&e[Symbol.iterator]){[].concat(o(e)).forEach(function(e){e instanceof f.default||(0,l.throwError)("Values of a ModelCollection must be instances of Model")})}}function s(e){if(e&&e[Symbol.iterator]){[].concat(o(e)).forEach(function(e){(0,c.isValidUid)(e.id)||(0,l.throwError)("Can not add a Model without id to a ModelCollection")})}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(25),l=n(133),p=n(134),f=r(p),d=n(381),h=r(d),m=n(385),y=r(m),b=function(){function e(t,n,r){var o=this;i(this,e),(0,c.checkType)(t,h.default),this.modelDefinition=t,this.pager=new y.default(r,t),this.valuesContainerMap=new Map,this[Symbol.iterator]=this.valuesContainerMap[Symbol.iterator].bind(this.valuesContainerMap),a(n),s(n),(0,c.isArray)(n)&&n.forEach(function(e){return o.valuesContainerMap.set(e.id,e)})}return u(e,[{key:"add",value:function(e){return a([e]),s([e]),this.set(e.id,e),this}},{key:"toArray",value:function(){var e=[];return this.forEach(function(t){e.push(t)}),e}},{key:"clear",value:function(){return this.valuesContainerMap.clear.call(this.valuesContainerMap)}},{key:"delete",value:function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.valuesContainerMap.delete).call.apply(e,[this.valuesContainerMap].concat(n))}},{key:"entries",value:function(){return this.valuesContainerMap.entries.call(this.valuesContainerMap)}},{key:"forEach",value:function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.valuesContainerMap.forEach).call.apply(e,[this.valuesContainerMap].concat(n))}},{key:"get",value:function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.valuesContainerMap.get).call.apply(e,[this.valuesContainerMap].concat(n))}},{key:"has",value:function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.valuesContainerMap.has).call.apply(e,[this.valuesContainerMap].concat(n))}},{key:"keys",value:function(){return this.valuesContainerMap.keys.call(this.valuesContainerMap)}},{key:"set",value:function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.valuesContainerMap.set).call.apply(e,[this.valuesContainerMap].concat(n))}},{key:"values",value:function(){return this.valuesContainerMap.values.call(this.valuesContainerMap)}},{key:"size",get:function(){return this.valuesContainerMap.size}}],[{key:"create",value:function(t,n,r){return new e(t,n,r)}},{key:"throwIfContainsOtherThanModelObjects",value:function(e){return a(e)}},{key:"throwIfContainsModelWithoutUid",value:function(e){return s(e)}}]),e}();t.default=b},function(e,t,n){function r(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?s(e)?o(e[0],e[1]):i(e):u(e)}var i=n(841),o=n(842),a=n(162),s=n(57),u=n(900);e.exports=r},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(140),a=(n.n(o),n(40)),s=(n.n(a),n(51)),u=n.n(s),c={dragHandle:{userSelect:"none",cursor:"move",transition:"none"},dragHandleColor:a.orange500,dragHandleHoverColor:a.orange200},l=n.i(o.SortableHandle)(function(){return i.a.createElement(u.a,{color:c.dragHandleColor,hoverColor:c.dragHandleHoverColor,className:"material-icons",style:c.dragHandle},"reorder")});t.a=l},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n(11),i=(n.n(r),function(e){var t=e.programStages,i=e.programStageNotifications;return n.i(r.compose)(n.i(r.get)(r.__,i),n.i(r.get)("id"),r.first)(t)}),o=(n.i(r.get)("eventProgram.stageNotifications.isDeleting"),n.i(r.get)("eventProgram.stageNotifications.objectNameToBeDeleted"),n.i(r.get)("eventProgram.stageNotifications.modelToEdit"))},function(e,t,n){"use strict";function r(e){var t=e.children,n=e.style,r=void 0===n?{}:n,i=a({},s.formFieldSubFields,r);return o.a.createElement("div",{style:i},t)}t.a=r;var i=n(0),o=n.n(i),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s={formFieldSubFields:{transition:"all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms",boxSizing:"content-box",borderRadius:"2px",width:"100%",backgroundColor:"rgb(250, 250, 250)",paddingLeft:"1rem",paddingBottom:"0.5rem",marginLeft:"-0.5rem",marginBottom:"1rem",boxShadow:"rgba(0, 0, 0, 0.15) 0px 2px 5px -1px inset"}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(33),c=n(44),l=n.n(c),p=n(11),f=(n.n(p),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),d(t,[{key:"render",value:function(){return null}}]),t}(a.Component);t.a=n.i(p.memoize)(function e(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h,o=function(e,n){return t(e,n)?s.a.createElement(r,f({d2:n.d2},e)):s.a.createElement(i,f({d2:n.d2},e))};return o.displayName=l()(r,e.name),n.i(u.a)(o)})},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id,displayName";return n.i(i.getInstance)().then(function(n){return n.models[e].list({paging:!1,fields:t})}).then(function(e){return e.toArray()})}t.a=r;var i=n(13);n.n(i)},function(e,t,n){"use strict";var r=n(209),i=n(301);n(367),n(368);n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return i.a})},function(e,t,n){"use strict";function r(e){function t(t){var n=t.target.value;e.onItemDoubleClick&&e.onItemDoubleClick(n)}var n=e.source.map(function(e){return o.a.createElement("option",{key:e.value,style:{padding:".25rem"},onDoubleClick:t,value:e.value},e.label)});return o.a.createElement("div",{className:"list-select"},o.a.createElement("select",{size:e.size||15,style:Object.assign({overflowX:"auto"},e.listStyle)},n))}t.a=r;var i=n(0),o=n.n(i);r.propTypes={source:i.PropTypes.arrayOf(i.PropTypes.shape({label:i.PropTypes.string,value:i.PropTypes.string})).isRequired,onItemDoubleClick:i.PropTypes.func.isRequired,listStyle:i.PropTypes.object,size:i.PropTypes.number}},function(e,t,n){"use strict";function r(e){var t=this,n=Array.isArray(e)?e:e.toArray(),r=n.filter(function(e){return!t.props.selected.includes(e.path)});this.props.onUpdateSelection(this.props.selected.concat(r.map(function(e){return e.path})))}function i(e){var t=this,n=Array.isArray(e)?e:e.toArray(),r=n.filter(function(e){return t.props.selected.includes(e.path)}),i=r.map(function(e){return e.path}),o=this.props.selected.filter(function(e){return!i.includes(e)});this.props.onUpdateSelection(o)}function o(e){this.setState({selection:e.target.value})}function a(e,t){return c.a.createElement("div",{style:{position:"relative",minHeight:89}},c.a.createElement(l.a,{value:this.state.selection,menuItems:e,onChange:this.handleChangeSelection,floatingLabelText:this.getTranslation(t),disabled:this.state.loading}),this.renderControls())}function s(){var e=this.state.loading||!this.state.selection;return c.a.createElement("div",{style:{position:"absolute",display:"inline-block",top:24,marginLeft:16}},this.state.loading&&c.a.createElement(h.a,{size:.5,style:m.progress}),c.a.createElement(f.a,{label:this.getTranslation("select"),style:m.button1,onClick:this.handleSelect,disabled:e}),c.a.createElement(f.a,{label:this.getTranslation("deselect"),style:m.button,onClick:this.handleDeselect,disabled:e}))}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"d",function(){return s});var u=n(0),c=n.n(u),l=n(365),p=n(116),f=n.n(p),d=n(102),h=n.n(d),m={button:{position:"relative",top:3,marginLeft:16},progress:{height:2,backgroundColor:"rgba(0,0,0,0)",top:46}};m.button1=Object.assign({},m.button,{marginLeft:0})},,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return Boolean(e.modelDefinition&&e.modelDefinition.modelValidations&&e.modelDefinition.modelValidations[t]&&Object.prototype.hasOwnProperty.call(e.modelDefinition.modelValidations,t))}function o(e){return e&&"Created"===e.httpStatus&&e&&(0,c.isValidUid)(e.response.uid)&&(this.dataValues.id=e.response.uid,this.dataValues.href=[this.modelDefinition.apiEndpoint,this.dataValues.id].join("/")),this.dirty=!1,this.getDirtyChildren().forEach(function(e){e.resetDirtyState?e.resetDirtyState():e.dirty=!1}),this[f].clear(),e}Object.defineProperty(t,"__esModule",{value:!0}),t.DIRTY_PROPERTY_LIST=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(383),u=function(e){return e&&e.__esModule?e:{default:e}}(s),c=n(25),l=n(111),p=u.default.getModelValidation(),f=t.DIRTY_PROPERTY_LIST=Symbol("List to keep track of dirty properties"),d=function(){function e(){r(this,e)}return a(e,[{key:"create",value:function(){var e=this;return this.validate().then(function(t){return t.status?e.modelDefinition.saveNew(e).then(function(t){return o.call(e,t)}):Promise.reject(t)})}},{key:"save",value:function(e){var t=this;return this.isDirty(e)?this.validate().then(function(e){return e.status?t.modelDefinition.save(t).then(function(e){return o.call(t,e)}):Promise.reject(e)}):Promise.resolve({})}},{key:"validate",value:function(){var e=this;return new Promise(function(t,n){function r(e,t){return t&&-1===e.indexOf(t)&&e.push(t),e}var i=[];(function(e){return p.validateAgainstSchema(e)})(e).catch(function(e){return Array.isArray(e)?e:Promise.reject(e)}).then(function(e){i=i.concat(e);var n={status:0===e.length,fields:i.map(function(e){return e.property}).reduce(r,[]),messages:i};t(n)}).catch(function(e){return n(e)})})}},{key:"clone",value:function(){var e=this.modelDefinition.create((0,l.getJSONForProperties)(this,Object.keys(this.modelDefinition.modelValidations),!0));return this.isDirty()&&(e.dirty=this.isDirty(!0)),e}},{key:"delete",value:function(){return this.modelDefinition.delete(this)}},{key:"isDirty",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return!!(this.dirty||!0===e&&this.hasDirtyChildren())}},{key:"getDirtyPropertyNames",value:function(){return Array.from(this[f].values())}},{key:"getCollectionChildren",value:function(){var e=this;return Object.keys(this).filter(function(t){return e[t]&&i(e,t)&&e.modelDefinition.modelValidations[t].owner}).map(function(t){return e[t]})}},{key:"getCollectionChildrenPropertyNames",value:function(){var e=this;return Object.keys(this).filter(function(t){return e.modelDefinition&&e.modelDefinition.modelValidations&&e.modelDefinition.modelValidations[t]&&"COLLECTION"===e.modelDefinition.modelValidations[t].type})}},{key:"getReferenceProperties",value:function(){var e=this;return Object.keys(this).filter(function(t){return e.modelDefinition&&e.modelDefinition.modelValidations&&e.modelDefinition.modelValidations[t]&&"REFERENCE"===e.modelDefinition.modelValidations[t].type&&!1===e.modelDefinition.modelValidations[t].embeddedObject})}},{key:"getEmbeddedObjectCollectionPropertyNames",value:function(){var e=this;return this.getCollectionChildrenPropertyNames().filter(function(t){return e.modelDefinition.modelValidations[t].embeddedObject})}},{key:"getDirtyChildren",value:function(){return this.getCollectionChildren().filter(function(e){return e&&!0===e.dirty})}},{key:"hasDirtyChildren",value:function(){return this.getDirtyChildren().length>0}},{key:"toJSON",value:function(){return(0,l.getJSONForProperties)(this,Object.keys(this.modelDefinition.modelValidations))}}]),e}();t.default=new d},function(e,t,n){"use strict";function r(){}function i(e){var t;return e=(e+"").trim().toLowerCase(),(t=O.exec(e))?(t=parseInt(t[1],16),new c(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1)):(t=S.exec(e))?o(parseInt(t[1],16)):(t=_.exec(e))?new c(t[1],t[2],t[3],1):(t=E.exec(e))?new c(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=x.exec(e))?a(t[1],t[2],t[3],t[4]):(t=T.exec(e))?a(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=P.exec(e))?l(t[1],t[2]/100,t[3]/100,1):(t=C.exec(e))?l(t[1],t[2]/100,t[3]/100,t[4]):j.hasOwnProperty(e)?o(j[e]):"transparent"===e?new c(NaN,NaN,NaN,0):null}function o(e){return new c(e>>16&255,e>>8&255,255&e,1)}function a(e,t,n,r){return r<=0&&(e=t=n=NaN),new c(e,t,n,r)}function s(e){return e instanceof r||(e=i(e)),e?(e=e.rgb(),new c(e.r,e.g,e.b,e.opacity)):new c}function u(e,t,n,r){return 1===arguments.length?s(e):new c(e,t,n,null==r?1:r)}function c(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function l(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new d(e,t,n,r)}function p(e){if(e instanceof d)return new d(e.h,e.s,e.l,e.opacity);if(e instanceof r||(e=i(e)),!e)return new d;if(e instanceof d)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,a=Math.min(t,n,o),s=Math.max(t,n,o),u=NaN,c=s-a,l=(s+a)/2;return c?(u=t===s?(n-o)/c+6*(n<o):n===s?(o-t)/c+2:(t-n)/c+4,c/=l<.5?s+a:2-s-a,u*=60):c=l>0&&l<1?0:u,new d(u,c,l,e.opacity)}function f(e,t,n,r){return 1===arguments.length?p(e):new d(e,t,n,null==r?1:r)}function d(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function h(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}t.c=r,n.d(t,"e",function(){return y}),n.d(t,"d",function(){return b}),t.h=i,t.b=s,t.g=u,t.a=c,t.f=f;var m=n(250),y=.7,b=1/y,v="\\s*([+-]?\\d+)\\s*",g="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",w="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",O=/^#([0-9a-f]{3})$/,S=/^#([0-9a-f]{6})$/,_=new RegExp("^rgb\\("+[v,v,v]+"\\)$"),E=new RegExp("^rgb\\("+[w,w,w]+"\\)$"),x=new RegExp("^rgba\\("+[v,v,v,g]+"\\)$"),T=new RegExp("^rgba\\("+[w,w,w,g]+"\\)$"),P=new RegExp("^hsl\\("+[g,w,w]+"\\)$"),C=new RegExp("^hsla\\("+[g,w,w,g]+"\\)$"),j={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};n.i(m.a)(r,i,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),n.i(m.a)(c,u,n.i(m.b)(r,{brighter:function(e){return e=null==e?b:Math.pow(b,e),new c(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?y:Math.pow(y,e),new c(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(1===e?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),n.i(m.a)(d,f,n.i(m.b)(r,{brighter:function(e){return e=null==e?b:Math.pow(b,e),new d(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?y:Math.pow(y,e),new d(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new c(h(e>=240?e-240:e+120,i,r),h(e,i,r),h(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}t.b=r,t.a=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e}},,function(e,t,n){"use strict";t.__esModule=!0,t.go=t.replaceLocation=t.pushLocation=t.startListener=t.getUserConfirmation=t.getCurrentLocation=void 0;var r=n(112),i=n(174),o=n(390),a=n(78),s=n(253),u=s.canUseDOM&&!(0,i.supportsPopstateOnHashchange)(),c=function(e){var t=e&&e.key;return(0,r.createLocation)({pathname:window.location.pathname,search:window.location.search,hash:window.location.hash,state:t?(0,o.readState)(t):void 0},void 0,t)},l=t.getCurrentLocation=function(){var e=void 0;try{e=window.history.state||{}}catch(t){e={}}return c(e)},p=(t.getUserConfirmation=function(e,t){return t(window.confirm(e))},t.startListener=function(e){var t=function(t){(0,i.isExtraneousPopstateEvent)(t)||e(c(t.state))};(0,i.addEventListener)(window,"popstate",t);var n=function(){return e(l())};return u&&(0,i.addEventListener)(window,"hashchange",n),function(){(0,i.removeEventListener)(window,"popstate",t),u&&(0,i.removeEventListener)(window,"hashchange",n)}},function(e,t){var n=e.state,r=e.key;void 0!==n&&(0,o.saveState)(r,n),t({key:r},(0,a.createPath)(e))});t.pushLocation=function(e){return p(e,function(e,t){return window.history.pushState(e,null,t)})},t.replaceLocation=function(e){return p(e,function(e,t){return window.history.replaceState(e,null,t)})},t.go=function(e){e&&window.history.go(e)}},function(e,t,n){"use strict";t.__esModule=!0;t.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement)},function(e,t,n){"use strict";t.__esModule=!0;var r=n(786),i=n(78),o=n(255),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=n(173),u=n(112),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getCurrentLocation,n=e.getUserConfirmation,o=e.pushLocation,c=e.replaceLocation,l=e.go,p=e.keyLength,f=void 0,d=void 0,h=[],m=[],y=[],b=function(){return d&&d.action===s.POP?y.indexOf(d.key):f?y.indexOf(f.key):-1},v=function(e){var t=b();f=e,f.action===s.PUSH?y=[].concat(y.slice(0,t+1),[f.key]):f.action===s.REPLACE&&(y[t]=f.key),m.forEach(function(e){return e(f)})},g=function(e){return h.push(e),function(){return h=h.filter(function(t){return t!==e})}},w=function(e){return m.push(e),function(){return m=m.filter(function(t){return t!==e})}},O=function(e,t){(0,r.loopAsync)(h.length,function(t,n,r){(0,a.default)(h[t],e,function(e){return null!=e?r(e):n()})},function(e){n&&"string"==typeof e?n(e,function(e){return t(!1!==e)}):t(!1!==e)})},S=function(e){f&&(0,u.locationsAreEqual)(f,e)||d&&(0,u.locationsAreEqual)(d,e)||(d=e,O(e,function(t){if(d===e)if(d=null,t){if(e.action===s.PUSH){var n=(0,i.createPath)(f),r=(0,i.createPath)(e);r===n&&(0,u.statesAreEqual)(f.state,e.state)&&(e.action=s.REPLACE)}e.action===s.POP?v(e):e.action===s.PUSH?!1!==o(e)&&v(e):e.action===s.REPLACE&&!1!==c(e)&&v(e)}else if(f&&e.action===s.POP){var a=y.indexOf(f.key),p=y.indexOf(e.key);-1!==a&&-1!==p&&l(a-p)}}))},_=function(e){return S(j(e,s.PUSH))},E=function(e){return S(j(e,s.REPLACE))},x=function(){return l(-1)},T=function(){return l(1)},P=function(){return Math.random().toString(36).substr(2,p||6)},C=function(e){return(0,i.createPath)(e)},j=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P();return(0,u.createLocation)(e,t,n)};return{getCurrentLocation:t,listenBefore:g,listen:w,transitionTo:S,push:_,replace:E,go:l,goBack:x,goForward:T,createKey:P,createPath:i.createPath,createHref:C,createLocation:j}};t.default=c},function(e,t,n){"use strict";t.__esModule=!0;var r=n(22),i=(function(e){e&&e.__esModule}(r),function(e,t,n){var r=e(t,n);e.length<2&&n(r)});t.default=i},,function(e,t,n){"use strict";function r(e){if(!n.i(a.a)(e)||n.i(i.a)(e)!=s)return!1;var t=n.i(o.a)(e);if(null===t)return!0;var r=p.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&l.call(r)==f}var i=n(812),o=n(814),a=n(819),s="[object Object]",u=Function.prototype,c=Object.prototype,l=u.toString,p=c.hasOwnProperty,f=l.call(Object);t.a=r},function(e,t,n){var r=n(95),i=n(58),o=r(i,"Map");e.exports=o},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(875),o=n(876),a=n(877),s=n(878),u=n(879);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,e.exports=r},function(e,t){function n(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||i.test(e))&&e>-1&&e%1==0&&e<t}var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;e.exports=n},function(e,t,n){function r(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(s.test(e)||!a.test(e)||null!=t&&e in Object(t))}var i=n(57),o=n(135),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=r},function(e,t,n){var r=n(835),i=n(120),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}var r=9007199254740991;e.exports=n},,,,,,,,,,,function(e,t,n){"use strict";function r(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}t.a=r},function(e,t,n){"use strict";function r(e,t,n){function r(){if(a=!0,s)return void(c=[].concat(Array.prototype.slice.call(arguments)));n.apply(this,arguments)}function i(){if(!a&&(u=!0,!s)){for(s=!0;!a&&o<e&&u;)u=!1,t.call(this,o++,i,r);if(s=!1,a)return void n.apply(this,c);o>=e&&u&&(a=!0,n())}}var o=0,a=!1,s=!1,u=!1,c=void 0;i()}function i(e,t,n){function r(e,t,r){a||(t?(a=!0,n(t)):(o[e]=r,(a=++s===i)&&n(null,o)))}var i=e.length,o=[];if(0===i)return n(null,o);var a=!1,s=0;e.forEach(function(e,n){t(e,n,function(e,t){r(n,e,t)})})}t.b=r,t.a=i},function(e,t,n){"use strict";function r(e){return"@@contextSubscriber/"+e}function i(e){var t,n,i=r(e),o=i+"/listeners",a=i+"/eventIndex",s=i+"/subscribe";return n={childContextTypes:(t={},t[i]=u.isRequired,t),getChildContext:function(){var e;return e={},e[i]={eventIndex:this[a],subscribe:this[s]},e},componentWillMount:function(){this[o]=[],this[a]=0},componentWillReceiveProps:function(){this[a]++},componentDidUpdate:function(){var e=this;this[o].forEach(function(t){return t(e[a])})}},n[s]=function(e){var t=this;return this[o].push(e),function(){t[o]=t[o].filter(function(t){return t!==e})}},n}function o(e){var t,n,i=r(e),o=i+"/lastRenderedEventIndex",a=i+"/handleContextUpdate",s=i+"/unsubscribe";return n={contextTypes:(t={},t[i]=u,t),getInitialState:function(){var e;return this.context[i]?(e={},e[o]=this.context[i].eventIndex,e):{}},componentDidMount:function(){this.context[i]&&(this[s]=this.context[i].subscribe(this[a]))},componentWillReceiveProps:function(){var e;this.context[i]&&this.setState((e={},e[o]=this.context[i].eventIndex,e))},componentWillUnmount:function(){this[s]&&(this[s](),this[s]=null)}},n[a]=function(e){if(e!==this.state[o]){var t;this.setState((t={},t[o]=e,t))}},n}t.a=i,t.b=o;var a=n(2),s=n.n(a),u=s.a.shape({subscribe:s.a.func.isRequired,eventIndex:s.a.number.isRequired})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(2),i=(n.n(r),n.i(r.shape)({push:r.func.isRequired,replace:r.func.isRequired,go:r.func.isRequired,goBack:r.func.isRequired,goForward:r.func.isRequired,setRouteLeaveHook:r.func.isRequired,isActive:r.func.isRequired}));n.i(r.shape)({pathname:r.string.isRequired,search:r.string.isRequired,state:r.object,action:r.string.isRequired,key:r.string})},function(e,t,n){"use strict";var r=n(24),i=n.n(r),o=n(0),a=n.n(o),s=n(60),u=n.n(s),c=n(2),l=(n.n(c),n(1036)),p=n(276),f=n(79),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m=u()({displayName:"RouterContext",mixins:[n.i(p.a)("router")],propTypes:{router:c.object.isRequired,location:c.object.isRequired,routes:c.array.isRequired,params:c.object.isRequired,components:c.array.isRequired,createElement:c.func.isRequired},getDefaultProps:function(){return{createElement:a.a.createElement}},childContextTypes:{router:c.object.isRequired},getChildContext:function(){return{router:this.props.router}},createElement:function(e,t){return null==e?null:this.props.createElement(e,t)},render:function(){var e=this,t=this.props,r=t.location,o=t.routes,s=t.params,u=t.components,c=t.router,p=null;return u&&(p=u.reduceRight(function(t,i,a){if(null==i)return t;var u=o[a],p=n.i(l.a)(u,s),m={location:r,params:s,route:u,router:c,routeParams:p,routes:o};if(n.i(f.a)(t))m.children=t;else if(t)for(var y in t)Object.prototype.hasOwnProperty.call(t,y)&&(m[y]=t[y]);if("object"===(void 0===i?"undefined":h(i))){var b={};for(var v in i)Object.prototype.hasOwnProperty.call(i,v)&&(b[v]=e.createElement(i[v],d({key:v},m)));return b}return e.createElement(i,m)},p)),null===p||!1===p||a.a.isValidElement(p)||i()(!1),p}});t.a=m},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.componentFromStreamWithConfig=void 0;var a=n(0),s=n(346),u=n(164),c=function(e){return e&&e.__esModule?e:{default:e}}(u),l=n(200),p=t.componentFromStreamWithConfig=function(e){return function(t){return function(n){function a(){var o,u,l,p;r(this,a);for(var f=arguments.length,d=Array(f),h=0;h<f;h++)d[h]=arguments[h];return u=l=i(this,n.call.apply(n,[this].concat(d))),l.state={vdom:null},l.propsEmitter=(0,s.createChangeEmitter)(),l.props$=e.fromESObservable((o={subscribe:function(e){return{unsubscribe:l.propsEmitter.listen(function(t){t?e.next(t):e.complete()})}}},o[c.default]=function(){return this},o)),l.vdom$=e.toESObservable(t(l.props$)),p=u,i(l,p)}return o(a,n),a.prototype.componentWillMount=function(){var e=this;this.subscription=this.vdom$.subscribe({next:function(t){e.setState({vdom:t})}}),this.propsEmitter.emit(this.props)},a.prototype.componentWillReceiveProps=function(e){this.propsEmitter.emit(e)},a.prototype.shouldComponentUpdate=function(e,t){return t.vdom!==this.state.vdom},a.prototype.componentWillUnmount=function(){this.propsEmitter.emit(),this.subscription.unsubscribe()},a.prototype.render=function(){return this.state.vdom},a}(a.Component)}},f=function(e){return p(l.config)(e)};t.default=f},,function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(1),o=function(e){function t(t,n){e.call(this),this.value=t,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return r(t,e),t.create=function(e,n){return new t(e,n)},t.dispatch=function(e){var t=e.done,n=e.value,r=e.subscriber;if(t)return void r.complete();r.next(n),r.closed||(e.done=!0,this.schedule(e))},t.prototype._subscribe=function(e){var n=this.value,r=this.scheduler;if(r)return r.schedule(t.dispatch,0,{done:!1,value:n,subscriber:e});e.next(n),e.closed||e.complete()},t}(i.Observable);t.ScalarObservable=o},function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=null;return"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&a.isArray(e[0])&&(e=e[0].slice()),e.unshift(this),this.lift.call(new o.ArrayObservable(e),new l(n))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(64),a=n(65),s=n(17),u=n(18),c={};t.combineLatest=r;var l=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new p(e,this.project))},e}();t.CombineLatestOperator=l;var p=function(e){function t(t,n){e.call(this,t),this.project=n,this.active=0,this.values=[],this.observables=[]}return i(t,e),t.prototype._next=function(e){this.values.push(c),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(u.subscribeToResult(this,r,r,n))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,i){var o=this.values,a=o[n],s=this.toRespond?a===c?--this.toRespond:this.toRespond:0;o[n]=t,0===s&&(this.project?this._tryProject(o):this.destination.next(o.slice()))},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(s.OuterSubscriber);t.CombineLatestSubscriber=p},function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return this.lift.call(i.apply(void 0,[this].concat(e)))}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=null,r=e;return a.isScheduler(r[e.length-1])&&(n=r.pop()),null===n&&1===e.length&&e[0]instanceof o.Observable?e[0]:new s.ArrayObservable(e,n).lift(new u.MergeAllOperator(1))}var o=n(1),a=n(66),s=n(64),u=n(192);t.concat=r,t.concatStatic=i},function(e,t,n){"use strict";function r(e,t){return this.lift(new a(e,t))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12);t.filter=r;var a=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.thisArg))},e}(),s=function(e){function t(t,n,r){e.call(this,t),this.predicate=n,this.thisArg=r,this.count=0,this.predicate=n}return i(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(o.Subscriber)},function(e,t,n){"use strict";function r(e,t){return void 0===t&&(t=0),this.lift(new s(e,t))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12),a=n(144);t.observeOn=r;var s=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.scheduler,this.delay))},e}();t.ObserveOnOperator=s;var u=function(e){function t(t,n,r){void 0===r&&(r=0),e.call(this,t),this.scheduler=n,this.delay=r}return i(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.add(this.scheduler.schedule(t.dispatch,this.delay,new c(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(a.Notification.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(a.Notification.createError(e))},t.prototype._complete=function(){this.scheduleMessage(a.Notification.createComplete())},t}(o.Subscriber);t.ObserveOnSubscriber=u;var c=function(){function e(e,t){this.notification=e,this.destination=t}return e}();t.ObserveOnMessage=c},function(e,t,n){"use strict";function r(e,t){var n=!1;return arguments.length>=2&&(n=!0),this.lift(new a(e,t,n))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12);t.reduce=r;var a=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.accumulator,this.seed,this.hasSeed))},e}();t.ReduceOperator=a;var s=function(e){function t(t,n,r,i){e.call(this,t),this.accumulator=n,this.hasSeed=i,this.index=0,this.hasValue=!1,this.acc=r,this.hasSeed||this.index++}return i(t,e),t.prototype._next=function(e){this.hasValue||(this.hasValue=this.hasSeed)?this._tryReduce(e):(this.acc=e,this.hasValue=!0)},t.prototype._tryReduce=function(e){var t;try{t=this.accumulator(this.acc,e,this.index++)}catch(e){return void this.destination.error(e)}this.acc=t},t.prototype._complete=function(){(this.hasValue||this.hasSeed)&&this.destination.next(this.acc),this.destination.complete()},t}(o.Subscriber);t.ReduceSubscriber=s},function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return this.lift.call(i.apply(void 0,[this].concat(e)))}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=e[e.length-1];return"function"==typeof n&&e.pop(),new a.ArrayObservable(e).lift(new f(n))}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=n(64),s=n(65),u=n(12),c=n(17),l=n(18),p=n(147);t.zipProto=r,t.zipStatic=i;var f=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.project))},e}();t.ZipOperator=f;var d=function(e){function t(t,n,r){void 0===r&&(r=Object.create(null)),e.call(this,t),this.iterators=[],this.active=0,this.project="function"==typeof n?n:null,this.values=r}return o(t,e),t.prototype._next=function(e){var t=this.iterators;s.isArray(e)?t.push(new m(e)):"function"==typeof e[p.iterator]?t.push(new h(e[p.iterator]())):t.push(new y(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(0===t)return void this.destination.complete();this.active=t;for(var n=0;n<t;n++){var r=e[n];r.stillUnsubscribed?this.add(r.subscribe(r,n)):this.active--}},t.prototype.notifyInactive=function(){0===--this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++){var i=e[r];if("function"==typeof i.hasValue&&!i.hasValue())return}for(var o=!1,a=[],r=0;r<t;r++){var i=e[r],s=i.next();if(i.hasCompleted()&&(o=!0),s.done)return void n.complete();a.push(s.value)}this.project?this._tryProject(a):n.next(a),o&&n.complete()},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(u.Subscriber);t.ZipSubscriber=d;var h=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return e&&e.done},e}(),m=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[p.iterator]=function(){return this},e.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),y=function(e){function t(t,n,r){e.call(this,t),this.parent=n,this.observable=r,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return o(t,e),t.prototype[p.iterator]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,i){this.buffer.push(t),this.parent.checkIterators()},t.prototype.subscribe=function(e,t){return l.subscribeToResult(this,this.observable,this,t)},t}(c.OuterSubscriber)},function(e,t){e.exports=_},function(e,t,n){"use strict";var r=n(23);t.a=r.a.create()},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(83);t.a=i.a.createClass({displayName:"LoadingMask.component",render:function(){var e={left:"45%",position:"fixed",top:"45%"};return i.a.createElement("div",{style:e},i.a.createElement(o.a,null))}})},,,,,function(e,t,n){"use strict";var r=new Map([["dataElement",["name","shortName","code","description","formName","domainType","valueType","aggregationType","zeroIsSignificant","url","categoryCombo","optionSet","commentOptionSet","legendSets","aggregationLevels"]],["dataElementGroup",["name","shortName","code","description","dataElements"]],["dataElementGroupSet",["name","shortName","code","description","compulsory","dataDimension","dataElementGroups"]],["category",["name","shortName","code","description","dataDimensionType","dataDimension","categoryOptions"]],["categoryOption",["name","shortName","code","description","startDate","endDate","organisationUnits"]],["categoryCombo",["name","shortName","code","dataDimensionType","skipTotal","categories"]],["categoryOptionGroup",["name","shortName","code","description","dataDimensionType","categoryOptions"]],["categoryOptionGroupSet",["name","description","dataDimension","dataDimensionType","categoryOptionGroups"]],["indicator",["name","shortName","code","description","annualized","decimals","indicatorType","legendSets","url","aggregateExportCategoryOptionCombo","aggregateExportAttributeOptionCombo"]],["indicatorGroup",["name","indicators"]],["indicatorType",["name","factor"]],["indicatorGroupSet",["name","description","compulsory","indicatorGroups"]],["dataSet",["name","shortName","code","description","expiryDays","openFuturePeriods","timelyDays","periodType","dataInputPeriods","categoryCombo","notificationRecipients","notifyCompletingUser","workflow","mobile","fieldCombinationRequired","validCompleteOnly","noValueRequiresComment","legendSets","skipOffline","dataElementDecoration","renderAsTabs","renderHorizontally","dataSetElements","indicators","organisationUnits"]],["organisationUnit",["parent","name","shortName","code","description","openingDate","closedDate","comment","url","contactPerson","address","email","phoneNumber","coordinates","dataSets"]],["organisationUnitGroup",["name","shortName","code","description","symbol","organisationUnits"]],["organisationUnitGroupSet",["name","shortName","code","description","compulsory","dataDimension","includeSubhierarchyInAnalytics","organisationUnitGroups"]],["organisationUnitLevel",["name","offlineLevels"]],["constant",["name","shortName","code","description","value"]],["attribute",["name","code","valueType","optionSet","sortOrder","mandatory","unique","dataElementAttribute"]],["optionSet",["name","code","description","valueType"]],["legendSet",["name","code","legends"]],["program",["name","shortName","description","categoryCombo","workflow","completeEventsExpiryDays","expiryPeriodType","expiryDays"]],["trackedEntityAttribute",["name","shortName","code","description","optionSet","valueType","aggregationType","unique","inherit","confidential","displayInListNoProgram","legendSets"]],["trackedEntityAttributeGroup",["name","shortName","code","description","trackedEntityAttributes"]],["relationshipType",["name","code","aIsToB","bIsToA"]],["trackedEntity",["name","description"]],["programIndicator",["program","name","shortName","code","description","decimals","aggregationType","analyticsType","displayInForm","legendSets","aggregateExportCategoryOptionCombo","aggregateExportAttributeOptionCombo","expression","filter"]],["programIndicatorGroup",["name","code","programIndicators"]],["validationRule",["name","shortName","code","description","instruction","importance","ruleType","importance","ruleType","periodType","leftSide","operator","rightSide"]],["validationRuleGroup",["name","shortName","code","description","validationRules"]],["predictor",["name","shortName","code","description","output","periodType","organisationUnitLevels","generator","sampleSkipTest","sequentialSampleCount","annualSampleCount","sequentialSkipCount"]],["pushAnalysis",["name","code","title","message","dashboard","recipientUserGroups","schedulingFrequency","enabled"]],["externalMapLayer",["name","code","mapService","imageFormat","url","attribution","mapLayerPosition","legendSet","legendSetUrl"]],["validationNotificationTemplate",["name","code","validationRules","recipientUserGroups","sendStrategy","notifyUsersInHierarchyOnly","messageTemplate"]],["programRule",["program","name","description","priority","condition","programRuleActions"]],["programRuleVariable",["program","name","useCodeForOptionSet","programRuleVariableSourceType","programStage","dataElement","trackedEntityAttribute"]]]);t.a={for:function(e){return e&&r.has(e)?r.get(e):["name","shortName","code"]}}},function(e,t,n){"use strict";var r=n(377),i=n.n(r),o=n(302),a=n.n(o),s=n(0),u=n.n(s),c=n(710),l=n(711),p=n(709),f=u.a.createClass({displayName:"DataTable",propTypes:{contextMenuActions:u.a.PropTypes.object,contextMenuIcons:u.a.PropTypes.object,primaryAction:u.a.PropTypes.func,isContextActionAllowed:u.a.PropTypes.func},getInitialState:function(){return this.getStateFromProps(this.props)},componentWillReceiveProps:function(e){this.setState(this.getStateFromProps(e))},getStateFromProps:function(e){var t=[];return a()(e.rows)&&(t=e.rows instanceof Map?Array.from(e.rows.values()):e.rows),{columns:i()(e.columns)?e.columns:["name","lastUpdated"],dataRows:t}},renderContextMenu:function(){var e=this,t=this.props.isContextActionAllowed&&this.props.isContextActionAllowed.bind(null,this.state.activeRow)||function(){return!0},n=Object.keys(this.props.contextMenuActions||{}).filter(t).reduce(function(t,n){return t[n]=e.props.contextMenuActions[n],t},{});return u.a.createElement(p.a,{target:this.state.contextMenuTarget,onRequestClose:this._hideContextMenu,actions:n,activeItem:this.state.activeRow,icons:this.props.contextMenuIcons})},renderHeaders:function(){return this.state.columns.map(function(e,t){return u.a.createElement(c.a,{key:t,isOdd:Boolean(t%2),name:e})})},renderRows:function(){var e=this;return this.state.dataRows.map(function(t,n){return u.a.createElement(l.a,{key:n,dataSource:t,columns:e.state.columns,isActive:e.state.activeRow===n,itemClicked:e.handleRowClick,primaryClick:e.props.primaryAction||function(){}})})},render:function(){return u.a.createElement("div",{className:"data-table"},u.a.createElement("div",{className:"data-table__headers"},this.renderHeaders(),u.a.createElement(c.a,null)),u.a.createElement("div",{className:"data-table__rows"},this.renderRows()),this.renderContextMenu())},handleRowClick:function(e,t){this.setState({contextMenuTarget:e.currentTarget,showContextMenu:!0,activeRow:t!==this.state.activeRow?t:void 0})},_hideContextMenu:function(){this.setState({activeRow:void 0,showContextMenu:!1})}});t.a=f},,function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}e.exports=n},function(e,t,n){"use strict";var r=n(23);t.a=r.a.create()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(715),c=n(716),l=n(364),p=n(714),f=n(158),d=n.n(f),h=n(123),m=n.n(h),y=n(55),b=n.n(y),v=n(15),g=n.n(v),w=n(13),O=(n.n(w),n(718)),S=n(150),_=n(717),E=n(713),x=n(33),T=n(37),P=n(14),C=(n.n(P),n(242)),j=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();w.config.i18n.strings.add("data_elements"),w.config.i18n.strings.add("description"),w.config.i18n.strings.add("organisation_unit_counts"),w.config.i18n.strings.add("program_tracked_entity_attributes"),w.config.i18n.strings.add("program_indicators"),w.config.i18n.strings.add("program_data_elements"),w.config.i18n.strings.add("constants"),w.config.i18n.strings.add("field_is_required"),w.config.i18n.strings.add("programs");var k={expressionDescription:{padding:"1rem",margin:"1rem 0"},expressionMessage:{valid:{padding:"1rem",color:"#006400"},invalid:{padding:"1rem",color:"#8B0000"}},list:{width:"100%",outline:"none",border:"none",padding:"0rem 1rem"},expressionFormulaWrap:{padding:"1rem",maxWidth:"650px",marginRight:"1rem"},expressionValueOptionsWrap:{minHeight:395}},A=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.descriptionChange=function(e){o.setState({description:e},function(){o.props.expressionChanged({formula:o.state.formula,description:o.state.description,expressionStatus:o.state.expressionStatus})})},o.formulaChange=function(e){o.setState({formula:e},function(){o.requestExpressionStatus()})},o.addOperatorToFormula=function(e){o.appendToFormula(e)},o.programOperandSelected=function(e){o.appendToFormula(e)},o.appendToFormula=function(e){o.setState({formula:[o.state.formula,e].join("")},function(){o.requestExpressionStatus()})},o.dataElementOperandSelected=function(e){var t=["#{",e,"}"].join("");o.appendToFormula(t)},o.requestExpressionStatus=function(){o.requestExpressionStatusAction(o.state.formula)},o.state={formula:o.props.formulaValue,description:o.props.descriptionValue,expressionStatus:{description:"",isValid:!1}},o.i18n=o.context.d2.i18n,o.requestExpressionStatusAction=T.a.create("requestExpressionStatus"),o}return o(t,e),j(t,[{key:"componentWillMount",value:function(){var e=this;if(!this.props.expressionStatusStore)return!0;var t=!0;this.disposable=this.props.expressionStatusStore.subscribe(function(n){e.setState({expressionStatus:{description:n.description,isValid:"OK"===n.status,message:n.message}},function(){if(t)return void(t=!1);e.props.expressionChanged({formula:e.state.formula,description:e.state.description,expressionStatus:e.state.expressionStatus})})},function(e){return g.a.error(e)}),this.expressionStatusDisposable=this.requestExpressionStatusAction.debounceTime(500).map(function(t){var n=t.data;return P.Observable.fromPromise(e.context.d2.Api.getApi().get("expressions/description",{expression:n}))}).concatAll().subscribe(function(t){return e.props.expressionStatusStore.setState(t)},function(e){return g.a.error(e)}),this.props.formulaValue.trim()&&this.requestExpressionStatus()}},{key:"componentWillUnmount",value:function(){this.disposable&&this.disposable.unsubscribe(),this.expressionStatusDisposable&&this.expressionStatusDisposable.unsubscribe()}},{key:"render",value:function(){var e=this;return s.a.createElement(C.b,null,s.a.createElement(S.a,{level:3,text:this.props.titleText}),s.a.createElement(C.a,null,s.a.createElement(b.a,{style:k.expressionFormulaWrap},s.a.createElement(C.b,null,s.a.createElement(u.a,{descriptionValue:this.state.description,descriptionLabel:this.i18n.getTranslation("description"),onDescriptionChange:this.descriptionChange,errorText:function(){return e.state.description&&e.state.description.trim()}()?void 0:this.i18n.getTranslation("field_is_required"),onBlur:this.requestExpressionStatus}),s.a.createElement(l.a,{onFormulaChange:this.formulaChange,formula:this.state.formula}),s.a.createElement(c.a,{operatorClicked:this.addOperatorToFormula}))),s.a.createElement(b.a,{style:k.expressionValueOptionsWrap},s.a.createElement(d.a,null,s.a.createElement(m.a,{label:this.i18n.getTranslation("data_elements")},s.a.createElement(p.a,{listStyle:k.list,onItemDoubleClick:this.dataElementOperandSelected})),s.a.createElement(m.a,{label:this.i18n.getTranslation("programs")},s.a.createElement(O.a,{programOperandSelected:this.programOperandSelected})),s.a.createElement(m.a,{label:this.i18n.getTranslation("organisation_unit_counts")},s.a.createElement(_.a,{listStyle:k.list,onSelect:this.appendToFormula})),s.a.createElement(m.a,{label:this.i18n.getTranslation("constants")},s.a.createElement(E.a,{listStyle:k.list,onSelect:this.appendToFormula}))))),s.a.createElement(C.b,null,s.a.createElement(b.a,{style:k.expressionDescription},this.state.expressionStatus.description),s.a.createElement("div",{style:this.state.expressionStatus.isValid?k.expressionMessage.valid:k.expressionMessage.invalid},this.state.expressionStatus.message)))}}]),t}(a.Component);A.propTypes={descriptionLabel:a.PropTypes.string.isRequired,expressionStatusStore:a.PropTypes.object.isRequired,expressionChanged:a.PropTypes.func.isRequired,descriptionValue:a.PropTypes.string.isRequired,formulaValue:a.PropTypes.string.isRequired,titleText:a.PropTypes.string},t.a=n.i(x.a)(A)},function(e,t,n){"use strict";var r=n(369),i={flexDirection:"column"};t.a=n.i(r.a)(i,"Column")},,function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(19),s=r(a),u=n(20),c=r(u),l=function(e){return o.default.createElement(c.default,e,o.default.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}))};l=(0,s.default)(l),l.displayName="ContentAdd",l.muiName="SvgIcon",t.default=l},,function(e,t,n){"use strict";function r(e){var t=["programIndicator"];return Object.keys(e).every(function(e){return n.i(o.some)(n.i(o.equals)(e),t)})}var i=n(23),o=n(11),a=(n.n(o),n(111)),s=(n.n(a),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),u=i.a.create(),c=u.setState.bind(u);u.setState=function(e){if(!n.i(o.isObject)(e))throw new Error("You are attempting to set a state that is a non object");if(!r(e))throw new Error("You are attempting to set an invalid state onto the programIndicatorStore");c(s({},u.getState(),e))},t.a=u},function(e,t){function n(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var o=r(i);return[n].concat(i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"})).concat([o]).join("\n")}return[n].join("\n")}function r(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=n(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){function r(e){var t=this.__data__=new i(e);this.size=t.size}var i=n(175),o=n(889),a=n(890),s=n(891),u=n(892),c=n(893);r.prototype.clear=o,r.prototype.delete=a,r.prototype.get=s,r.prototype.has=u,r.prototype.set=c,e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}e.exports=n},function(e,t,n){(function(e){var r=n(58),i=n(902),o="object"==typeof t&&t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o,u=s?r.Buffer:void 0,c=u?u.isBuffer:void 0,l=c||i;e.exports=l}).call(t,n(104)(e))},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=h[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(l(r.parts[o],t))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(l(r.parts[o],t));h[r.id]={id:r.id,refs:1,parts:a}}}}function i(e){for(var t=[],n={},r=0;r<e.length;r++){var i=e[r],o=i[0],a=i[1],s=i[2],u=i[3],c={css:a,media:s,sourceMap:u};n[o]?n[o].parts.push(c):t.push(n[o]={id:o,parts:[c]})}return t}function o(e,t){var n=y(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=g[g.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),g.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=g.indexOf(e);t>=0&&g.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",c(t,e.attrs),o(e,t),t}function u(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",c(t,e.attrs),o(e,t),t}function c(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function l(e,t){var n,r,i;if(t.singleton){var o=v++;n=b||(b=s(t)),r=p.bind(null,n,o,!1),i=p.bind(null,n,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(t),r=d.bind(null,n,t),i=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),r=f.bind(null,n),i=function(){a(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}function p(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=O(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function f(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function d(e,t,n){var r=n.css,i=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(r=w(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var h={},m=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),y=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e.call(this,n)),t[n]}}(function(e){return document.querySelector(e)}),b=null,v=0,g=[],w=n(1333);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},void 0===t.singleton&&(t.singleton=m()),void 0===t.insertInto&&(t.insertInto="head"),void 0===t.insertAt&&(t.insertAt="bottom");var n=i(e);return r(n,t),function(e){for(var o=[],a=0;a<n.length;a++){var s=n[a],u=h[s.id];u.refs--,o.push(u)}if(e){r(i(e),t)}for(var a=0;a<o.length;a++){var u=o[a];if(0===u.refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete h[u.id]}}}};var O=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";function r(e,t){return n.i(o.getInstance)().then(function(n){return n.models[e]?n.models[e].get(t,c.get(e)):Promise.reject("Invalid model")})}n.d(t,"a",function(){return c});var i=n(23),o=n(13),a=(n.n(o),n(14)),s=(n.n(a),n(77)),u=n.n(s),c=new Map([["dataElement",{fields:[":all","attributeValues[:all,attribute[id,name,displayName]]","dataElementGroups[id,name,dataElementGroupSet[id]]"].join(",")}],["legendSet",{fields:[":all","attributeValues[:all,attribute[id,name,displayName]]","legends[id,name,displayName,startValue,endValue,color]"].join(",")}],["optionSet",{fields:[":all","attributeValues[:all,attribute[id,name,displayName]]","options[id,name,displayName,code]"].join(",")}],["dataSet",{fields:[":all","attributeValues[:all,attribute[id,name,displayName]]","dataSetElements[id,dataSet[id],dataElement[id,displayName,categoryCombo[id,displayName]]","categoryCombo[id,displayName]]","indicators[id,displayName,categoryCombo[id,displayName]]","organisationUnits[id,path]","sections[:all,dataElements[id,displayName],categoryCombos[id,displayName],","greyedFields[categoryOptionCombo[id,displayName],dataElement[id,displayName]]]"].join(",")}],["categoryOption",{fields:[":all","attributeValues[:all,attribute[id,name,displayName]]","organisationUnits[id,path,displayName]"].join(",")}],["organisationUnitGroup",{fields:[":all","attributeValues[:all,attribute[id,name,displayName]]","organisationUnits[id,path,displayName]"].join(",")}],["program",{fields:[":all","attributeValues[:all,attribute[id,name,displayName]]","organisationUnits[id,path]","dataEntryForm[:owner]","programStages[:owner,notificationTemplates[displayName,:owner]]","notificationTemplates[:owner]"].join(",")}],["programIndicator",{fields:[":all","attributeValues[:all,attribute[id,name,displayName]]","program[id,displayName,programType,programTrackedEntityAttributes[id,trackedEntityAttribute[id,displayName,valueType]]]"].join(",")}],["programRule",{fields:[":all","programRuleActions[:all","dataElement[id,displayName]","trackedEntityAttribute[id,displayName]","programStage[id,displayName]","programStageSection[id,displayName]]"].join(",")}]]),l={getObjectOfTypeById:function(e){var t=this,n=e.objectType,i=e.objectId;return a.Observable.fromPromise(r(n,i)).do(function(e){t.setState(e)})},getObjectOfTypeByIdAndClone:function(e){var t=this,n=e.objectType,i=e.objectId,o=r(n,i).then(function(e){e.id=void 0,e.uuid=void 0,t.setState(e)});return a.Observable.fromPromise(o)},save:function(){var e=this.state.save(!0).then(function(e){return e}).catch(function(e){return u()(e)?Promise.reject(e):e.messages&&e.messages.length>0?Promise.reject(e.messages[0].message):e&&e.response&&e.response.errorReports&&e.response.errorReports.length>0?Promise.reject(e.response.errorReports[0].message):e&&e.message?Promise.reject(e.message):Promise.reject("Failed to save")});return a.Observable.fromPromise(e)}};t.b={create:function(e){var t=Object.assign({},l,e||{});return i.a.create(t)}}},function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"a",function(){return f});var r=n(0),i=n.n(r),o=n(11),a=(n.n(o),n(55)),s=n.n(a),u=n(72),c=n.n(u),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(e){return function(t){var r=n.i(o.isNil)(e)?{padding:"3rem"}:e;return function(e){return i.a.createElement(s.a,{style:r},i.a.createElement(t,e))}}}(),f=c()(function(e){return l({},e,{groupName:e.params.groupName,modelType:e.schema,modelId:e.params.modelId})})},function(e,t,n){"use strict";function r(e,t){return e.attributes&&Object.keys(e.attributes).indexOf(t)>=0}function i(e,t,n){return l.a.debug(t+" is a custom attribute. Setting "+t+" to "+n),e.attributes[t]=n,l.a.debug("Value is now: "+e.attributes[t]),e}function o(e,t,n){return l.a.debug(t+" is a regular field. Setting "+t+" to "+n),e[t]=n,l.a.debug("Value is now: "+e[t]),e}function a(e,t,a){var s=n.i(u.get)(a),c=n.i(u.set)(a);return function(n){return n.ofType(e).map(function(e){return e.payload}).flatMap(function(e){var n=e.field,a=e.value;return t.take(1).map(s).map(function(e){r(e,n)?i(e,n,a):o(e,n,a),t.setState(c(e,p({},t.getState())))})}).flatMapTo(f)}}t.a=a;var s=n(14),u=(n.n(s),n(11)),c=(n.n(u),n(15)),l=n.n(c),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=s.Observable.of({type:"@@dhis2/EMPTY_ACTION"})},function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"f",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"g",function(){return a}),n.d(t,"h",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return p});var r="PROGRAM_STAGE_DATA_ELEMENTS_ADD",i="PROGRAM_STAGE_DATA_ELEMENTS_REMOVE",o="PROGRAM_STAGE_DATA_ELEMENTS_ADDREMOVE_COMPLETE",a="PROGRAM_STAGE_DATA_ELEMENT_EDIT",s="PROGRAM_STAGE_DATA_ELEMENTS_EDIT_COMPLETE",u=function(e){return function(t){return{type:e,payload:t}}},c=u(r),l=u(i),p=u(a)},function(e,t,n){"use strict";function r(e){return n.i(o.a)(f(e),d(e),y(e))}n.d(t,"b",function(){return c}),t.a=r;var i=n(325),o=n(80),a=n(11),s=(n.n(a),n(89)),u=(n.n(s),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),c=function(e,t){return n.i(a.find)(n.i(a.compose)(n.i(a.isEqual)(e),n.i(a.get)("id")),t)},l=function(e){return n.i(a.compose)(n.i(a.includes)(a.__,e),n.i(a.get)("dataElement.id"))},p=function(e){return n.i(a.filter)(n.i(a.negate)(l(e)))},f=function(e){return function(t){return t.ofType(i.d).map(function(t){var r=e.getState(),i=n.i(a.get)("payload.programStage",t),o=n.i(a.getOr)([],"programStages",r),l=c(i,o),p=n.i(a.getOr)([],"programStageDataElements",l),f=n.i(a.getOr)([],"payload.dataElements",t),d=n.i(a.map)(function(e){return{id:n.i(s.generateUid)(),dataElement:{id:e}}},f);l.programStageDataElements=p.concat(d),e.setState(u({},e.getState(),{programStages:o}))}).mapTo({type:i.e})}},d=function(e){return function(t){return t.ofType(i.f).map(function(t){var r=e.getState(),i=n.i(a.get)("payload.programStage",t),o=n.i(a.getOr)([],"programStages",r),s=c(i,o),l=n.i(a.getOr)([],"programStageDataElements",s),f=n.i(a.getOr)([],"payload.dataElements",t),d=p(f);s.programStageDataElements=d(l),e.setState(u({},e.getState(),{programStages:o}))}).mapTo({type:i.e})}},h=function(e,t){var r=n.i(a.get)("payload.programStage",t),i=n.i(a.getOr)([],"programStages",e.getState());return c(r,i)},m=function(e){return n.i(a.compose)(n.i(a.isEqual)(e),n.i(a.get)("id"))},y=function(e){return function(t){return t.ofType(i.g).map(function(t){var r=n.i(a.get)("payload.programStageDataElement.id",t),i=h(e,t),o=n.i(a.getOr)([],"programStageDataElements",i),s=o.find(m(r));i.programStageDataElements=o.map(function(e){return s===e?t.payload.programStageDataElement:e}),e.setState(u({},e.getState(),{programStages:[i]}))}).mapTo({type:i.h})}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"b",function(){return D});var a=n(0),s=n.n(a),u=n(51),c=n.n(u),l=n(140),p=(n.n(l),n(11)),f=(n.n(p),n(218)),d=n(46),h=n.n(d),m=n(43),y=n.n(m),b=n(34),v=n.n(b),g=n(39),w=n.n(g),O=n(307),S=n.n(O),_=n(559),E=n(553),x=n(150),T=n(556),P=n(40),C=(n.n(P),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),j=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),k={sectionContainer:{width:"100%",borderRadius:"8px",borderStyle:"solid",borderColor:P.grey300,borderWidth:"3px",marginBottom:"1.2rem"},noDataElementsMessage:{height:"4rem",lineHeight:"4rem",borderRadius:"6px",backgroundColor:"white",paddingLeft:"1.5rem"},sectionForm:{display:"flex",flexDirection:"row",alignItems:"space-between"},sectionContent:{backgroundColor:P.grey300},sectionHeader:{color:"black",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:P.grey300,borderRadius:"4px 4px 0 0",paddingLeft:"1rem",minHeight:"55px"},collapsibleArrow:{color:"black",cursor:"pointer",transition:"none",userSelect:"none"},row:{display:"flex",flexDirection:"row",alignItems:"center"}},A=n.i(l.SortableContainer)(function(e){var t=e.sections,n=e.selectedSectionId,r=e.editingSectionId,i=e.collapsedSections,o=e.onToggleSection,a=e.onToggleEditing,u=e.onSelectSection,c=e.onSectionNameChanged,l=e.onSectionRemoved,p=e.onDataElementRemoved,f=e.sortItems;return s.a.createElement(I,{sections:t,selectedSectionId:n,editingSectionId:r,collapsedSections:i,onToggleEditing:a,onToggleSection:o,onSelectSection:u,onSectionNameChanged:c,onSectionRemoved:l,onDataElementRemoved:p,sortItems:f})}),I=function(e){var t=e.sections,r=e.selectedSectionId,i=e.editingSectionId,o=e.onToggleEditing,a=e.collapsedSections,u=e.onToggleSection,c=e.onSelectSection,l=e.onSectionNameChanged,f=e.onSectionRemoved,d=e.onDataElementRemoved,h=e.sortItems;return s.a.createElement("div",null,t.map(function(e,t){return s.a.createElement(R,{key:"section-"+t,index:t,section:e,selected:n.i(p.isEqual)(e.id,r),collapsed:a.includes(e.id),editing:n.i(p.isEqual)(e.id,i),onToggleEdit:function(){o(e.id)},onToggleOpen:function(){u(e.id)},onSelect:function(){c(e.id)},onNameChanged:function(t){l(e.id,t)},onSectionRemoved:function(){f(e.id)},onDataElementRemoved:function(t){d(t,e.id)},sortItems:function(e){var n=e.oldIndex,r=e.newIndex;h(t,n,r)}})}))},R=n.i(l.SortableElement)(function(e){var t=e.section,n=e.selected,r=e.collapsed,i=e.editing,o=e.onToggleOpen,a=e.onToggleEdit,u=e.onSelect,c=e.onNameChanged,l=e.onSectionRemoved,p=e.onDataElementRemoved,f=e.sortItems;return s.a.createElement(N,{section:t,selected:n,collapsed:r,editing:i,onToggleOpen:o,onToggleEdit:a,onSelect:u,onNameChanged:c,onSectionRemoved:l,onDataElementRemoved:p,sortItems:f})}),N=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSortEnd=function(e,t){n.props.sortItems(e,t)},n.startEditingName=function(){n.props.onToggleEdit(),n.setState({newName:""})},n.focusTitleInputField=function(e){e&&setTimeout(function(){e.focus()},20)},n.stopEditingName=function(){n.props.onToggleEdit(),n.state.newName&&""!==n.state.newName&&n.props.onNameChanged(n.state.newName)},n.onNameChanged=function(e,t){n.setState({newName:t})},n.openRemovalDialog=function(){n.setState({showRemovalDialog:!0})},n.closeRemovalDialog=function(){n.setState({showRemovalDialog:!1})},n.confirmSectionRemoval=function(){n.closeRemovalDialog(),n.props.onSectionRemoved()},n.getSectionNameStyle=function(e){return{textAlign:"left",color:e?"gray":"black",fontSize:"1.7rem",fontWeight:e?"300":"400",wordWrap:"break-word",width:"100%"}},n.state={showRemovalDialog:!1,newName:""},n}return o(t,e),j(t,[{key:"render",value:function(){var e=[s.a.createElement(v.a,{label:"Cancel",primary:!0,onTouchTap:this.closeRemovalDialog}),s.a.createElement(v.a,{label:"Confirm",primary:!0,onTouchTap:this.confirmSectionRemoval})],t=this.props.section.dataElements.length>0?s.a.createElement("div",{style:k.sectionContent},s.a.createElement(_.a,{distance:4,onSortEnd:this.onSortEnd,onDataElementRemoved:this.props.onDataElementRemoved,sectionDataElements:this.props.section.dataElements})):s.a.createElement("div",{style:k.noDataElementsMessage},"No data elements");return s.a.createElement("div",{style:C({},k.sectionContainer,{borderColor:this.props.selected?P.grey800:P.grey300})},s.a.createElement("div",{onClick:this.props.onSelect,style:k.sectionHeader},s.a.createElement("div",{style:C({},k.row,{width:"100%"})},s.a.createElement(f.a,null),this.props.editing?s.a.createElement(D,{onClick:this.stopEditingName,icon:"done"}):s.a.createElement(D,{onClick:this.startEditingName,icon:"mode_edit"}),this.props.editing?s.a.createElement(y.a,{ref:this.focusTitleInputField,inputStyle:{transition:"none"},textareaStyle:{flex:1},style:this.getSectionNameStyle(!0),underlineShow:!1,onClick:function(e){return e.stopPropagation()},hintText:"Write a new section name ...",defaultValue:this.props.section.displayName,onChange:this.onNameChanged,maxLength:230}):s.a.createElement("div",{style:this.getSectionNameStyle(!1)},this.props.section.displayName)),s.a.createElement("div",{style:k.row},s.a.createElement(D,{onClick:this.props.onToggleOpen,icon:this.props.collapsed?"keyboard_arrow_down":"keyboard_arrow_up"}),s.a.createElement(D,{onClick:this.openRemovalDialog,icon:"clear"}))),!this.props.collapsed&&t,s.a.createElement(w.a,{title:"Are you sure you want to remove the following section?",actions:e,open:this.state.showRemovalDialog,onRequestClose:this.closeRemovalDialog},s.a.createElement(x.a,{level:2},this.props.section.displayName)))}}]),t}(a.Component);N.propTypes={section:a.PropTypes.object.isRequired,selected:a.PropTypes.bool.isRequired,collapsed:a.PropTypes.bool.isRequired,editing:a.PropTypes.bool.isRequired,onNameChanged:a.PropTypes.func.isRequired,onSectionRemoved:a.PropTypes.func.isRequired,onDataElementRemoved:a.PropTypes.func.isRequired,onToggleEdit:a.PropTypes.func.isRequired,onToggleOpen:a.PropTypes.func.isRequired,onSelect:a.PropTypes.func.isRequired,sortItems:a.PropTypes.func.isRequired};var D=function(e){var t=e.onClick,n=e.icon;return s.a.createElement(h.a,{style:{transition:"none"},iconStyle:{transition:"none"},onClick:function(e){e&&e.stopPropagation(),t()}},s.a.createElement(c.a,{color:"gray",className:"material-icons"},n))},M=function(e){return n.i(p.flatten)(e.map(function(e){return e.dataElements}))},F=function(e){function t(e){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.openSection=function(e){o.setState({collapsedSections:n.i(p.pull)(e,o.state.collapsedSections)})},o.closeSection=function(e){var t=o.state.collapsedSections;t.push(e),o.setState({collapsedSections:t})},o.selectSection=function(e){o.setState({selectedSectionId:e})},o.onToggleEditing=function(e){o.setState({editingSectionId:n.i(p.isEqual)(e,o.state.editingSectionId)?null:e})},o.openNoSelectionSectionMessage=function(){o.setState({showNoSelectionSectionMessage:!0})},o.closeNoSelectionSectionMessage=function(){o.setState({showNoSelectionSectionMessage:!1})},o.isSectionCollapsed=function(e){return o.state.collapsedSections.includes(e)},o.onToggleSection=function(e){o.isSectionCollapsed(e)?o.openSection(e):o.closeSection(e)},o.openSectionIfClosed=function(e){o.isSectionCollapsed(e)&&o.openSection(e)},o.onSelectSection=function(e){o.openSectionIfClosed(e),o.selectSection(e)},o.onSectionNameChanged=function(e,t){o.props.onSectionNameChanged(e,t)},o.onSortEnd=function(e){var t=e.oldIndex,r=e.newIndex;o.props.onSectionOrderChanged(n.i(l.arrayMove)(o.props.programStageSections,t,r))},o.onDataElementPicked=function(e){var t=n.i(p.find)(function(t){return n.i(p.isEqual)(t.id,e)},o.props.availableDataElements);if(t){var r=n.i(p.findIndex)(function(e){return n.i(p.isEqual)(o.state.selectedSectionId,e.id)},o.props.programStageSections);if(-1===r)return void o.openNoSelectionSectionMessage();var i=o.props.programStageSections[r],a=i.dataElements.concat(t),s=o.props.programStageSections;s[r].dataElements=a,o.props.onSectionOrderChanged(s),o.openSectionIfClosed(i.id)}},o.removeDataElementFromSection=function(e,t){var r=n.i(p.findIndex)(function(e){return n.i(p.isEqual)(e.id,t)},o.props.programStageSections),i=o.props.programStageSections[r],a=n.i(p.filter)(n.i(p.negate)(function(t){return n.i(p.isEqual)(t.id,e)}),i.dataElements),s=o.props.programStageSections;s[r].dataElements=a,o.props.onSectionOrderChanged(s)},o.sortItems=function(e,t,r){var i=n.i(l.arrayMove)(o.props.programStageSections[e].dataElements,t,r),a=o.props.programStageSections;a[e].dataElements=i,o.props.onSectionOrderChanged(a)},o.render=function(){return s.a.createElement("div",{style:k.sectionForm},s.a.createElement("div",{style:{flex:2}},s.a.createElement(A,{useDragHandle:!0,distance:4,sections:o.props.programStageSections,selectedSectionId:o.state.selectedSectionId,editingSectionId:o.state.editingSectionId,collapsedSections:o.state.collapsedSections,onToggleSection:o.onToggleSection,onToggleEditing:o.onToggleEditing,onSelectSection:o.onSelectSection,onSectionNameChanged:o.onSectionNameChanged,onSectionRemoved:o.props.onSectionRemoved,onDataElementRemoved:o.removeDataElementFromSection,onSortEnd:o.onSortEnd,sortItems:o.sortItems}),s.a.createElement(E.a,{onSectionAdded:o.props.onSectionAdded})),s.a.createElement("div",{style:{flex:1}},s.a.createElement(T.a,{availableDataElements:n.i(p.sortBy)(["displayName"],o.props.availableDataElements),activeDataElements:o.state.activeDataElements,onElementPicked:o.onDataElementPicked})),s.a.createElement(S.a,{open:o.state.showNoSelectionSectionMessage,message:"Select a section before adding data elements",autoHideDuration:3e3,onRequestClose:o.closeNoSelectionSectionMessage}))},o.state={collapsedSections:[],activeDataElements:M(o.props.programStageSections),selectedSectionId:n.i(p.getOr)(-1,"programStageSections[0].id",o.props.programStageSections),editingSectionId:null,showNoSelectionSectionMessage:!1},o}return o(t,e),j(t,[{key:"componentWillReceiveProps",value:function(e){if(e.programStageSections!==this.props.programStageSections){this.setState({activeDataElements:M(e.programStageSections)});var t=n.i(p.difference)(e.programStageSections,this.props.programStageSections)[0];t&&this.selectSection(t.id)}}}]),t}(a.Component);F.PropTypes={onSectionNameChanged:a.PropTypes.func.isRequired,onSectionOrderChanged:a.PropTypes.func.isRequired,onSectionAdded:a.PropTypes.func.isRequired,onSectionRemoved:a.PropTypes.func.isRequired,availableDataElements:a.PropTypes.array.isRequired,programStageSections:a.PropTypes.arrayOf(a.PropTypes.shape({id:a.PropTypes.string.isRequired,sortOrder:a.PropTypes.number.isRequired,displayName:a.PropTypes.string.isRequired,dataElements:a.PropTypes.arrayOf(a.PropTypes.shape({id:a.PropTypes.string.isRequired,displayName:a.PropTypes.string.isRequired})).isRequired})).isRequired},t.a=F},function(e,t,n){"use strict";n.d(t,"f",function(){return i}),n.d(t,"g",function(){return o}),n.d(t,"i",function(){return a}),n.d(t,"j",function(){return s}),n.d(t,"k",function(){return u}),n.d(t,"h",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return p}),n.d(t,"c",function(){return f}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return h});var r=function(e){return function(t){return{type:e,payload:t}}},i="PROGRAM_STAGE_DATA_ELEMENTS_ORDER_CHANGE",o="PROGRAM_STAGE_DATA_ELEMENTS_ORDER_CHANGE_COMPLETE",a="PROGRAM_STAGE_SECTIONS_ORDER_CHANGE",s="PROGRAM_STAGE_SECTIONS_ADD",u="PROGRAM_STAGE_SECTIONS_REMOVE",c="PROGRAM_STAGE_SECTION_NAME_EDIT",l=r(i),p=r(a),f=r(s),d=r(u),h=r(c)},function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r="PROGRAM_STAGE_DATA_ENTRY_FORM_FIELD_CHANGED",i="PROGRAM_STAGE_DATA_ENTRY_FORM_REMOVE",o=function(e,t,n){return{type:r,payload:{programStage:e,field:t,value:n}}},a=function(e){return{type:i,payload:e}}},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"c",function(){return s});var r=function(e){return function(t){return{type:e,payload:t}}},i="SNACK_BAR_MESSAGE_SHOW_REQUEST",o="SNACK_BAR_MESSAGE_SHOW",a=r(i),s=r(o);r("SNACK_BAR_MESSAGE_HIDE")},function(e,t,n){"use strict";var r=n(23);t.a=r.a.create()},function(e,t,n){"use strict";function r(e,t,r){var i=n.i(a.a)(e,t);return function(e){return o.a.createElement("div",{style:s.uniqueFieldWrap},o.a.createElement(r,e),o.a.createElement(i,e))}}t.a=r;var i=n(0),o=n.n(i),a=n(221),s={uniqueFieldWrap:{display:"flex",flexDirection:"column"}}},function(e,t,n){"use strict";var r={DISPLAYTEXT:{label:"display_text",required:["location","content"],optional:["data"],labelOverrides:{content:"static_text",data:"expression_to_evaluate_and_display_after_static_text"}},DISPLAYKEYVALUEPAIR:{label:"display_key_value_pair",required:["location","content"],optional:["data"],labelOverrides:{content:"key_label",data:"expression_to_evaluate_and_display_as_value"}},HIDEFIELD:{label:"hide_field",optional:["dataElement","trackedEntityAttribute","content"],labelOverrides:{content:"custom_message_for_blanked_field",dataElement:"data_element_to_hide",trackedEntityAttribute:"tracked_entity_attribute_to_hide"}},HIDESECTION:{label:"hide_section",required:["programStageSection"],labelOverrides:{programStageSection:"program_stage_section_to_hide"}},HIDEPROGRAMSTAGE:{label:"hide_program_stage",required:["programStage"],labelOverrides:{programStage:"program_stage_to_hide"}},ASSIGN:{label:"assign_value",required:["data"],optional:["dataElement","trackedEntityAttribute","content"],labelOverrides:{content:"program_rule_variable_to_assign_to",dataElement:"data_element_to_assign_to",trackedEntityAttribute:"tracked_entity_attribute_to_assign_to",data:"expression_to_evaluate_and_assign"}},SHOWWARNING:{label:"show_warning",required:["content"],optional:["dataElement","trackedEntityAttribute","data"],labelOverrides:{content:"static_text",dataElement:"data_element_to_display_warning_next_to",trackedEntityAttribute:"tracked_entity_attribute_to_display_warning_next_to",data:"expression_to_evaluate_and_display_after_static_text"}},SHOWERROR:{label:"show_error",required:["content"],optional:["dataElement","trackedEntityAttribute","data"],labelOverrides:{content:"static_text",dataElement:"data_element_to_display_error_next_to",trackedEntityAttribute:"tracked_entity_attribute_to_display_error_next_to",data:"expression_to_evaluate_and_display_after_static_text"}},WARNINGONCOMPLETE:{label:"warning_on_complete",required:["content"],optional:["dataElement","trackedEntityAttribute","data"],labelOverrides:{content:"static_text",dataElement:"data_element_to_display_warning_next_to",trackedEntityAttribute:"tracked_entity_attribute_to_display_warning_next_to",data:"expression_to_evaluate_and_display_after_static_text"}},ERRORONCOMPLETE:{label:"error_on_complete",required:["content"],optional:["dataElement","trackedEntityAttribute","data"],labelOverrides:{content:"static_text",dataElement:"data_element_to_display_error_next_to",trackedEntityAttribute:"tracked_entity_attribute_to_display_error_next_to",data:"expression_to_evaluate_and_display_after_static_text"}},CREATEEVENT:{label:"create_event",required:["programStage"],optional:["data"]},SETMANDATORYFIELD:{label:"set_field_to_be_mandatory",optional:["dataElement","trackedEntityAttribute"],labelOverrides:{dataElement:"data_element_to_make_mandatory",trackedEntityAttribute:"tracked_entity_attribute_to_make_mandatory"}}};t.a=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(635),c=n(117),l=n(610),p=n(103),f=n.n(p),d=n(46),h=n.n(d),m=n(187),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.d2=n.d2,o.getTranslation=o.d2.i18n.getTranslation.bind(o.d2.i18n),o.state={programRuleVariables:[],expand:"v"},o}return o(t,e),y(t,[{key:"componentDidMount",value:function(){var e=this;this.sub=c.a.subscribe(function(t){e.getProgramRuleVariablesForProgram(t.program)})}},{key:"getProgramRuleVariablesForProgram",value:function(e){var t=this;e?this.d2.models.programRuleVariables.list({filter:"program.id:eq:"+e.id,paging:!1}).then(function(e){t.sub&&t.setState({programRuleVariables:e.toArray()})}):this.setState({programRuleVariables:[]})}},{key:"componentWillUnmount",value:function(){this.sub&&(this.sub.unsubscribe(),delete this.sub)}},{key:"render",value:function(){var e=this,t={outerWrap:{marginTop:32,marginBottom:32,minHeight:170,minWidth:680,color:this.props.disabled?"rgba(0,0,0,0.3)":"inherit",fontSize:16,width:"100%"},labelStyle:{fontSize:16,color:"rgba(0,0,0,0.3)"},leftWrap:{marginRight:320},rightWrap:{width:300,float:"right",marginRight:0,display:"flex",flexDirection:"column"},rightScroll:{overflowX:"hidden",margin:"8px 0",transition:"all 175ms ease-in-out",flexGrow:1},insertButton:{display:"block",marginTop:8,marginBottom:4},operatorButton:{marginRight:8,marginTop:8,minWidth:50},operatorButtonSeparator:{display:"inline-block",marginTop:8,marginLeft:8,whiteSpace:"nowrap"},expand:{cursor:"pointer",fontSize:14},innerWrapperButtonWrapper:{float:"right",margin:"-16px 0 -18px"},varSyntax:{opacity:.4}},n=function(t){e.editor&&e.editor.insertText(t)},r=function(e){return function(){return n(e)}},i=function(n,i){return s.a.createElement(f.a,{label:n,onClick:r(""+(i||n)),style:t.operatorButton,disabled:e.props.disabled})},o=function(t){return function(){return e.setState({expand:t})}},a=function(t){return{display:"inline-block",marginRight:8,transition:"all 175ms ease-out",transform:e.state.expand===t?"rotateZ(90deg)":void 0}},p=function(n){return Object.assign({maxHeight:e.state.expand===n?350:0,overflowY:(e.state.expand,"auto"),padding:e.state.expand===n?"0 4px 4px 2px":"0 2px"},t.rightScroll)},d=function(t){e.getProgramRuleVariablesForProgram(c.a.getState().program),t.stopPropagation()},y=function(n,i){var o="TEI_ATTRIBUTE"===n.programRuleVariableSourceType?"A":"#",a=s.a.createElement("span",null,s.a.createElement("span",{style:t.varSyntax},o,"{"),n.displayName,s.a.createElement("span",{style:t.varSyntax},"}")),u=o+"{"+n.displayName+"}";return s.a.createElement(f.a,{key:i,label:a,labelStyle:{textTransform:"none"},style:t.insertButton,disabled:e.props.disabled,onClick:r(u)})};return s.a.createElement("div",{style:Object.assign(t.outerWrap,this.props.style)},s.a.createElement("div",{style:t.labelStyle},this.props.labelText),s.a.createElement("div",{style:t.rightWrap},s.a.createElement("div",{onClick:o("v"),style:t.expand},s.a.createElement("div",{style:a("v")},""),this.getTranslation("variables"),this.props.quickAddLink&&s.a.createElement("div",{style:t.innerWrapperButtonWrapper},s.a.createElement(m.f,{to:"/edit/programSection/programRuleVariable/add",target:"_blank",rel:"noopener nofollow"},s.a.createElement(h.a,{iconClassName:"material-icons",disabled:this.props.disabled},"add_circle_outline")),s.a.createElement(h.a,{iconClassName:"material-icons",onClick:d,disabled:this.props.disabled},"refresh"))),s.a.createElement("div",{style:p("v")},this.state.programRuleVariables.map(y)),s.a.createElement("div",{onClick:o("f"),style:t.expand},s.a.createElement("div",{style:a("f")},""),this.getTranslation("functions")),s.a.createElement("div",{style:p("f")},l.a.map(function(n,i){return s.a.createElement(f.a,{key:i,label:n,labelStyle:{textTransform:"none"},style:t.insertButton,disabled:e.props.disabled,onClick:r(n)})}))),s.a.createElement("div",{style:t.leftWrap},s.a.createElement(u.a,{placeholder:this.getTranslation("enter_expression"),editorState:this.state.editorState,value:this.props.value,onChange:this.props.onChange,ref:function(t){return e.editor=t},disabled:this.props.disabled}),s.a.createElement("div",{style:{marginLeft:-8}},s.a.createElement("div",{style:t.operatorButtonSeparator},i(" + ")," ",i(" - ")," ",i(" * ")," ",i(" / ")," ",i(" % ")),s.a.createElement("div",{style:t.operatorButtonSeparator},i(" > ")," ",i(" >= ")," ",i(" < ")," ",i(" <= ")," ",i(" == ")," ",i(" != ")),s.a.createElement("div",{style:t.operatorButtonSeparator},i("NOT"," ! ")," ",i("AND"," && ")," ",i("OR"," || ")))),s.a.createElement("div",{style:{clear:"both"}}))}}]),t}(s.a.Component);b.contextTypes={d2:s.a.PropTypes.any},b.propTypes={onChange:s.a.PropTypes.func.isRequired,value:s.a.PropTypes.any,disabled:s.a.PropTypes.bool,style:s.a.PropTypes.object,quickAddLink:s.a.PropTypes.bool},b.defaultProps={disabled:!1,quickAddLink:!0},t.a=b},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(160),i=n(77),o=n.n(i),a=n(246),s=n.n(a),u=["decimals",{type:r.c,fieldOptions:{options:["0","1","2","3","4","5"]},beforeUpdateConverter:function(e){if(o()(e))return Number(e)},beforePassToFieldConverter:function(e){return s()(e)?e.toString():e}}]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){return function(n){var r=O(n,2),i=r[0],o=r[1];return{primaryText:e.i18n.getTranslation(o),onClick:function(){t(i+"{"+o+"}")}}}}function s(e){return l.a.createElement(h.ListItem,w({key:e.primaryText},e))}function u(e,t){var r=e.onItemSelected,i=e.variableTypes,o=t.d2,u=n.i(v.map)(n.i(v.compose)(s,a(o,r)),i);return l.a.createElement("div",{style:{flex:"0 0 33%"}},l.a.createElement(b.a,{level:4,style:{fontSize:"1rem",paddingBottom:"1rem"}},"Template variables"),l.a.createElement("div",{style:{maxHeight:"300px",overflowY:"scroll"}},l.a.createElement(h.List,null,u)))}var c=n(0),l=n.n(c),p=n(45),f=n.n(p),d=n(242),h=n(416),m=(n.n(h),n(157)),y=n.n(m),b=n(150),v=n(11),g=(n.n(v),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();u.contextTypes={d2:c.PropTypes.object};var S=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.state={lastActiveField:"subjectTemplate",lastIndex:0},o.insertVariable=o.insertVariable.bind(o),o}return o(t,e),g(t,[{key:"setActiveField",value:function(e){var t=this;return function(n){t.setState({lastActiveField:e,lastIndex:n.target.selectionEnd})}}},{key:"insertVariable",value:function(e){var t=this.state.lastIndex,n=this.props.model[this.state.lastActiveField]||"";this.props.onUpdate({fieldName:this.state.lastActiveField,value:""+n.slice(0,t)+e+n.slice(t)})}},{key:"render",value:function(){var e=this.context.d2,t=this.props,n=t.model,r=t.onUpdate,i={divider:{marginTop:"2rem",marginBottom:"2rem",marginLeft:"-5rem",marginRight:"-5rem"},heading:{fontSize:"1.25rem"},subject:{flex:"0 0 72px"}};return l.a.createElement("div",null,l.a.createElement(y.a,{style:i.divider}),l.a.createElement(b.a,{level:3,style:i.heading},"Message template"),l.a.createElement(d.a,null,l.a.createElement(d.b,null,l.a.createElement("div",{style:i.subject},l.a.createElement(f.a,{name:"subjectTemplate",fullWidth:!0,floatingLabelText:e.i18n.getTranslation("subject_template"),onBlur:this.setActiveField("subjectTemplate"),value:n.subjectTemplate||"",onChange:function(e,t){return r({fieldName:"subjectTemplate",value:t})},onKeyUp:this.setActiveField("subjectTemplate")})),l.a.createElement("div",null,l.a.createElement(f.a,{name:"messageTemplate",multiLine:!0,fullWidth:!0,floatingLabelText:e.i18n.getTranslation("message_template"),onBlur:this.setActiveField("messageTemplate"),value:n.messageTemplate||"",onChange:function(e,t){return r({fieldName:"messageTemplate",value:t})}}))),l.a.createElement(u,{onItemSelected:this.insertVariable,variableTypes:this.props.variableTypes})),l.a.createElement(y.a,{style:i.divider}))}}]),t}(c.Component);t.a=S,S.contextTypes={d2:c.PropTypes.object}},function(e,t,n){"use strict";function r(e){var t=e.value,n=void 0===t?{}:t,r=e.onButtonClick,i=e.open,a=e.close,u=e.onChange,d=e.buttonLabel;return o.a.createElement("div",{style:f.field},o.a.createElement(c.a,null,o.a.createElement(s.a,{style:f.expressionButton,onClick:r},o.a.createElement(l.a,null,d)),o.a.createElement("div",{style:f.expressionDescription},n.description)),o.a.createElement(p.a,{open:i,close:a,save:function(e){u({target:{value:e}}),a()},value:n,buttonLabel:d}))}var i=n(0),o=n.n(i),a=n(103),s=n.n(a),u=n(141),c=n(242),l=n(71),p=n(624),f={field:{padding:"1rem 0"},expressionButton:{flex:"0 0 10rem"},expressionDescription:{padding:".75rem 1rem",color:"#666"}},d=n.i(u.b)(n.i(u.c)(["value"]),n.i(u.d)("open","toggleOpen",!1),n.i(u.a)(function(e){var t=e.toggleOpen;return{onButtonClick:function(){return t(!0)},close:function(){return t(!1)}}}));t.a=d(r)},function(e,t,n){"use strict";function r(e){var t=e.referenceType,r=e.onRefreshClick,i=n.i(f.b)(t),a={quickAddWrap:{display:"flex"},hidden:{display:"none"}};return i?o.a.createElement("div",{style:a.quickAddWrap},o.a.createElement(d.f,{to:"/edit/"+i+"/"+t+"/add",target:"_blank",rel:"noopener noreferrer"},o.a.createElement(s.a,{tooltip:"Add new",tooltipPosition:"top-left"},o.a.createElement(c.a,null))),o.a.createElement(s.a,{tooltip:"Refresh values",tooltipPosition:"top-left",onClick:r},o.a.createElement(p.a,null))):o.a.createElement("div",{style:a.hidden})}t.a=r;var i=n(0),o=n.n(i),a=n(85),s=n.n(a),u=n(983),c=n.n(u),l=n(998),p=n.n(l),f=n(154),d=n(187)},function(e,t,n){"use strict";function r(e,t){var n=e.horizontal,r=t.d2,i={fieldMask:{position:"absolute",zIndex:1e3,backgroundColor:"rgba(0, 0, 0, 0.2)",top:0,bottom:0,left:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:n?"row":"column"}};return o.a.createElement("div",{style:i.fieldMask},o.a.createElement(a.a,null),o.a.createElement("div",null,r.i18n.getTranslation("reloading_available_values")))}t.a=r;var i=n(0),o=n.n(i),a=n(83);r.contextTypes={d2:i.PropTypes.object}},function(e,t,n){"use strict";var r=n(38),i=n(80),o=n(573),a=n(564),s=n(574),u=n(575),c=n(582),l=n(581),p=n.i(i.a)(a.a,s.a,l.a),f=n.i(i.b)(p),d=n.i(r.b)({eventProgram:o.a,programIndicator:u.a,snackBar:c.a});t.a=n.i(r.c)(d,n.i(r.d)(f))},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createChangeEmitter=function(){function e(){i===r&&(i=r.slice())}function t(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var n=!0;return e(),i.push(t),function(){if(n){n=!1,e();var r=i.indexOf(t);i.splice(r,1)}}}function n(){r=i;for(var e=r,t=0;t<e.length;t++)e[t].apply(e,arguments)}var r=[],i=r;return{listen:t,emit:n}}},,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){var t=e.modules;return n.i(a.getInstance)().then(function(e){var n=e.Api.getApi(),r=t.map(function(e){return e.name});return n.post("i18n",r)}).then(function(e){return{modules:t.map(function(t){return Object.assign(l({},t),{displayName:e[t.name]||t.name})})}}).catch(function(){return c.a.warn("Could not load translations for modules, defaulting back to English"),{modules:t}})}function i(e){return{modules:e.modules.filter(function(e){return"dhis-web-menu-management"!==e.name})}}n.d(t,"a",function(){return f}),n.d(t,"b",function(){return d});var o=n(14),a=(n.n(o),n(13)),s=(n.n(a),n(110)),u=n(15),c=n.n(u),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};a.config.i18n.strings.add("settings"),a.config.i18n.strings.add("profile"),a.config.i18n.strings.add("account"),a.config.i18n.strings.add("help"),a.config.i18n.strings.add("log_out"),a.config.i18n.strings.add("about_dhis2");var p=[{name:"settings",namespace:"/dhis-web-user-profile",defaultAction:"/dhis-web-user-profile/#/settings",icon:"/icons/usersettings.png",description:""},{name:"profile",namespace:"/dhis-web-user-profile",defaultAction:"/dhis-web-user-profile/#/profile",icon:"/icons/function-profile.png",description:""},{name:"account",namespace:"/dhis-web-user-profile",defaultAction:"/dhis-web-user-profile/#/account",icon:"/icons/function-account.png",description:""},{name:"help",namespace:"/dhis-web-commons-about",defaultAction:"https://dhis2.github.io/dhis2-docs/master/en/user/html/dhis2_user_manual_en.html",icon:"/icons/function-account.png",description:""},{name:"about_dhis2",namespace:"/dhis-web-commons-about",defaultAction:"/dhis-web-commons-about/about.action",icon:"/icons/function-about-dhis2.png",description:""}],f=o.Observable.fromPromise(function(){return n.i(a.getInstance)().then(function(e){return e.system.settings.get("helpPageLink")}).catch(function(){return!1}).then(function(e){return p.map(function(t){return e&&"help"===t.name?Object.assign({},t,{defaultAction:e}):t})})}()),d=o.Observable.fromPromise(function(){return n.i(a.getInstance)().then(function(e){var t=e.Api.getApi(),r=n.i(s.a)(e);return t.get(r+"/dhis-web-commons/menu/getModules.action?_="+(new Date).getTime())}).then(r).then(i).then(function(e){return e.modules})}()).catch(o.Observable.of([]))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(61),c=n(171),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e){return function(){n.i(c.a)(""),n.i(c.b)(!1),window.location=e}},f=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={hovering:!1},e.onMouseEnter=e.onMouseEnter.bind(e),e.onMouseLeave=e.onMouseLeave.bind(e),e}return o(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=Object.assign({backgroundColor:e.selected||this.state.hovering?"#F5F5F5":"transparent"},u.a.menuItemLink);return s.a.createElement("a",{href:e.action,onMouseUp:p(e.action),style:t,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},s.a.createElement("div",null,s.a.createElement("img",{style:u.a.menuItemIcon,src:e.icon})),s.a.createElement("div",{style:u.a.menuItemLabel},e.label))}},{key:"onMouseEnter",value:function(){this.setState({hovering:!0})}},{key:"onMouseLeave",value:function(){this.setState({hovering:!1})}}]),t}(a.Component);t.a=f,f.propTypes={action:a.PropTypes.string.isRequired,label:a.PropTypes.string.isRequired,icon:a.PropTypes.string}},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=function(n){function s(e,t){i(this,s);var n=o(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e,t));return n.state={isLoading:!0},n}return a(s,n),y(s,[{key:"componentDidMount",value:function(){var n=this;this.disposable=e.subscribe(function(e){return n.setState(m({isLoading:!1},e))},function(e){f.a.error("Failed to receive props for "+t.displayName),f.a.error(e)})}},{key:"componentWillUnmount",value:function(){this.disposable&&this.disposable.unsubscribe&&this.disposable.unsubscribe()}},{key:"render",value:function(){var e=this.state,n=(e.isLoading,r(e,["isLoading"]));return this.state.isLoading?c.a.createElement(l.a,null):c.a.createElement(t,m({},n,this.props))}}]),s}(u.Component);return n.displayName="withPropsFrom("+h()(t)+")",n}t.a=s;var u=n(0),c=n.n(u),l=n(83),p=n(15),f=n.n(p),d=n(280),h=n.n(d),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e){function t(){var e,n,o,a;r(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o._handleFomulaChange=function(e){var t=e.target.value;o.props.onFormulaChange&&o.props.onFormulaChange(t)},a=n,i(o,a)}return o(t,e),u(t,[{key:"render",value:function(){var e={margin:0,width:"100%",height:200,border:"1px solid #DDD",padding:"1rem",outline:"none",resize:"vertical",boxSizing:"border-box"};return s.a.createElement("div",{className:"expression-formula"},s.a.createElement("textarea",{onChange:this._handleFomulaChange,value:this.props.formula,style:e}))}}]),t}(a.Component);t.a=c,c.propTypes={onFormulaChange:a.PropTypes.func.isRequired,formula:a.PropTypes.string}},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e){var t=e.value,n=e.text;return c.a.createElement(d.a,{key:t,value:t,primaryText:n})}function o(e){var t=e.menuItems,n=e.includeEmpty,r=e.emptyLabel,o=t.map(function(e){return i({value:e.id,text:e.displayName})});return n&&o.unshift(i({value:"null",text:r})),o}function a(e){return function(t,n,r){return e({target:{value:r}})}}function s(e){var t=(e.onFocus,e.onBlur,e.onChange),n=e.value,i=e.disabled,s=e.menuItems,u=e.includeEmpty,l=e.emptyLabel,f=e.noOptionsLabel,m=r(e,["onFocus","onBlur","onChange","value","disabled","menuItems","includeEmpty","emptyLabel","noOptionsLabel"]),y=Array.isArray(s)&&s||s.toArray(),b=y.length>0;return c.a.createElement(p.a,h({value:b?n:1,onChange:a(t),disabled:!b||i},m),b?o({menuItems:y,includeEmpty:u,emptyLabel:l}):c.a.createElement(d.a,{value:1,primaryText:f||"-"}))}var u=n(0),c=n.n(u),l=n(184),p=n.n(l),f=n(90),d=n.n(f),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};s.propTypes={defaultValue:c.a.PropTypes.oneOfType([c.a.PropTypes.string,c.a.PropTypes.number,c.a.PropTypes.bool]),value:c.a.PropTypes.oneOfType([c.a.PropTypes.string,c.a.PropTypes.number,c.a.PropTypes.bool]),onFocus:c.a.PropTypes.func,onBlur:c.a.PropTypes.func,onChange:c.a.PropTypes.func.isRequired,menuItems:c.a.PropTypes.oneOfType([c.a.PropTypes.array,c.a.PropTypes.object]),includeEmpty:c.a.PropTypes.bool,emptyLabel:c.a.PropTypes.string,noOptionsLabel:c.a.PropTypes.string},s.defaultProps={includeEmpty:!1,emptyLabel:""},t.a=s},function(e,t,n){"use strict";function r(e){return o.a.createElement(s.a,{onClick:function(t){return e.onIconClicked(t,e.value)}},o.a.createElement("img",{src:e.imgSrc}))}t.a=r;var i=n(0),o=n.n(i),a=n(68),s=n.n(a)},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e){var t=e.children,i=r(e,["children"]),o={mainStyle:{flex:1,display:"flex",flexOrientation:"row",marginTop:"8rem",marginLeft:"2rem",marginRight:"2rem"}},u=void 0;return n.i(s.isArray)(t)&&t.length?(u=t[0],c.a.warn("You passed multiple children to the <SinglePanel /> component, this is not supported")):u=t,a.a.createElement("main",l({style:o.mainStyle},i),u)}var o=n(0),a=n.n(o),s=n(11),u=(n.n(s),n(15)),c=n.n(u),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.a=i},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e){var t=e.children,i=e.childWrapStyle,o=e.sizeRatio,u=r(e,["children","childWrapStyle","sizeRatio"]),p={mainStyle:{flex:1,display:"flex",flexOrientation:"row",marginTop:"8rem"}},f=void 0;n.i(s.isArray)(t)?(t.length>2&&c.a.warn("You passed more than two children to the <TwoPanel /> component, it requires exactly two"),f=t.slice(0,2)):(c.a.warn("You passed just one child to the <TwoPanel /> component, it requires exactly two"),f=[t]);var d=f.map(function(e,n){var r=Object.assign({},i,{flex:o[n],paddingRight:n===t.length-1?"2rem":void 0});return a.a.createElement("div",{key:n,style:r},e)});return a.a.createElement("main",l({},u,{style:p.mainStyle}),d)}var o=n(0),a=n.n(o),s=n(11),u=(n.n(s),n(15)),c=n.n(u),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};i.defaultProps={sizeRatio:["0 0 320px",1],children:[],childWrapStyle:{}},t.a=i},function(e,t,n){"use strict";function r(e){function t(t){var r=t.style,a=t.flexValue,u=void 0===a?"1 0 auto":a,c=t.children,l=Object.assign({display:"flex"},e,r),p=i.Children.map(c,function(e){return null===e&&s.a.error("createFlexContainer: Flex child can not be 'null'"),n.i(i.cloneElement)(e,{style:Object.assign({},{flex:u},e.props.style)})});return o.a.createElement("div",{style:l},p)}var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FlexContainer";return t.displayName=r,t}t.a=r;var i=n(0),o=n.n(i),a=n(15),s=n.n(a)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(45),c=n.n(u),l=n(243),p=n(33),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o._filterList=function(e){o.setState({textSearch:e.target.value})},o.state={textSearch:""},o.i18n=n.d2.i18n,o}return o(t,e),d(t,[{key:"render",value:function(){var e=this,t={width:"100%",outline:"none",border:"none",padding:"0rem 1rem",overflowX:"auto"};return s.a.createElement("div",null,s.a.createElement(c.a,{style:{marginLeft:"1rem"},hintText:this.i18n.getTranslation("search_by_name"),onChange:this._filterList,value:this.state.textSearch}),s.a.createElement(l.a,f({},this.props,{listStyle:t,source:this.props.source.filter(function(t){return-1!==t.label.toLowerCase().indexOf(e.state.textSearch.toLowerCase())}),size:10})))}}]),t}(a.Component);h.propTypes={source:a.PropTypes.array.isRequired},h.defaultProps={source:[]},t.a=n.i(p.a)(h)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t,n,r,i){if(!/(\/[a-zA-Z][a-zA-Z0-9]{10})+/.test(e[t]))return new Error("Invalid org unit path `"+e[t]+"` supplied to `"+n+"."+i+"`")}var s=n(0),u=n.n(s),c=n(180),l=n.n(c),p=n(134),f=n.n(p),d=n(216),h=n.n(d),m=n(373),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b={progress:{position:"absolute",display:"inline-block",width:"100%",left:-8},progressBar:{height:2,backgroundColor:"transparent"},spacer:{position:"relative",display:"inline-block",width:"1.2rem",height:"1rem"},label:{display:"inline-block"},ouContainer:{borderColor:"transparent",borderStyle:"solid",borderWidth:"1px",borderRightWidth:0,borderRadius:"3px 0 0 3px",background:"transparent",paddingLeft:2},currentOuContainer:{background:"rgba(0,0,0,0.05)",borderColor:"rgba(0,0,0,0.1)"},memberCount:{fontSize:"0.75rem",marginLeft:4}},v=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return e.hasOwnProperty("onClick")&&console.warn("Deprecated: `OrgUnitTree.onClick` has been deprecated. Please use `onSelectClick` instead."),n.state={children:!1===e.root.children||Array.isArray(e.root.children)&&0===e.root.children.length?[]:void 0,loading:!1},e.root.children instanceof h.a&&(n.state.children=e.root.children.toArray().sort(function(e,t){return e.displayName.localeCompare(t.displayName)})),n.loadChildren=n.loadChildren.bind(n),n.handleSelectClick=n.handleSelectClick.bind(n),n}return o(t,e),y(t,[{key:"componentDidMount",value:function(){var e=this;this.props.initiallyExpanded.some(function(t){return t.includes("/"+e.props.root.id)})&&this.loadChildren()}},{key:"componentWillReceiveProps",value:function(e){(e.initiallyExpanded.some(function(t){return t.includes("/"+e.root.id)})||e.idsThatShouldBeReloaded.includes(e.root.id))&&this.loadChildren()}},{key:"setChildState",value:function(e){this.props.onChildrenLoaded&&this.props.onChildrenLoaded(e),this.setState({children:e.toArray().sort(function(e,t){return e.displayName.localeCompare(t.displayName)}),loading:!1})}},{key:"loadChildren",value:function(){var e=this;if(void 0===this.state.children&&!this.state.loading||this.props.idsThatShouldBeReloaded.indexOf(this.props.root.id)>=0){this.setState({loading:!0});var t=this.props.root;this.props.memberCollection&&this.props.memberObject?t.modelDefinition.list({filter:"parent.id:eq:"+t.id,paging:!1,fields:"id,displayName,children::isNotEmpty,path,parent,memberCount",memberObject:this.props.memberObject,memberCollection:this.props.memberCollection}).then(function(t){return e.setChildState(t)}):t.modelDefinition.get(t.id,{fields:"children[id,displayName,children::isNotEmpty,path,parent]"}).then(function(t){return e.setChildState(t.children)})}}},{key:"handleSelectClick",value:function(e){this.props.onSelectClick?this.props.onSelectClick(e,this.props.root):this.props.onClick&&this.props.onClick(e,this.props.root),e.stopPropagation()}},{key:"renderChildren",value:function(){var e=this,n=Array.isArray(this.props.initiallyExpanded)?this.props.initiallyExpanded.filter(function(t){return t!==e.props.root.id}):this.props.initiallyExpanded!==this.props.root.id&&this.props.initiallyExpanded||[];return Array.isArray(this.state.children)&&this.state.children.length>0?this.state.children.map(function(r){return u.a.createElement(t,{key:r.id,root:r,selected:e.props.selected,initiallyExpanded:n,onSelectClick:e.props.onSelectClick||e.props.onClick,currentRoot:e.props.currentRoot,onChangeCurrentRoot:e.props.onChangeCurrentRoot,labelStyle:e.props.labelStyle,selectedLabelStyle:e.props.selectedLabelStyle,arrowSymbol:e.props.arrowSymbol,idsThatShouldBeReloaded:e.props.idsThatShouldBeReloaded,hideCheckboxes:e.props.hideCheckboxes,memberCollection:e.props.memberCollection,memberObject:e.props.memberObject,onChildrenLoaded:e.props.onChildrenLoaded,hideMemberCount:e.props.hideMemberCount})}):(this.state.loading,u.a.createElement("div",{style:b.progress},u.a.createElement(l.a,{style:b.progressBar})))}},{key:"render",value:function(){var e=this,t=this.props.root,n=void 0===this.state.children||Array.isArray(this.state.children)&&this.state.children.length>0,r=!!this.props.onSelectClick||!!this.props.onClick,i=(this.props.selected&&this.props.selected.reduce(function(e,t){return e||t.includes("/")},!1),new RegExp("/"+t.id+"$")),o=new RegExp("/"+t.id),a=this.props.selected&&this.props.selected.some(function(e){return i.test(e)}),s=this.props.currentRoot&&this.props.currentRoot.id===t.id,c=this.props.initiallyExpanded.some(function(e){return e.includes("/"+t.id)}),l=this.props.onChangeCurrentRoot&&!s&&n,p=void 0!==this.props.selected?this.props.selected.filter(function(e){return o.test(e)}).length:t.memberCount,f=Object.assign({},b.label,{fontWeight:a?500:300,color:a?"orange":"inherit",cursor:l?"pointer":"default"},a?this.props.selectedLabelStyle:this.props.labelStyle),d=Object.assign({},b.ouContainer,s?b.currentOuContainer:{}),h=function(n){n.stopPropagation(),e.props.onChangeCurrentRoot(t)},y=u.a.createElement("div",{style:f,onClick:l&&h||r&&this.handleSelectClick},r&&!this.props.hideCheckboxes&&u.a.createElement("input",{type:"checkbox",readOnly:!0,disabled:!r,checked:a,onClick:this.handleSelectClick}),t.displayName,n&&!this.props.hideMemberCount&&!!p&&u.a.createElement("span",{style:b.memberCount},"(",p,")"));return n?u.a.createElement(m.a,{label:y,onExpand:this.loadChildren,persistent:!0,initiallyExpanded:c,arrowSymbol:this.props.arrowSymbol,className:"orgunit with-children",style:d},this.renderChildren()):u.a.createElement("div",{onClick:r&&this.handleSelectClick,className:"orgunit without-children",style:d},u.a.createElement("div",{style:b.spacer}),y)}}]),t}(u.a.Component);v.propTypes={root:u.a.PropTypes.instanceOf(f.a).isRequired,selected:u.a.PropTypes.arrayOf(a),initiallyExpanded:u.a.PropTypes.arrayOf(a),onSelectClick:u.a.PropTypes.func,onChangeCurrentRoot:u.a.PropTypes.func,currentRoot:u.a.PropTypes.object,onChildrenLoaded:u.a.PropTypes.func,memberCollection:u.a.PropTypes.string,memberObject:u.a.PropTypes.string,labelStyle:u.a.PropTypes.object,selectedLabelStyle:u.a.PropTypes.object,arrowSymbol:u.a.PropTypes.string,hideCheckboxes:u.a.PropTypes.bool,hideMemberCount:u.a.PropTypes.bool},v.defaultProps={initiallyExpanded:[],labelStyle:{},selectedLabelStyle:{},idsThatShouldBeReloaded:[],hideCheckboxes:!1,hideMemberCount:!1},t.a=v},function(e,t,n){"use strict";function r(e){if(e.roots)return u.a.createElement("div",null,e.roots.map(function(t,n){return u.a.createElement(c.a,p({key:n},e,{root:t,onSelectClick:e.onSelectClick}))}));var t=e.root;return u.a.createElement(c.a,p({root:t},e))}function i(e){return e&&e.modelDefinition&&"organisationUnits"===e.modelDefinition.plural}function o(e,t,n){if(e[t]&&!i(e[t]))return new Error("Invalid org unit model supplied to `"+n+"."+t+"`")}function a(e,t,n,r,o){if(!i(e[t]))return new Error("Invalid org unit model supplied to `"+n+"."+propName+"`")}t.a=r;var s=n(0),u=n.n(s),c=n(371),l=n(134),p=(n.n(l),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e});r.propTypes=Object.assign({},c.a.propTypes,{root:o,roots:u.a.PropTypes.arrayOf(a)})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={collapsed:!e.initiallyExpanded,hasBeenExpanded:e.initiallyExpanded},n.handleClick=n.handleClick.bind(n),n}return o(t,e),u(t,[{key:"toggleCollapsed",value:function(){var e=this;this.setState(function(e){return{collapsed:!e.collapsed,hasBeenExpanded:!0}},function(){!e.state.collapsed&&e.props.onExpand instanceof Function&&e.props.onExpand()})}},{key:"componentWillReceiveProps",value:function(e){e.initiallyExpanded&&this.state.collapsed&&this.toggleCollapsed()}},{key:"handleClick",value:function(e){this.props.onClick&&this.props.onClick(e),void 0!==e&&e.stopPropagation()}},{key:"render",value:function(){var e={tree:{marginLeft:16,whiteSpace:"nowrap"},itemLabel:{display:"inline-block",position:"relative"},arrow:{display:"inline-block",position:"absolute",left:-16,top:-1,width:11,height:16,paddingLeft:4,textAlign:"center",cursor:"pointer"},arrowSymbol:{transition:"transform 150ms ease-out",transform:this.state.collapsed?"":"rotate(90deg)",position:"absolute"},clickTarget:{cursor:this.props.onClick&&"pointer"},children:{position:"relative",marginLeft:16,height:this.state.collapsed?0:"inherit"}},t=s.a.createElement("div",{style:e.itemLabel},s.a.createElement("div",{className:"arrow",style:e.arrow,onClick:this.toggleCollapsed.bind(this)},s.a.createElement("div",{style:e.arrowSymbol},this.props.arrowSymbol)),s.a.createElement("div",{className:"label",onClick:this.handleClick,style:e.clickTarget},this.props.label));e.children.display=this.state.collapsed?"none":"block";var n=(!this.state.collapsed||this.props.persistent&&this.state.hasBeenExpanded)&&s.a.createElement("div",{className:"children",style:e.children},this.props.children),r="tree-view "+this.props.className;return s.a.createElement("div",{className:r,style:Object.assign(e.tree,this.props.style)},t,n)}}]),t}(s.a.Component);c.propTypes={label:s.a.PropTypes.node.isRequired,children:s.a.PropTypes.node,persistent:s.a.PropTypes.bool,initiallyExpanded:s.a.PropTypes.bool,arrowSymbol:s.a.PropTypes.node,style:s.a.PropTypes.object,className:s.a.PropTypes.string,onExpand:s.a.PropTypes.func,onClick:s.a.PropTypes.func},c.defaultProps={persistent:!1,initiallyExpanded:!1,arrowSymbol:"",style:{}},t.a=c},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.noCreateAllowedFor=new Set(["categoryOptionCombo"]);t.default={baseUrl:"/api",i18n:{sources:new Set,strings:new Set}}},function(e,t,n){"use strict";(function(e){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(25),a=function(){function t(e){r(this,t),(0,o.checkType)(e,"object","console"),this.logger=e}return i(t,[{key:"canLog",value:function(e){return!!(e&&console&&(0,o.isType)(this.logger[e],"function"))}},{key:"debug",value:function(){if(this.canLog("debug")){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.logger.debug.apply(console,t),!0}return!1}},{key:"error",value:function(){if(this.canLog("error")){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.logger.error.apply(console,t),!0}return!1}},{key:"log",value:function(){if(this.canLog("log")){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.logger.log.apply(console,t),!0}return!1}},{key:"warn",value:function(){if(this.canLog("warn")){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.logger.warn.apply(console,t),!0}return!1}}],[{key:"getLogger",value:function(){var n=void 0;try{n=e.console}catch(e){n=window.console}return this.logger?this.logger:this.logger=new t(n)}}]),t}();t.default=a}).call(t,n(28))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){var n=t.collection?t.collectionName:t.name,r={configurable:!1,enumerable:!0,get:function(){return this.dataValues[n]}};t.constants&&(r.constants=t.constants),t.writable&&(r.set=function(e){(!(0,y.isObject)(e)&&e!==this.dataValues[n]||(0,y.isObject)(e))&&(this.dirty=!0,this[k.DIRTY_PROPERTY_LIST].add(n),this.dataValues[n]=e)}),n&&(e[n]=r)}function c(e){var t={},n=(0,b.curry)(u,t);return(e||[]).forEach(n),t}function l(e,t){var n=t.collection?t.collectionName:t.name,r={persisted:t.persisted,type:P.default.typeLookup(t.propertyType),required:t.required,min:t.min,max:t.max,owner:t.owner,unique:t.unique,writable:t.writable,ordered:Boolean(t.ordered),embeddedObject:Boolean(t.embeddedObject)};("REFERENCE"===r.type||"COLLECTION"===r.type&&"REFERENCE"===t.itemPropertyType)&&(r.referenceType=function(e){if(e.href)return e.href.split("/").pop()}(t)),n&&(e[n]=r)}function p(e){var t={},n=(0,b.curry)(l,t);return(e||[]).forEach(n),t}function f(e,t){return function(n){return e&&t&&e.modelDefinition&&e.modelDefinition.modelValidations&&e.modelDefinition.modelValidations[n]&&"COLLECTION"===e.modelDefinition.modelValidations[n].type&&t.hasOwnProperty(e.modelDefinition.modelValidations[n].referenceType)}}function d(e){return Boolean(e.id)}Object.defineProperty(t,"__esModule",{value:!0});var h=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=n(25),b=n(133),v=n(382),g=r(v),w=n(134),O=r(w),S=n(216),_=r(S),E=n(765),x=r(E),T=n(762),P=r(T),C=n(764),j=r(C),k=n(248),A=n(384),I=n(111),R=new WeakMap,N=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],r=arguments[2],i=arguments[3],o=arguments[4];s(this,e),(0,y.checkType)(t.singular,"string"),(0,y.checkType)(t.plural,"string","Plural"),(0,b.addLockedProperty)(this,"name",t.singular),(0,b.addLockedProperty)(this,"displayName",t.displayName),(0,b.addLockedProperty)(this,"plural",t.plural),(0,b.addLockedProperty)(this,"isShareable",t.shareable||!1),(0,b.addLockedProperty)(this,"isMetaData",t.metadata||!1),(0,b.addLockedProperty)(this,"apiEndpoint",t.apiEndpoint),(0,b.addLockedProperty)(this,"javaClass",t.klass),(0,b.addLockedProperty)(this,"identifiableObject",t&&t.identifiableObject),(0,b.addLockedProperty)(this,"modelProperties",n),(0,b.addLockedProperty)(this,"modelValidations",r),(0,b.addLockedProperty)(this,"attributeProperties",i),(0,b.addLockedProperty)(this,"authorities",o),(0,b.addLockedProperty)(this,"translatable",t.translatable||!1),this.filters=j.default.getFilters(this),R.set(this,(t.properties||[]).filter(function(e){return e.translationKey}).map(function(e){return{name:e.name,translationKey:e.translationKey}})),this.getOwnedPropertyJSON=I.getOwnedPropertyJSON.bind(this)}return m(e,[{key:"filter",value:function(){return this.clone().filters}},{key:"create",value:function(e){var t=O.default.create(this),n=t.modelDefinition.modelValidations,r=g.default.getModelDefinitions(),i=Object.assign({},e);if(e)Object.keys(t).forEach(function(o){var a=n[o].hasOwnProperty("referenceType")&&n[o].referenceType||r.hasOwnProperty(o)&&o;a&&r.hasOwnProperty(a)&&Array.isArray(e[o])&&(i[o]="translations"===o||"greyedFields"===o?e[o]:x.default.create(t,r[a],e[o].map(function(e){return r[a].create(e)}))),t.dataValues[o]=i[o]});else{Object.keys(t).filter(f(t,r)).forEach(function(e){var n=t.modelDefinition.modelValidations[e].referenceType;t.dataValues[e]=x.default.create(t,r[n],[])});var o=(0,A.getDefaultValuesForModelType)(t.modelDefinition.name),a=f(t,r);Object.keys(t).filter(function(e){return!a(e)}).forEach(function(e){t.dataValues[e]=o[e]})}return t}},{key:"clone",value:function(){var e=Object.getPrototypeOf(this),t=this.filters.filters,n=Object.create(e);return n=(0,b.copyOwnProperties)(n,this),n.filters=j.default.getFilters(n),n.filters.filters=t.map(function(e){return e}),n}},{key:"get",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fields:":all,attributeValues[:all,attribute[id,name,displayName]]"};return(0,y.checkDefined)(e,"Identifier"),Array.isArray(e)?this.list({filter:["id:in:["+e.join(",")+"]"]}):this.api.get([this.apiEndpoint,e].join("/"),n).then(function(e){return t.create(e)}).catch(function(e){return e.message?Promise.reject(e.message):Promise.reject(e)})}},{key:"list",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.apiEndpoint,r=a(t,["apiEndpoint"]),i=Object.assign({fields:":all"},r),o=this.filters.getFilters();return(0,y.isDefined)(i.filter)||(delete i.filter,o.length&&(i.filter=o)),this.api.get(n||this.apiEndpoint,i).then(function(t){return _.default.create(e,t[e.plural].map(function(t){return e.create(t)}),Object.assign(t.pager||{},{query:i}))})}},{key:"save",value:function(e){if(d(e)){var t=I.getOwnedPropertyJSON.bind(this)(e),n=(0,b.updateAPIUrlWithBaseUrlVersionNumber)(e.dataValues.href,this.api.baseUrl);return this.api.update(n,t,!0)}return this.saveNew(e)}},{key:"saveNew",value:function(e){var t=I.getOwnedPropertyJSON.bind(this)(e);return this.api.post(this.apiEndpoint,t)}},{key:"getOwnedPropertyNames",value:function(){var e=this;return Object.keys(this.modelValidations).filter(function(t){return e.modelValidations[t].owner})}},{key:"delete",value:function(e){return e.dataValues.href?this.api.delete(e.dataValues.href):this.api.delete([e.modelDefinition.apiEndpoint,e.dataValues.id].join("/"))}},{key:"isTranslatable",value:function(){return this.translatable}},{key:"getTranslatableProperties",value:function(){return R.get(this).map((0,b.pick)("name"))}},{key:"getTranslatablePropertiesWithKeys",value:function(){return R.get(this)}}],[{key:"createFromSchema",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=void 0;return(0,y.checkType)(t,Object,"Schema"),r="function"==typeof e.specialClasses[t.singular]?e.specialClasses[t.singular]:e,Object.freeze(new r(t,Object.freeze(c(t.properties)),Object.freeze(p(t.properties)),n.reduce(function(e,t){return e[t.name]=t,e},{}),t.authorities))}}]),e}(),D=function(e){function t(){return s(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),m(t,[{key:"get",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fields:":all,userCredentials[:owner]"};return h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"get",this).call(this,e,n)}}]),t}(N),M=function(e){function t(){return s(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),m(t,[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Boolean(Object.keys(e).length),r=Object.keys(e).filter(function(e){return"compulsoryDataElementOperands"!==e}).reduce(function(t,n){return t[n]=e[n],t},{}),i=h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"create",this).call(this,n?r:void 0);return i.dataValues.compulsoryDataElementOperands=e.compulsoryDataElementOperands,i}}]),t}(N),F=function(e){function t(){return s(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),m(t,[{key:"list",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.root,r=a(e,["root"]);return e.hasOwnProperty("root")&&n&&(r.apiEndpoint=this.apiEndpoint+"/"+n),h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"list",this).call(this,r)}}]),t}(N);N.specialClasses={user:D,dataSet:M,organisationUnit:F},t.default=N},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){return i.modelDefinitions?i.modelDefinitions:i.modelDefinitions=new s}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(25),s=function(){function e(){r(this,e)}return o(e,[{key:"add",value:function(e){try{(0,a.checkType)(e.name,"string")}catch(e){throw new Error("Name should be set on the passed ModelDefinition to add one")}if(this[e.name])throw new Error(["Model",e.name,"already exists"].join(" "));this[e.name]=e,(0,a.isType)(e.plural,"string")&&(this[e.plural]=e)}},{key:"mapThroughDefinitions",value:function(e){var t=this;return(0,a.checkType)(e,"function","transformer"),Object.keys(this).filter(function(e){return t.hasOwnProperty(e)&&!(t[e].plural===e)}).map(function(n){return e(t[n])})}}]),e}();s.getModelDefinitions=i,t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(25),s=n(380),u=r(s),c=n(52),l=r(c),p=n(111),f=function(){function e(t){i(this,e),(0,a.checkType)(t,"object","logger (Logger)"),this.logger=t}return o(e,[{key:"validate",value:function(){throw this.logger.warn("Client side model validation is deprecated"),new Error("Client side model validation is deprecated")}},{key:"validateAgainstSchema",value:function(e){function t(e){if(e.response&&e.response.errorReports)return e.response.errorReports;throw new Error("Response was not a WebMessage with the expected format")}if(!(e&&e.modelDefinition&&e.modelDefinition.name))return Promise.reject("model.modelDefinition.name can not be found");var n="schemas/"+e.modelDefinition.name;return l.default.getApi().post(n,(0,p.getOwnedPropertyJSON)(e)).catch(function(e){return Promise.reject(e)}).then(function(e){return"OK"===e.status?[]:Promise.reject(e)}).catch(t)}}],[{key:"getModelValidation",value:function(){return this.modelValidation?this.modelValidation:this.modelValidation=new e(u.default.getLogger(console))}}]),e}();t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return P.has(e)?P.get(e):{}}Object.defineProperty(t,"__esModule",{value:!0}),t.fieldsForSchemas=t.defaultValues=void 0,t.getDefaultValuesForModelType=i;var o=n(772),a=r(o),s=n(766),u=r(s),c=n(767),l=r(c),p=n(768),f=r(p),d=n(769),h=r(d),m=n(770),y=r(m),b=n(771),v=r(b),g=n(775),w=r(g),O=n(776),S=r(O),_=n(773),E=r(_),x=n(774),T=r(x),P=t.defaultValues=new Map([["organisationUnitGroupSet",a.default],["category",u.default],["categoryOptionGroupSet",l.default],["dataElement",f.default],["dataElementGroupSet",h.default],["dataSet",y.default],["externalMapLayer",v.default],["validationNotificationTemplate",w.default],["validationRule",S.default],["program",E.default],["programNotificationTemplate",T.default]]),C=["apiEndpoint","name","displayName","authorities","singular","plural","shareable","metadata","klass","identifiableObject","translatable"],j=["href","writable","collection","collectionName","name","propertyType","persisted","required","min","max","ordered","unique","constants","owner","itemPropertyType","translationKey","embeddedObject"];t.fieldsForSchemas=C.concat("properties["+j.join(",")+"]").join(",")},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(25),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{page:1,pageCount:1,query:{}},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{list:function(){return Promise.reject("No handler available")}};r(this,e),this.page=t.page,this.pageCount=t.pageCount,this.total=t.total,this.nextPage=t.nextPage,this.prevPage=t.prevPage,this.query=t.query,this.pagingHandler=n}return i(e,[{key:"hasNextPage",value:function(){return(0,o.isDefined)(this.nextPage)}},{key:"hasPreviousPage",value:function(){return(0,o.isDefined)(this.prevPage)}},{key:"getNextPage",value:function(){return this.hasNextPage()?this.goToPage(this.page+1):Promise.reject("There is no next page for this collection")}},{key:"getPreviousPage",value:function(){return this.hasPreviousPage()?this.goToPage(this.page-1):Promise.reject("There is no previous page for this collection")}},{key:"goToPage",value:function(e){if(e<1)throw new Error("PageNr can not be less than 1");if(e>this.pageCount)throw new Error("PageNr can not be larger than the total page count of "+this.pageCount);return this.pagingHandler.list(Object.assign({},this.query,{page:e}))}}]),e}();t.default=a},function(e,t,n){"use strict";function r(e){if(!(e instanceof Date))throw new Error("formatAsISODate(date) only accepts Date objects");return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).substr(-2)+"-"+("0"+e.getDate()).substr(-2)}function i(e){for(var t=[],n=new Date,r=0;r<e.length;r++)new Date(e[r].startDate)<=n&&t.push(e[r]);return t}function o(e){var t=e.getFullYear(),n=""+(e.getMonth()+1);return n=("0"+n).substr(-2),t+n}function a(e){return e.getFullYear()+("0"+(Math.floor(e.getMonth()/2)+1)).substr(-2)+"B"}function s(e){if(!(0,w.isInteger)(e))throw new Error("Generator should be called with an integer to identify the year. Perhaps you passed a Date object?");if(e<0)throw new Error("Generator does not support generating year before the year 0.")}function u(){return(new Date).getFullYear()}function c(e){var t=function(e){return e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400)};return t(e)%7==4||t(e-1)%7==3}function l(e,t){var n=new Date(t);return n.setDate(n.getDate()+e),n}function p(e,t){var n=new Date(t);return n.setMonth(t.getMonth()+e),n}function f(e,t){return l(-e,t)}function d(e){var t=new Date(e,0,4);if(0===t.getDay())t=f(6,t);else{t=f(t.getDay()-1,t)}return t}function h(e){var t=new Date(e);return t.setDate(t.getDate()+6),t}function m(e){for(var t=[],n=0;n<12;n+=1){var r=new Date(2e3,n,1).toLocaleDateString(e,{month:"long"});t.push(r)}return t}function y(e,t){return new Date(new Date(e,t+1).setDate(0))}function b(e,t){var n=3*(t-1);return new Date(e,n)}function v(e,t){return new Date(b(e,t+1).setDate(0))}function g(e,t){var n=29===new Date(new Date(e,2,1).setDate(0)).getDate(),r=n?S:O,i=(new Date(e,0,4).getDay()||7)+3,o=7*t+(1-i);if(o<0)return new Date(e,0,o);for(var a=11;o<r[a];)a--;return new Date(e,a,o-r[a])}Object.defineProperty(t,"__esModule",{value:!0}),t.formatAsISODate=r,t.filterFuturePeriods=i,t.getYYYYMM=o,t.getBiMonthlyId=a,t.validateIfValueIsInteger=s,t.getCurrentYear=u,t.is53WeekISOYear=c,t.addDays=l,t.addMonths=p,t.subtractDays=f,t.getFirstDayInFirstISOWeekForYear=d,t.getLastDayOfTheWeekForFirstDayOfTheWeek=h,t.getMonthNamesForLocale=m,t.getLastDateOfMonth=y,t.getFirstDateOfQuarter=b,t.getLastDateOfQuarter=v,t.getFirstDateOfWeek=g;var w=n(25),O=[0,31,59,90,120,151,181,212,243,273,304,334],S=[0,31,60,91,121,152,182,213,244,274,305,335]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(52),s=r(a),u=n(781),c=r(u),l=n(780),p=r(l),f=function(){function e(t,n){i(this,e),this.settings=t,this.configuration=n,this.systemInfo=void 0,this.version=void 0,this.installedApps=void 0}return o(e,[{key:"setSystemInfo",value:function(t){this.version=e.parseVersionString(t.version),this.systemInfo=t}},{key:"setInstalledApps",value:function(e){this.installedApps=e}},{key:"loadInstalledApps",value:function(){var e=this;return s.default.getApi().get("apps").then(function(t){return e.setInstalledApps(t),t})}},{key:"uploadApp",value:function(e,t){var n=s.default.getApi(),r=new FormData,i=void 0;return r.append("file",e),void 0!==t&&(i=new XMLHttpRequest,i.upload.onprogress=function(e){e.lengthComputable&&t(e.loaded/e.total)}),n.post("apps",r,{contentType:!1,processData:!1,xhr:void 0!==i?function(){return i}:void 0})}},{key:"loadAppStore",value:function(){var t=this,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return new Promise(function(r,i){s.default.getApi().get("appStore").then(function(i){var o=Object.assign({},i);o.apps=o.apps.map(function(r){var i=Object.assign({},r);return n&&(i.versions=i.versions.filter(function(n){return e.isVersionCompatible(t.version,n)})),i}).filter(function(e){return e.versions.length>0}),r(o)}).catch(function(e){i(e)})})}},{key:"installAppVersion",value:function(e){var t=s.default.getApi();return new Promise(function(n,r){t.post(["appStore",e].join("/"),"",{dataType:"text"}).then(function(){n()}).catch(function(e){r(e)})})}},{key:"uninstallApp",value:function(e){return s.default.getApi().delete(["apps",e].join("/")).catch(function(){})}},{key:"reloadApps",value:function(){var e=this;return s.default.getApi().update("apps").then(function(){return e.loadInstalledApps()})}}],[{key:"parseVersionString",value:function(e){return{major:Number.parseInt(e,10),minor:Number.parseInt(e.substring(e.indexOf(".")+1),10),snapshot:e.indexOf("-SNAPSHOT")>=0}}},{key:"compareVersions",value:function(t,n){var r="string"==typeof t||t instanceof String?e.parseVersionString(t):t,i="string"==typeof n||n instanceof String?e.parseVersionString(n):n;return r.major!==i.major?r.major-i.major:r.minor!==i.minor?r.minor-i.minor:(r.snapshot?0:1)-(i.snapshot?0:1)}},{key:"isVersionCompatible",value:function(t,n){var r=!n.min_platform_version||e.compareVersions(t,n.min_platform_version)>=0,i=!n.max_platform_version||e.compareVersions(t,n.max_platform_version)<=0;return r&&i}},{key:"getSystem",value:function(){return e.getSystem.system||(e.getSystem.system=new e(new c.default,new p.default)),e.getSystem.system}}]),e}();t.default=f},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var r=Math.PI/180,i=180/Math.PI},,function(e,t,n){"use strict";t.__esModule=!0,t.readState=t.saveState=void 0;var r=n(22),i=(function(e){e&&e.__esModule}(r),{QuotaExceededError:!0,QUOTA_EXCEEDED_ERR:!0}),o={SecurityError:!0},a=function(e){return"@@History/"+e};t.saveState=function(e,t){if(window.sessionStorage)try{null==t?window.sessionStorage.removeItem(a(e)):window.sessionStorage.setItem(a(e),JSON.stringify(t))}catch(e){if(o[e.name])return;if(i[e.name]&&0===window.sessionStorage.length)return;throw e}},t.readState=function(e){var t=void 0;try{t=window.sessionStorage.getItem(a(e))}catch(e){if(o[e.name])return}if(t)try{return JSON.parse(t)}catch(e){}}},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(255),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=n(78),s=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e(t),i=t.basename,s=function(e){return e?(i&&null==e.basename&&(0===e.pathname.toLowerCase().indexOf(i.toLowerCase())?(e.pathname=e.pathname.substring(i.length),e.basename=i,""===e.pathname&&(e.pathname="/")):e.basename=""),e):e},u=function(e){if(!i)return e;var t="string"==typeof e?(0,a.parsePath)(e):e,n=t.pathname,o="/"===i.slice(-1)?i:i+"/",s="/"===n.charAt(0)?n.slice(1):n;return r({},t,{pathname:o+s})};return r({},n,{getCurrentLocation:function(){return s(n.getCurrentLocation())},listenBefore:function(e){return n.listenBefore(function(t,n){return(0,o.default)(e,s(t),n)})},listen:function(e){return n.listen(function(t){return e(s(t))})},push:function(e){return n.push(u(e))},replace:function(e){return n.replace(u(e))},createPath:function(e){return n.createPath(u(e))},createHref:function(e){return n.createHref(u(e))},createLocation:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return s(n.createLocation.apply(n,[u(e)].concat(r)))}})}};t.default=s},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(1014),o=n(255),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=n(112),u=n(78),c=function(e){return(0,i.stringify)(e).replace(/%20/g,"+")},l=i.parse,p=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e(t),i=t.stringifyQuery,o=t.parseQueryString;"function"!=typeof i&&(i=c),"function"!=typeof o&&(o=l);var p=function(e){return e?(null==e.query&&(e.query=o(e.search.substring(1))),e):e},f=function(e,t){if(null==t)return e;var n="string"==typeof e?(0,u.parsePath)(e):e,o=i(t);return r({},n,{search:o?"?"+o:""})};return r({},n,{getCurrentLocation:function(){return p(n.getCurrentLocation())},listenBefore:function(e){return n.listenBefore(function(t,n){return(0,a.default)(e,p(t),n)})},listen:function(e){return n.listen(function(t){return e(p(t))})},push:function(e){return n.push(f(e,e.query))},replace:function(e){return n.replace(f(e,e.query))},createPath:function(e){return n.createPath(f(e,e.query))},createHref:function(e){return n.createHref(f(e,e.query))},createLocation:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=n.createLocation.apply(n,[f(e,e.query)].concat(r));return e.query&&(o.query=(0,s.createQuery)(e.query)),p(o)}})}};t.default=p},,,,function(e,t,n){"use strict";var r=n(818),i=r.a.Symbol;t.a=i},,function(e,t,n){function r(e,t){t=i(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[o(t[n++])];return n&&n==r?e:void 0}var i=n(400),o=n(179);e.exports=r},function(e,t,n){function r(e,t,n,a,s){return e===t||(null==e||null==t||!o(e)&&!o(t)?e!==e&&t!==t:i(e,t,n,a,r,s))}var i=n(836),o=n(120);e.exports=r},function(e,t,n){function r(e,t){return i(e)?e:o(e,t)?[e]:a(s(e))}var i=n(57),o=n(261),a=n(894),s=n(905);e.exports=r},function(e,t,n){function r(e,t,n,r,c,l){var p=n&s,f=e.length,d=t.length;if(f!=d&&!(p&&d>f))return!1;var h=l.get(e);if(h&&l.get(t))return h==t;var m=-1,y=!0,b=n&u?new i:void 0;for(l.set(e,t),l.set(t,e);++m<f;){var v=e[m],g=t[m];if(r)var w=p?r(g,v,m,t,e,l):r(v,g,m,e,t,l);if(void 0!==w){if(w)continue;y=!1;break}if(b){if(!o(t,function(e,t){if(!a(b,t)&&(v===e||c(v,e,n,r,l)))return b.push(t)})){y=!1;break}}else if(v!==g&&!c(v,g,n,r,l)){y=!1;break}}return l.delete(e),l.delete(t),y}var i=n(505),o=n(832),a=n(506),s=1,u=2;e.exports=r},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(28))},function(e,t,n){function r(e){return e===e&&!i(e)}var i=n(119);e.exports=r},function(e,t){function n(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}e.exports=n},function(e,t){function n(e){if(null!=e){try{return i.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var r=Function.prototype,i=r.toString;e.exports=n},function(e,t,n){function r(e){if(!o(e))return!1;var t=i(e);return t==s||t==u||t==a||t==c}var i=n(121),o=n(119),a="[object AsyncFunction]",s="[object Function]",u="[object GeneratorFunction]",c="[object Proxy]";e.exports=r},function(e,t,n){var r=n(839),i=n(303),o=n(882),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=r(e),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var l in n)o.call(n,l)&&(u[l]=n[l]);if(i){s=i(n);for(var p=0;p<s.length;p++)a.call(n,s[p])&&(u[s[p]]=n[s[p]])}}return u}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function s(){}function u(e,t){var n={run:function(r){try{var i=e(t.getState(),r);(i!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=i,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}function c(e){var t,c,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=l.getDisplayName,w=void 0===f?function(e){return"ConnectAdvanced("+e+")"}:f,O=l.methodName,S=void 0===O?"connectAdvanced":O,_=l.renderCountProp,E=void 0===_?void 0:_,x=l.shouldHandleStateChanges,T=void 0===x||x,P=l.storeKey,C=void 0===P?"store":P,j=l.withRef,k=void 0!==j&&j,A=a(l,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),I=C+"Subscription",R=v++,N=(t={},t[C]=y.a,t[I]=y.b,t),D=(c={},c[I]=y.b,c);return function(t){d()("function"==typeof t,"You must pass a component to the function returned by connect. Instead received "+JSON.stringify(t));var a=t.displayName||t.name||"Component",c=w(a),l=b({},A,{getDisplayName:w,methodName:S,renderCountProp:E,shouldHandleStateChanges:T,storeKey:C,withRef:k,displayName:c,wrappedComponentName:a,WrappedComponent:t}),f=function(a){function p(e,t){r(this,p);var n=i(this,a.call(this,e,t));return n.version=R,n.state={},n.renderCount=0,n.store=e[C]||t[C],n.propsMode=Boolean(e[C]),n.setWrappedInstance=n.setWrappedInstance.bind(n),d()(n.store,'Could not find "'+C+'" in either the context or props of "'+c+'". Either wrap the root component in a <Provider>, or explicitly pass "'+C+'" as a prop to "'+c+'".'),n.initSelector(),n.initSubscription(),n}return o(p,a),p.prototype.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return e={},e[I]=t||this.context[I],e},p.prototype.componentDidMount=function(){T&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},p.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},p.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},p.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=s,this.store=null,this.selector.run=s,this.selector.shouldComponentUpdate=!1},p.prototype.getWrappedInstance=function(){return d()(k,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+S+"() call."),this.wrappedInstance},p.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},p.prototype.initSelector=function(){var t=e(this.store.dispatch,l);this.selector=u(t,this.store),this.selector.run(this.props)},p.prototype.initSubscription=function(){if(T){var e=(this.propsMode?this.props:this.context)[I];this.subscription=new m.a(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},p.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(g)):this.notifyNestedSubs()},p.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},p.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},p.prototype.addExtraProps=function(e){if(!(k||E||this.propsMode&&this.subscription))return e;var t=b({},e);return k&&(t.ref=this.setWrappedInstance),E&&(t[E]=this.renderCount++),this.propsMode&&this.subscription&&(t[I]=this.subscription),t},p.prototype.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return n.i(h.createElement)(t,this.addExtraProps(e.props))},p}(h.Component);return f.WrappedComponent=t,f.displayName=c,f.childContextTypes=D,f.contextTypes=N,f.propTypes=N,p()(f,t)}}t.a=c;var l=n(205),p=n.n(l),f=n(24),d=n.n(f),h=n(0),m=(n.n(h),n(1024)),y=n(443),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=0,g={}},function(e,t,n){"use strict";function r(e){return function(t,n){function r(){return i}var i=e(t,n);return r.dependsOnOwnProps=!1,r}}function i(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function o(e,t){return function(t,n){var r=(n.displayName,function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)});return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=i(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=i(o),o=r(t,n)),o},r}}t.b=r,t.a=o;n(444)},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a});var r=n(2),i=n.n(r),o=i.a.shape({trySubscribe:i.a.func.isRequired,tryUnsubscribe:i.a.func.isRequired,notifyNestedSubs:i.a.func.isRequired,isSubscribed:i.a.func.isRequired}),a=i.a.shape({subscribe:i.a.func.isRequired,dispatch:i.a.func.isRequired,getState:i.a.func.isRequired})},function(e,t,n){"use strict";n(257),n(274)},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e){return 0===e.button}function o(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function a(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function s(e,t){return"function"==typeof e?e(t.location):e}var u=n(0),c=n.n(u),l=n(60),p=n.n(l),f=n(2),d=(n.n(f),n(24)),h=n.n(d),m=n(277),y=n(276),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=p()({displayName:"Link",mixins:[n.i(y.b)("router")],contextTypes:{router:m.a},propTypes:{to:n.i(f.oneOfType)([f.string,f.object,f.func]),activeStyle:f.object,activeClassName:f.string,onlyActiveOnIndex:f.bool.isRequired,onClick:f.func,target:f.string},getDefaultProps:function(){return{onlyActiveOnIndex:!1,style:{}}},handleClick:function(e){if(this.props.onClick&&this.props.onClick(e),!e.defaultPrevented){var t=this.context.router;t||h()(!1),!o(e)&&i(e)&&(this.props.target||(e.preventDefault(),t.push(s(this.props.to,t))))}},render:function(){var e=this.props,t=e.to,n=e.activeClassName,i=e.activeStyle,o=e.onlyActiveOnIndex,u=r(e,["to","activeClassName","activeStyle","onlyActiveOnIndex"]),l=this.context.router;if(l){if(!t)return c.a.createElement("a",u);var p=s(t,l);u.href=l.createHref(p),(n||null!=i&&!a(i))&&l.isActive(p,o)&&(n&&(u.className?u.className+=" "+n:u.className=n),i&&(u.style=b({},u.style,i)))}return c.a.createElement("a",b({},u,{onClick:this.handleClick}))}});t.a=v},function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.then}t.a=r},function(e,t,n){"use strict";var r=n(60),i=n.n(r),o=n(2),a=(n.n(o),n(24)),s=n.n(a),u=n(79),c=n(114),l=n(139),p=i()({displayName:"Redirect",statics:{createRouteFromReactElement:function(e){var t=n.i(u.c)(e);return t.from&&(t.path=t.from),t.onEnter=function(e,r){var i=e.location,o=e.params,a=void 0;if("/"===t.to.charAt(0))a=n.i(c.c)(t.to,o);else if(t.to){var s=e.routes.indexOf(t),u=p.getRoutePattern(e.routes,s-1),l=u.replace(/\/*$/,"/")+t.to;a=n.i(c.c)(l,o)}else a=i.pathname;r({pathname:a,query:t.query||i.query,state:t.state||i.state})},t},getRoutePattern:function(e,t){for(var n="",r=t;r>=0;r--){var i=e[r],o=i.path||"";if(n=o.replace(/\/*$/,"/")+n,0===o.indexOf("/"))break}return"/"+n}},propTypes:{path:o.string,from:o.string,to:o.string.isRequired,query:o.object,state:o.object,onEnter:l.c,children:l.c},render:function(){s()(!1)}});t.a=p},function(e,t,n){"use strict";function r(e,t,n){return i(o({},e,{setRouteLeaveHook:t.listenBeforeLeavingRoute,isActive:t.isActive}),n)}function i(e,t){var n=t.location,r=t.params,i=t.routes;return e.location=n,e.params=r,e.routes=i,e}t.a=r,t.b=i;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";function r(e){var t=c()(e),n=function(){return t};return o()(s()(n))(e)}t.a=r;var i=n(392),o=n.n(i),a=n(391),s=n.n(a),u=n(791),c=n.n(u)},function(e,t,n){"use strict";function r(e){var t=void 0;return o&&(t=n.i(i.a)(e)()),t}t.a=r;var i=n(452),o=!("undefined"==typeof window||!window.document||!window.document.createElement)},function(e,t,n){"use strict";function r(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function i(e,t){function i(t,r){return t=e.createLocation(t),n.i(s.a)(t,r,w.location,w.routes,w.params)}function p(e,r){x&&x.location===e?f(x,r):n.i(c.a)(t,e,function(t,n){t?r(t):n?f(l({},n,{location:e}),r):r()})}function f(e,t){function r(r,o){if(r||o)return i(r,o);n.i(u.a)(e,function(n,r){n?t(n):t(null,null,w=l({},e,{components:r}))})}function i(e,n){e?t(e):t(null,n)}var a=n.i(o.a)(w,e),s=a.leaveRoutes,c=a.changeRoutes,p=a.enterRoutes;E(s,w),s.filter(function(e){return-1===p.indexOf(e)}).forEach(b),_(c,w,e,function(t,n){if(t||n)return i(t,n);S(p,e,r)})}function d(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.__id__||t&&(e.__id__=T++)}function h(e){return e.map(function(e){return P[d(e)]}).filter(function(e){return e})}function m(e,r){n.i(c.a)(t,e,function(t,i){if(null==i)return void r();x=l({},i,{location:e});for(var a=h(n.i(o.a)(w,x).leaveRoutes),s=void 0,u=0,c=a.length;null==s&&u<c;++u)s=a[u](e);r(s)})}function y(){if(w.routes){for(var e=h(w.routes),t=void 0,n=0,r=e.length;"string"!=typeof t&&n<r;++n)t=e[n]();return t}}function b(e){var t=d(e);t&&(delete P[t],r(P)||(C&&(C(),C=null),j&&(j(),j=null)))}function v(t,n){var i=!r(P),o=d(t,!0);return P[o]=n,i&&(C=e.listenBefore(m),e.listenBeforeUnload&&(j=e.listenBeforeUnload(y))),function(){b(t)}}function g(t){function n(n){w.location===n?t(null,w):p(n,function(n,r,i){n?t(n):r?e.replace(r):i&&t(null,i)})}var r=e.listen(n);return w.location?t(null,w):n(e.getCurrentLocation()),r}var w={},O=n.i(a.a)(),S=O.runEnterHooks,_=O.runChangeHooks,E=O.runLeaveHooks,x=void 0,T=1,P=Object.create(null),C=void 0,j=void 0;return{isActive:i,match:p,listenBeforeLeavingRoute:v,listen:g}}t.a=i;var o=(n(115),n(1034)),a=n(1031),s=n(1038),u=n(1035),c=n(1040),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";function r(e){return function(t){return o()(s()(e))(t)}}t.a=r;var i=n(392),o=n.n(i),a=n(391),s=n.n(a)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return p});var a=n(1),s=(n.n(a),n(467)),u=(n.n(s),n(465)),c=(n.n(u),n(284)),l=(n.n(c),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),p=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.source=e,n}return o(t,e),l(t,null,[{key:"of",value:function(){return new this(s.of.apply(void 0,arguments))}},{key:"from",value:function(e,t){return new this(n.i(u.from)(e,t))}}]),l(t,[{key:"lift",value:function(e){var n=new t(this);return n.operator=e,n}},{key:"ofType",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.filter.call(this,function(e){var n=e.type,r=t.length;if(1===r)return n===t[0];for(var i=0;i<r;i++)if(t[i]===n)return!0;return!1})}}]),t}(a.Observable)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="@@redux-observable/EPIC_END"},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];var r=t[t.length-1],i=t.slice(0,-1);return function(){return i.reduceRight(function(e,t){return t(e)},r.apply(void 0,arguments))}}t.a=r},function(e,t,n){"use strict";function r(e,t,o){function u(){v===b&&(v=b.slice())}function c(){return y}function l(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return u(),v.push(e),function(){if(t){t=!1,u();var n=v.indexOf(e);v.splice(n,1)}}}function p(e){if(!n.i(i.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(g)throw new Error("Reducers may not dispatch actions.");try{g=!0,y=m(y,e)}finally{g=!1}for(var t=b=v,r=0;r<t.length;r++)t[r]();return e}function f(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");m=e,p({type:s.INIT})}function d(){var e,t=l;return e={subscribe:function(e){function n(){e.next&&e.next(c())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}},e[a.a]=function(){return this},e}var h;if("function"==typeof t&&void 0===o&&(o=t,t=void 0),void 0!==o){if("function"!=typeof o)throw new Error("Expected the enhancer to be a function.");return o(r)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var m=e,y=t,b=[],v=b,g=!1;return p({type:s.INIT}),h={dispatch:p,subscribe:l,getState:c,replaceReducer:f},h[a.a]=d,h}n.d(t,"a",function(){return s}),t.b=r;var i=n(257),o=n(164),a=n.n(o),s={INIT:"@@redux/INIT"}},function(e,t,n){"use strict"},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(26),o=n(196),a=function(e){function t(t){e.call(this),this._value=t}return r(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.ObjectUnsubscribedError;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(i.Subject);t.BehaviorSubject=a},function(e,t,n){"use strict";t.empty={closed:!0,next:function(e){},error:function(e){throw e},complete:function(){}}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(27),o=function(e){function t(t,n){e.call(this),this.subject=t,this.subscriber=n,this.closed=!1}return r(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(i.Subscription);t.SubjectSubscription=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(26),o=n(1),a=n(12),s=n(27),u=function(e){function t(t,n){e.call(this),this.source=t,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}return r(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,e=this._connection=new s.Subscription,e.add(this.source.subscribe(new l(this.getSubject(),this))),e.closed?(this._connection=null,e=s.Subscription.EMPTY):this._connection=e),e},t.prototype.refCount=function(){return this.lift(new p(this))},t}(o.Observable);t.ConnectableObservable=u;var c=u.prototype;t.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:c._subscribe},_isComplete:{value:c._isComplete,writable:!0},getSubject:{value:c.getSubject},connect:{value:c.connect},refCount:{value:c.refCount}};var l=function(e){function t(t,n){e.call(this,t),this.connectable=n}return r(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(i.SubjectSubscriber),p=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new f(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i},e}(),f=function(e){function t(t,n){e.call(this,t),this.connectable=n}return r(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(!e)return void(this.connection=null);this.connectable=null;var t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()},t}(a.Subscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(65),o=n(487),a=n(489),s=n(463),u=n(1200),c=n(64),l=n(1189),p=n(147),f=n(1),d=n(285),h=n(193),m=function(e){function t(t,n){e.call(this,null),this.ish=t,this.scheduler=n}return r(t,e),t.create=function(e,n){if(null!=e){if("function"==typeof e[h.observable])return e instanceof f.Observable&&!n?e:new t(e,n);if(i.isArray(e))return new c.ArrayObservable(e,n);if(a.isPromise(e))return new s.PromiseObservable(e,n);if("function"==typeof e[p.iterator]||"string"==typeof e)return new u.IteratorObservable(e,n);if(o.isArrayLike(e))return new l.ArrayLikeObservable(e,n)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")},t.prototype._subscribe=function(e){var t=this.ish,n=this.scheduler;return null==n?t[h.observable]().subscribe(e):t[h.observable]().subscribe(new d.ObserveOnSubscriber(e,n,0))},t}(f.Observable);t.FromObservable=m},function(e,t,n){"use strict";function r(e){var t=e.value,n=e.subscriber;n.closed||(n.next(t),n.complete())}function i(e){var t=e.err,n=e.subscriber;n.closed||n.error(t)}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=n(31),s=n(1),u=function(e){function t(t,n){e.call(this),this.promise=t,this.scheduler=n}return o(t,e),t.create=function(e,n){return new t(e,n)},t.prototype._subscribe=function(e){var t=this,n=this.promise,o=this.scheduler;if(null==o)this._isScalar?e.closed||(e.next(this.value),e.complete()):n.then(function(n){t.value=n,t._isScalar=!0,e.closed||(e.next(n),e.complete())},function(t){e.closed||e.error(t)}).then(null,function(e){a.root.setTimeout(function(){throw e})});else if(this._isScalar){if(!e.closed)return o.schedule(r,0,{value:this.value,subscriber:e})}else n.then(function(n){t.value=n,t._isScalar=!0,e.closed||e.add(o.schedule(r,0,{value:n,subscriber:e}))},function(t){e.closed||e.add(o.schedule(i,0,{err:t,subscriber:e}))}).then(null,function(e){a.root.setTimeout(function(){throw e})})},t}(s.Observable);t.PromiseObservable=u},function(e,t,n){"use strict";function r(){if(f.root.XMLHttpRequest)return new f.root.XMLHttpRequest;if(f.root.XDomainRequest)return new f.root.XDomainRequest;throw new Error("CORS is not supported by your browser")}function i(){if(f.root.XMLHttpRequest)return new f.root.XMLHttpRequest;var e=void 0;try{for(var t=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],n=0;n<3;n++)try{if(e=t[n],new f.root.ActiveXObject(e))break}catch(e){}return new f.root.ActiveXObject(e)}catch(e){throw new Error("XMLHttpRequest is not supported by your browser")}}function o(e,t){return void 0===t&&(t=null),new v({method:"GET",url:e,headers:t})}function a(e,t,n){return new v({method:"POST",url:e,body:t,headers:n})}function s(e,t){return new v({method:"DELETE",url:e,headers:t})}function u(e,t,n){return new v({method:"PUT",url:e,body:t,headers:n})}function c(e,t,n){return new v({method:"PATCH",url:e,body:t,headers:n})}function l(e,t){return new v({method:"GET",url:e,responseType:"json",headers:t}).lift(new b.MapOperator(function(e,t){return e.response},null))}var p=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},f=n(31),d=n(32),h=n(29),m=n(1),y=n(12),b=n(191);t.ajaxGet=o,t.ajaxPost=a,t.ajaxDelete=s,t.ajaxPut=u,t.ajaxPatch=c,t.ajaxGetJSON=l;var v=function(e){function t(t){e.call(this);var n={async:!0,createXHR:function(){return this.crossDomain?r.call(this):i()},crossDomain:!1,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof t)n.url=t;else for(var o in t)t.hasOwnProperty(o)&&(n[o]=t[o]);this.request=n}return p(t,e),t.prototype._subscribe=function(e){return new g(e,this.request)},t.create=function(){var e=function(e){return new t(e)};return e.get=o,e.post=a,e.delete=s,e.put=u,e.patch=c,e.getJSON=l,e}(),t}(m.Observable);t.AjaxObservable=v;var g=function(e){function t(t,n){e.call(this,t),this.request=n,this.done=!1;var r=n.headers=n.headers||{};n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),"Content-Type"in r||f.root.FormData&&n.body instanceof f.root.FormData||void 0===n.body||(r["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),n.body=this.serializeBody(n.body,n.headers["Content-Type"]),this.send()}return p(t,e),t.prototype.next=function(e){this.done=!0;var t=this,n=t.xhr,r=t.request,i=t.destination,o=new w(e,n,r);i.next(o)},t.prototype.send=function(){var e=this,t=e.request,n=e.request,r=n.user,i=n.method,o=n.url,a=n.async,s=n.password,u=n.headers,c=n.body,l=t.createXHR,p=d.tryCatch(l).call(t);if(p===h.errorObject)this.error(h.errorObject.e);else{this.xhr=p,this.setupEvents(p,t);if((r?d.tryCatch(p.open).call(p,i,o,a,r,s):d.tryCatch(p.open).call(p,i,o,a))===h.errorObject)return this.error(h.errorObject.e),null;if(p.timeout=t.timeout,p.responseType=t.responseType,"withCredentials"in p&&(p.withCredentials=!!t.withCredentials),this.setHeaders(p,u),(c?d.tryCatch(p.send).call(p,c):d.tryCatch(p.send).call(p))===h.errorObject)return this.error(h.errorObject.e),null}return p},t.prototype.serializeBody=function(e,t){if(!e||"string"==typeof e)return e;if(f.root.FormData&&e instanceof f.root.FormData)return e;if(t){var n=t.indexOf(";");-1!==n&&(t=t.substring(0,n))}switch(t){case"application/x-www-form-urlencoded":return Object.keys(e).map(function(t){return encodeURI(t)+"="+encodeURI(e[t])}).join("&");case"application/json":return JSON.stringify(e);default:return e}},t.prototype.setHeaders=function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setRequestHeader(n,t[n])},t.prototype.setupEvents=function(e,t){function n(e){var t=n,r=t.subscriber,i=t.progressSubscriber,o=t.request;i&&i.error(e),r.error(new S(this,o))}function r(e){var t=r,n=t.subscriber,i=t.progressSubscriber,o=t.request;if(4===this.readyState){var a=1223===this.status?204:this.status,s="text"===this.responseType?this.response||this.responseText:this.response;0===a&&(a=s?200:0),200<=a&&a<300?(i&&i.complete(),n.next(e),n.complete()):(i&&i.error(e),n.error(new O("ajax error "+a,this,o)))}}var i=t.progressSubscriber;if(e.ontimeout=n,n.request=t,n.subscriber=this,n.progressSubscriber=i,e.upload&&"withCredentials"in e){if(i){var o;o=function(e){o.progressSubscriber.next(e)},f.root.XDomainRequest?e.onprogress=o:e.upload.onprogress=o,o.progressSubscriber=i}var a;a=function(e){var t=a,n=t.progressSubscriber,r=t.subscriber,i=t.request;n&&n.error(e),r.error(new O("ajax error",this,i))},e.onerror=a,a.request=t,a.subscriber=this,a.progressSubscriber=i}e.onreadystatechange=r,r.subscriber=this,r.progressSubscriber=i,r.request=t},t.prototype.unsubscribe=function(){var t=this,n=t.done,r=t.xhr;!n&&r&&4!==r.readyState&&"function"==typeof r.abort&&r.abort(),e.prototype.unsubscribe.call(this)},t}(y.Subscriber);t.AjaxSubscriber=g;var w=function(){function e(e,t,n){switch(this.originalEvent=e,this.xhr=t,this.request=n,this.status=t.status,this.responseType=t.responseType||n.responseType,this.responseType){case"json":this.response="response"in t?t.responseType?t.response:JSON.parse(t.response||t.responseText||"null"):JSON.parse(t.responseText||"null");break;case"xml":this.response=t.responseXML;break;case"text":default:this.response="response"in t?t.response:t.responseText}}return e}();t.AjaxResponse=w;var O=function(e){function t(t,n,r){e.call(this,t),this.message=t,this.xhr=n,this.request=r,this.status=n.status}return p(t,e),t}(Error);t.AjaxError=O;var S=function(e){function t(t,n){e.call(this,"ajax timeout",t,n)}return p(t,e),t}(O);t.AjaxTimeoutError=S},function(e,t,n){"use strict";var r=n(462);t.from=r.FromObservable.create},function(e,t,n){"use strict";var r=n(470);t.merge=r.mergeStatic},function(e,t,n){"use strict";var r=n(64);t.of=r.ArrayObservable.of},function(e,t,n){"use strict";function r(e,t){return this.lift(new u(e,t))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12),a=n(32),s=n(29);t.distinctUntilChanged=r;var u=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.compare,this.keySelector))},e}(),c=function(e){function t(t,n,r){e.call(this,t),this.keySelector=r,this.hasKey=!1,"function"==typeof n&&(this.compare=n)}return i(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t=this.keySelector,n=e;if(t&&(n=a.tryCatch(this.keySelector)(e))===s.errorObject)return this.destination.error(s.errorObject.e);var r=!1;if(this.hasKey){if((r=a.tryCatch(this.compare)(this.key,n))===s.errorObject)return this.destination.error(s.errorObject.e)}else this.hasKey=!0;!1===Boolean(r)&&(this.key=n,this.destination.next(e))},t}(o.Subscriber)},function(e,t,n){"use strict";function r(e,t){if("function"!=typeof e)throw new TypeError("predicate is not a function");return this.lift(new a(e,this,!1,t))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12);t.find=r;var a=function(){function e(e,t,n,r){this.predicate=e,this.source=t,this.yieldIndex=n,this.thisArg=r}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}();t.FindValueOperator=a;var s=function(e){function t(t,n,r,i,o){e.call(this,t),this.predicate=n,this.source=r,this.yieldIndex=i,this.thisArg=o,this.index=0}return i(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){var t=this,n=t.predicate,r=t.thisArg,i=this.index++;try{n.call(r||this,e,i,this.source)&&this.notifyComplete(this.yieldIndex?i:e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(o.Subscriber);t.FindValueSubscriber=s},function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return this.lift.call(i.apply(void 0,[this].concat(e)))}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=Number.POSITIVE_INFINITY,r=null,i=e[e.length-1];return u.isScheduler(i)?(r=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof i&&(n=e.pop()),null===r&&1===e.length&&e[0]instanceof o.Observable?e[0]:new a.ArrayObservable(e,r).lift(new s.MergeAllOperator(n))}var o=n(1),a=n(64),s=n(192),u=n(66);t.merge=r,t.mergeStatic=i},function(e,t,n){"use strict";function r(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"number"==typeof t&&(n=t,t=null),this.lift(new s(e,t,n))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(18),a=n(17);t.mergeMap=r;var s=function(){function e(e,t,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=e,this.resultSelector=t,this.concurrent=n}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.project,this.resultSelector,this.concurrent))},e}();t.MergeMapOperator=s;var u=function(e){function t(t,n,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY),e.call(this,t),this.project=n,this.resultSelector=r,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return i(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){this.add(o.subscribeToResult(this,e,t,n))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,i){this.resultSelector?this._notifyResultSelector(e,t,n,r):this.destination.next(t)},t.prototype._notifyResultSelector=function(e,t,n,r){var i;try{i=this.resultSelector(e,t,n,r)}catch(e){return void this.destination.error(e)}this.destination.next(i)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(a.OuterSubscriber);t.MergeMapSubscriber=u},function(e,t,n){"use strict";function r(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"number"==typeof t&&(n=t,t=null),this.lift(new s(e,t,n))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(17),a=n(18);t.mergeMapTo=r;var s=function(){function e(e,t,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.ish=e,this.resultSelector=t,this.concurrent=n}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.ish,this.resultSelector,this.concurrent))},e}();t.MergeMapToOperator=s;var u=function(e){function t(t,n,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY),e.call(this,t),this.ish=n,this.resultSelector=r,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return i(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.resultSelector,n=this.index++,r=this.ish,i=this.destination;this.active++,this._innerSub(r,i,t,e,n)}else this.buffer.push(e)},t.prototype._innerSub=function(e,t,n,r,i){this.add(a.subscribeToResult(this,e,r,i))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,i){var o=this,a=o.resultSelector,s=o.destination;a?this.trySelectResult(e,t,n,r):s.next(t)},t.prototype.trySelectResult=function(e,t,n,r){var i,o=this,a=o.resultSelector,s=o.destination;try{i=a(e,t,n,r)}catch(e){return void s.error(e)}s.next(i)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(o.OuterSubscriber);t.MergeMapToSubscriber=u},function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 1===e.length&&s.isArray(e[0])&&(e=e[0]),this.lift(new l(e))}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=null;return 1===e.length&&s.isArray(e[0])&&(e=e[0]),n=e.shift(),new a.FromObservable(n,null).lift(new l(e))}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=n(462),s=n(65),u=n(17),c=n(18);t.onErrorResumeNext=r,t.onErrorResumeNextStatic=i;var l=function(){function e(e){this.nextSources=e}return e.prototype.call=function(e,t){return t.subscribe(new p(e,this.nextSources))},e}(),p=function(e){function t(t,n){e.call(this,t),this.destination=t,this.nextSources=n}return o(t,e),t.prototype.notifyError=function(e,t){this.subscribeToNextSource()},t.prototype.notifyComplete=function(e){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource()},t.prototype._complete=function(){this.subscribeToNextSource()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();e?this.add(c.subscribeToResult(this,e)):this.destination.complete()},t}(u.OuterSubscriber)},function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 1===e.length&&a.isArray(e[0])&&(e=e[0]),this.lift.call(i.apply(void 0,[this].concat(e)))}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(1===e.length){if(!a.isArray(e[0]))return e[0];e=e[0]}return new s.ArrayObservable(e).lift(new l)}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=n(65),s=n(64),u=n(17),c=n(18);t.race=r,t.raceStatic=i;var l=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new p(e))},e}();t.RaceOperator=l;var p=function(e){function t(t){e.call(this,t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}return o(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=e[n],i=c.subscribeToResult(this,r,r,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},t.prototype.notifyNext=function(e,t,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var a=this.subscriptions[o];a.unsubscribe(),this.remove(a)}this.subscriptions=null}this.destination.next(t)},t}(u.OuterSubscriber);t.RaceSubscriber=p},function(e,t,n){"use strict";function r(e,t){return this.lift(new s(e,t))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(17),a=n(18);t.switchMap=r;var s=function(){function e(e,t){this.project=e,this.resultSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.project,this.resultSelector))},e}(),u=function(e){function t(t,n,r){e.call(this,t),this.project=n,this.resultSelector=r,this.index=0}return i(t,e),t.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe(),this.add(this.innerSubscription=a.subscribeToResult(this,e,t,n))},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,r,i){this.resultSelector?this._tryNotifyNext(e,t,n,r):this.destination.next(t)},t.prototype._tryNotifyNext=function(e,t,n,r){var i;try{i=this.resultSelector(e,t,n,r)}catch(e){return void this.destination.error(e)}this.destination.next(i)},t}(o.OuterSubscriber)},function(e,t,n){"use strict";function r(e,n){return void 0===n&&(n=t.defaultThrottleConfig),this.lift(new s(e,n.leading,n.trailing))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(17),a=n(18);t.defaultThrottleConfig={leading:!0,trailing:!1},t.throttle=r;var s=function(){function e(e,t,n){this.durationSelector=e,this.leading=t,this.trailing=n}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.durationSelector,this.leading,this.trailing))},e}(),u=function(e){function t(t,n,r,i){e.call(this,t),this.destination=t,this.durationSelector=n,this._leading=r,this._trailing=i,this._hasTrailingValue=!1}return i(t,e),t.prototype._next=function(e){if(this.throttled)this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=e);else{var t=this.tryDurationSelector(e);t&&this.add(this.throttled=a.subscribeToResult(this,t)),this._leading&&(this.destination.next(e),this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=e))}},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(e){return this.destination.error(e),null}},t.prototype._unsubscribe=function(){var e=this,t=e.throttled;e._trailingValue,e._hasTrailingValue,e._trailing;this._trailingValue=null,this._hasTrailingValue=!1,t&&(this.remove(t),this.throttled=null,t.unsubscribe())},t.prototype._sendTrailing=function(){var e=this,t=e.destination,n=e.throttled,r=e._trailing,i=e._trailingValue,o=e._hasTrailingValue;n&&r&&o&&(t.next(i),this._trailingValue=null,this._hasTrailingValue=!1)},t.prototype.notifyNext=function(e,t,n,r,i){this._sendTrailing(),this._unsubscribe()},t.prototype.notifyComplete=function(){this._sendTrailing(),this._unsubscribe()},t}(o.OuterSubscriber)},function(e,t,n){"use strict";function r(e){return void 0===e&&(e=a.async),this.lift(new u(e))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12),a=n(36);t.timeInterval=r;var s=function(){function e(e,t){this.value=e,this.interval=t}return e}();t.TimeInterval=s;var u=function(){function e(e){this.scheduler=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.scheduler))},e}(),c=function(e){function t(t,n){e.call(this,t),this.scheduler=n,this.lastTime=0,this.lastTime=n.now()}return i(t,e),t.prototype._next=function(e){var t=this.scheduler.now(),n=t-this.lastTime;this.lastTime=t,this.destination.next(new s(e,n))},t}(o.Subscriber)},function(e,t,n){"use strict";function r(e){return void 0===e&&(e=a.async),this.lift(new u(e))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12),a=n(36);t.timestamp=r;var s=function(){function e(e,t){this.value=e,this.timestamp=t}return e}();t.Timestamp=s;var u=function(){function e(e){this.scheduler=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.scheduler))},e}(),c=function(e){function t(t,n){e.call(this,t),this.scheduler=n}return i(t,e),t.prototype._next=function(e){var t=this.scheduler.now();this.destination.next(new s(e,t))},t}(o.Subscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(145),o=n(146),a=function(e){function t(t,n){var r=this;void 0===t&&(t=s),void 0===n&&(n=Number.POSITIVE_INFINITY),e.call(this,t,function(){return r.frame}),this.maxFrames=n,this.frame=0,this.index=-1}return r(t,e),t.prototype.flush=function(){for(var e,t,n=this,r=n.actions,i=n.maxFrames;(t=r.shift())&&(this.frame=t.delay)<=i&&!(e=t.execute(t.state,t.delay)););if(e){for(;t=r.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(o.AsyncScheduler);t.VirtualTimeScheduler=a;var s=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1),e.call(this,t,n),this.scheduler=t,this.work=n,this.index=r,this.active=!0,this.index=t.index=r}return r(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},t.prototype.requestAsyncId=function(e,n,r){void 0===r&&(r=0),this.delay=e.frame+r;var i=e.actions;return i.push(this),i.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,n){void 0===n&&(n=0)},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(i.AsyncAction);t.VirtualAction=s},function(e,t,n){"use strict";var r=n(1314),i=n(1315);t.asap=new i.AsapScheduler(r.AsapAction)},function(e,t,n){"use strict";var r=n(1316),i=n(1317);t.queue=new i.QueueScheduler(r.QueueAction)},function(e,t,n){"use strict";var r=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.subscribedFrame=e,this.unsubscribedFrame=t}return e}();t.SubscriptionLog=r},function(e,t,n){"use strict";var r=n(482),i=function(){function e(){this.subscriptions=[]}return e.prototype.logSubscribedFrame=function(){return this.subscriptions.push(new r.SubscriptionLog(this.scheduler.now())),this.subscriptions.length-1},e.prototype.logUnsubscribedFrame=function(e){var t=this.subscriptions,n=t[e];t[e]=new r.SubscriptionLog(n.subscribedFrame,this.scheduler.now())},e}();t.SubscriptionLoggable=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(){var t=e.call(this,"Timeout has occurred");this.name=t.name="TimeoutError",this.stack=t.stack,this.message=t.message}return r(t,e),t}(Error);t.TimeoutError=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(t){e.call(this),this.errors=t;var n=Error.call(this,t?t.length+" errors occurred during unsubscription:\n  "+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return r(t,e),t}(Error);t.UnsubscriptionError=i},function(e,t,n){"use strict";function r(e,t){for(var n=0,r=t.length;n<r;n++)for(var i=t[n],o=Object.getOwnPropertyNames(i.prototype),a=0,s=o.length;a<s;a++){var u=o[a];e.prototype[u]=i.prototype[u]}}t.applyMixins=r},function(e,t,n){"use strict";t.isArrayLike=function(e){return e&&"number"==typeof e.length}},function(e,t,n){"use strict";function r(e){return null!=e&&"object"==typeof e}t.isObject=r},function(e,t,n){"use strict";function r(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}t.isPromise=r},function(e,t,n){"use strict";function r(){}t.noop=r},function(e,t,n){function r(e,t){this._id=e,this._clearFn=t}var i=Function.prototype.apply;t.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(1331),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return b.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function u(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function c(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function p(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(b.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(b.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(b.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(b.arrayBuffer&&b.blob&&g(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!b.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!w(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):b.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},b.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},b.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(e){var t=e.toUpperCase();return O.indexOf(t)>-1?t:e}function d(e,t){t=t||{};var n=t.body;if(e instanceof d){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=f(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function m(e){var t=new i;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}function y(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var b={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(b.arrayBuffer)var v=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],g=function(e){return e&&DataView.prototype.isPrototypeOf(e)},w=ArrayBuffer.isView||function(e){return e&&v.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];this.map[e]=i?i+","+r:r},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=n(r)},i.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},b.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var O=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},p.call(d.prototype),p.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];y.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=d,e.Response=y,e.fetch=function(e,t){return new Promise(function(n,r){var i=new d(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:m(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new y(t,e))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&b.blob&&(o.responseType="blob"),i.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send(void 0===i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t,n){"use strict";var r=n(40),i=(n.n(r),n(62)),o=(n.n(i),n(437)),a=n.n(o),s=n(436),u=n.n(s),c={spacing:a.a,fontFamily:"Roboto, sans-serif",palette:{primary1Color:r.blue500,primary2Color:r.blue700,primary3Color:r.blue100,accent1Color:r.orange500,accent2Color:r.grey100,accent3Color:r.grey500,textColor:r.darkBlack,alternateTextColor:r.white,canvasColor:r.white,borderColor:r.grey400,disabledColor:n.i(i.fade)(r.darkBlack,.3)}},l=u()(c),p=function(e){return{sideBar:{backgroundColor:"#F3F3F3",backgroundColorItem:"transparent",backgroundColorItemActive:e.palette.accent2Color,textColor:e.palette.textColor,textColorActive:"#276696",borderStyle:"1px solid #e1e1e1"},forms:{minWidth:350,maxWidth:900},formFields:{secondaryColor:e.palette.accent4Color},tabs:{backgroundColor:"#E4E4E4",inkBarColor:e.palette.accent1Color,textColor:"#666666"}}}(l);t.a=Object.assign({},l,p)},function(e,t,n){"use strict";function r(e){var t=e.params;n.i(E.a)({sideBar:{currentSection:t.groupName,currentSubSection:t.modelType}})}function i(e){var t=e.params;n.i(E.a)({sideBar:{currentSection:t.groupName,currentSubSection:"organisationUnit"}},!0)}function o(e){var t=e.params;n.i(E.a)({sideBar:{currentSection:t.groupName,currentSubSection:"organisationUnitLevel"}})}function a(){n.i(E.a)({sideBar:{currentSection:"organisationUnitSection",currentSubSection:"hierarchy"}})}function s(e,t,i){var o=e.params;r({params:o}),"add"===o.modelId?n.i(w.getInstance)().then(function(e){var t=e.models[o.modelType].create();if("organisationUnit"===o.modelType)return E.b.take(1).subscribe(function(e){e.selectedOrganisationUnit&&e.selectedOrganisationUnit.id&&(t.parent={id:e.selectedOrganisationUnit.id}),g.a.setState(t),i()});var n=C.a.getState()&&Object.keys(C.a.getState().filters).filter(function(e){return t.hasOwnProperty(e)}).filter(function(e){return null!==C.a.getState().filters[e]}).filter(function(e){return t.modelDefinition.modelValidations[e].writable}).reduce(function(e,t){return e[t]=C.a.getState().filters[t],e},{});return g.a.setState(Object.assign(t,n)),i()}):O.a.getObjectOfTypeById({objectType:o.modelType,objectId:o.modelId}).subscribe(function(){return i()},function(e){t("/list/"+o.modelType),_.a.show({message:e,action:"ok"}),i()})}function u(e,t,n){var r=e.params;s({params:{modelType:"organisationUnit",groupName:r.groupName,modelId:r.modelId}},t,n)}function c(e,t,n){var r=e.params;s({params:{modelType:"optionSet",groupName:r.groupName,modelId:r.modelId}},t,n)}function l(e,t,n){return function(i,o,a){var s=i.params;r({params:{modelType:e,groupName:s.groupName,modelId:s.modelId}}),j.a.dispatch(t({schema:e,id:s.modelId})),j.a.dispatch(n()),a()}}function p(e,t,n){var i=e.params;return"organisationUnit"===i.modelType?(r({params:i}),n()):(r({params:i}),S.a.loadList(i.modelType).take(1).subscribe(function(e){v.a.debug(e),n()},function(e){if(/^.+s$/.test(i.modelType)){var r=i.modelType.substring(0,i.modelType.length-1);v.a.warn("Could not find requested model type '"+i.modelType+"' attempting to redirect to '"+r+"'"),t("list/"+r),n()}else v.a.error("No clue where",i.modelType,"comes from... Redirecting to app root"),v.a.error(e),t("/"),n()}))}function f(e,t,n){var i=e.params;r({params:i}),O.a.getObjectOfTypeByIdAndClone({objectType:i.modelType,objectId:i.modelId}).subscribe(function(){return n()},function(e){t("/list/"+i.modelType),_.a.show({message:e,action:"ok"}),n()})}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.a.createElement(T.a,null);return function(n){var r=R.a.loadDefault(e,{loadingComponent:function(){return t}});return m.a.createElement(r,n)}}var h=n(0),m=n.n(h),y=n(187),b=n(15),v=n.n(b),g=n(117),w=n(13),O=(n.n(w),n(88)),S=n(503),_=n(67),E=n(56),x=n(180),T=n.n(x),P=n(550),C=n(207),j=n(340),k=n(59),A=n(152),I=n(153),R=n(637),N=m.a.createElement(y.a,{history:y.b},m.a.createElement(y.c,{path:"/",component:P.a},m.a.createElement(y.d,{to:"/list/all"}),m.a.createElement(y.c,{path:"list/all",component:d(function(){return n.e(11).then(n.bind(null,1348))}),onEnter:function(){return r({params:{groupName:"all"}})}}),m.a.createElement(y.c,{path:"list/:groupName"},m.a.createElement(y.e,{component:d(function(){return n.e(10).then(n.bind(null,1349))}),onEnter:r}),m.a.createElement(y.c,{path:"organisationUnit",component:d(function(){return n.e(3).then(n.bind(null,1347))}),onEnter:i}),m.a.createElement(y.c,{path:"organisationUnitLevel",component:d(function(){return n.e(7).then(n.bind(null,1351))}),onEnter:o}),m.a.createElement(y.c,{path:":modelType",component:d(function(){return n.e(4).then(n.bind(null,1340))}),onEnter:p})),m.a.createElement(y.c,{path:"edit/:groupName"},m.a.createElement(y.c,{path:"organisationUnit/:modelId",component:d(function(){return n.e(0).then(n.bind(null,315))}),onEnter:u,hideSidebar:!0,disableTabs:!0}),m.a.createElement(y.c,{path:"optionSet/:modelId",component:d(function(){return n.e(2).then(n.bind(null,1343))}),onEnter:c,hideSidebar:!0,disableTabs:!0},m.a.createElement(y.e,null),m.a.createElement(y.c,{path:":activeView"})),m.a.createElement(y.c,{path:"program/:modelId",component:d(function(){return n.e(5).then(n.bind(null,1344))}),onEnter:l("program",A.a,k.a),hideSidebar:!0,disableTabs:!0}),m.a.createElement(y.c,{path:"programIndicator/:modelId",component:d(function(){return n.e(6).then(n.bind(null,1345))}),onEnter:l("programIndicator",I.a,k.a),hideSidebar:!0,disableTabs:!0}),m.a.createElement(y.c,{path:":modelType/:modelId/sections",component:d(function(){return n.e(8).then(n.bind(null,1342))}),onEnter:s,hideSidebar:!0,disableTabs:!0}),m.a.createElement(y.c,{path:":modelType/:modelId/dataEntryForm",component:d(function(){return n.e(12).then(n.bind(null,1341))}),onEnter:s,hideSidebar:!0,disableTabs:!0}),m.a.createElement(y.c,{path:":modelType/:modelId",component:d(function(){return n.e(0).then(n.bind(null,315))}),onEnter:s,hideSidebar:!0,disableTabs:!0})),m.a.createElement(y.c,{path:"clone/:groupName/:modelType/:modelId",component:d(function(){return n.e(0).then(n.bind(null,315))}),onEnter:f,hideSidebar:!0,disableTabs:!0}),m.a.createElement(y.c,{path:"group-editor",component:d(function(){return n.e(9).then(n.bind(null,1346))}),onEnter:r}),m.a.createElement(y.c,{path:"organisationUnitSection/hierarchy",component:d(function(){return n.e(13).then(n.bind(null,1350))}),onEnter:a})));t.a=N},function(e,t,n){"use strict";var r=n(13),i=(n.n(r),n(161));["file_resource","username","tracker_associate","integer_zero_or_positive","integer_negative","integer_positive","integer","letter","phone_number","email","boolean","true_only","datetime","text","long_text","letter","percentage","unit_interval","sum","average","average_sum_org_unit","count","stddev","variance","none","default","custom","average_sum_int","average_sum_int_disaggregation","average_int","average_int_disaggregation","average_bool","displayName","code","displayDescription","created","lastUpdated","id","start_date","end_date","back","cancel","name","code","short_name","done","save","saving","object_will_created_public","object_will_created_private",i.d.message,i.b.message,i.a.message,i.c.message,"value_not_max","value_not_min","value_not_max","value_not_min","could_not_run_async_validation","value_not_unique","search_available_selected_items","determining_your_root_orgunits","filter_organisation_units_by_name","organisation_units_selected","edit","clone","delete","details","translate","sharing","sectionForm","dataEntryForm","pdfDataSetForm","search_by_name","success","dismiss"].forEach(function(e){return r.config.i18n.strings.add(e)})},,function(e,t,n){"use strict";t.__esModule=!0;var r=n(14),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o={fromESObservable:i.default.Observable.from,toESObservable:function(e){return e}};t.default=o},function(e,t,n){var r=n(691);"string"==typeof r&&(r=[[e.i,r,""]]);n(321)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";var r=n(249);n.d(t,"f",function(){return r.h}),n.d(t,"e",function(){return r.g}),n.d(t,"d",function(){return r.f});var i=n(783);n.d(t,"c",function(){return i.b}),n.d(t,"a",function(){return i.a});var o=n(782);n.d(t,"b",function(){return o.a})},function(e,t,n){function r(e,t){return a(o(e,t,i),e+"")}var i=n(162),o=n(884),a=n(887);e.exports=r},function(e,t,n){"use strict";var r=n(23);t.a=r.a.create()},function(e,t,n){"use strict";function r(e){var t=e.style,n=void 0===t?{}:t,r=e.large,i=void 0!==r&&r,u=e.small,c=void 0!==u&&u;return o.a.createElement("div",{style:Object.assign({},s,n)},o.a.createElement(a.a,{large:i,small:c}))}t.a=r;var i=n(0),o=n.n(i),a=n(83),s={left:"45%",position:"fixed",top:"45%"};r.propTypes={style:i.PropTypes.object,large:i.PropTypes.bool,small:i.PropTypes.bool}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function o(e,t){var r=e[t];if(c.a.state){var i=Object.keys(c.a.state.filters||{}).filter(function(e){return c.a.state.filters[e]}).filter(function(e){return n.i(b.c)(r.name).includes(e)}).map(function(t){return[e.hasOwnProperty(t)?t+".id":t,c.a.state.filters[t]]}).concat(n.i(b.d)(t)).reduce(function(e,t){var n=w(t,2),r=n[0],i=n[1],o=i.id||i;return e.filter().on(r).equals(o)},r);return c.a.state.searchString.trim().length>0?i.filter().on("displayName").ilike(c.a.state.searchString):i}return r}function a(e,t){return new Set(["categoryOptionCombo"]).has(t)?o(e,t):o(e,t).filter().on("name").notEqual("default")}function s(e){return{fields:O+","+n.i(b.e)(e,!0),order:"displayName:ASC"}}n.d(t,"b",function(){return O});var u=n(37),c=n(207),l=n(299),p=n(13),f=(n.n(p),n(14)),d=(n.n(f),n(56)),h=n(11),m=(n.n(h),n(15)),y=n.n(m),b=n(154),v=this,g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),O="displayName,shortName,id,lastUpdated,created,displayDescription,code,publicAccess,access,href,level",S=u.a.createActionsFromNames(["loadList","setListSource","searchByName","setFilterValue","getNextPage","getPreviousPage","hideDetailsBox"]);S.setListSource.subscribe(function(e){c.a.listSourceSubject.next(f.Observable.of(e.data))}),S.loadList.filter(function(e){return"organisationUnit"!==e.data}).combineLatest(f.Observable.fromPromise(n.i(p.getInstance)()),function(e,t){return g({},e,{d2:t})}).flatMap(function(e){var t=e.data,r=e.complete,i=e.error,o=e.d2;if(n.i(h.isUndefined)(o.models[t]))throw i(t+" is not a valid schema name"),new Error(t+" is not a valid schema name");return c.a.setState(Object.assign(c.a.state||{},{searchString:""})),f.Observable.of({schema:a(o.models,t),query:s(t),complete:r,error:i,d2:o})}).subscribe(function(){var e=i(regeneratorRuntime.mark(function e(t){var n,r=t.schema,i=t.query,a=t.complete,u=(t.error,t.d2);return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(u.models,r.name).list(Object.assign(i,s(r.name)));case 2:n=e.sent,S.setListSource(n),a(r.name+" list loading");case 5:case"end":return e.stop()}},e,v)}));return function(t){return e.apply(this,arguments)}}(),y.a.error.bind(y.a)),S.searchByName.filter(function(e){return"organisationUnit"===e.data.modelType}).subscribe(function(){var e=i(regeneratorRuntime.mark(function e(t){var r,i,o,a=t.data,u=t.complete;t.error;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.i(p.getInstance)();case 2:return r=e.sent,i=r.models.organisationUnits,d.b.state&&d.b.state.selectedOrganisationUnit&&(i=i.filter().on("parent.id").equals(d.b.state.selectedOrganisationUnit.id)),e.next=7,i.list(Object.assign(s(a.modelType),{query:a.searchString,withinUserHierarchy:!0}));case 7:o=e.sent,S.setListSource(o),u();case 10:case"end":return e.stop()}},e,v)}));return function(t){return e.apply(this,arguments)}}(),y.a.error.bind(y.a));var _=new Set(["organisationUnit"]);S.searchByName.filter(function(e){var t=e.data;return!_.has(t.modelType)}).subscribe(function(){var e=i(regeneratorRuntime.mark(function e(t){var r,i,o=t.data,u=t.complete,l=t.error;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.i(p.getInstance)();case 2:return r=e.sent,r.models[o.modelType]||l(o.modelType+" is not a valid schema name"),o.searchString?c.a.setState(Object.assign(c.a.state,{searchString:o.searchString})):c.a.setState(Object.assign(c.a.state,{searchString:""})),e.next=7,a(r.models,o.modelType).list(s(o.modelType));case 7:i=e.sent,S.setListSource(i),u(o.modelType+" list with search on 'displayName' for '"+o.searchString+"' is loading");case 10:case"end":return e.stop()}},e,v)}));return function(t){return e.apply(this,arguments)}}(),y.a.error.bind(y.a)),S.setFilterValue.subscribe(function(){var e=i(regeneratorRuntime.mark(function e(t){var i,o,u,l,f=t.data,d=t.complete,h=t.error;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.i(p.getInstance)();case 2:return i=e.sent,i.models[f.modelType]||h(f.modelType+" is not a valid schema name"),o=i.models.hasOwnProperty(f.filterField)?f.filterField+".id":f.filterField,u=f.filterValue&&f.filterValue.hasOwnProperty("id")?f.filterValue.id:f.filterValue,o&&u?c.a.setState(Object.assign(c.a.state,{filters:Object.assign(c.a.state.filters,r({},f.filterField,f.filterValue))})):c.a.setState(Object.assign(c.a.state,{filters:Object.assign(c.a.state.filters,r({},f.filterField,null))})),e.next=9,a(i.models,f.modelType).list(s(f.modelType));case 9:l=e.sent,S.setListSource(l),d(f.modelType+" list with filter on '"+o+"' for '"+u+"' is loading");case 12:case"end":return e.stop()}},e,v)}));return function(t){return e.apply(this,arguments)}}(),y.a.error.bind(y.a)),S.getNextPage.subscribe(function(){c.a.getNextPage()}),S.getPreviousPage.subscribe(function(){c.a.getPreviousPage()}),S.hideDetailsBox.subscribe(function(){l.a.setState(null)}),t.a=S},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(155),a=n.n(o),s=n(100),u=n(13),c=(n.n(u),function(){});u.config.i18n.strings.add("of_page");var l=i.a.createClass({displayName:"Pagination",propTypes:{hasPreviousPage:i.a.PropTypes.func,hasNextPage:i.a.PropTypes.func,onPreviousPageClick:i.a.PropTypes.func,onNextPageClick:i.a.PropTypes.func,total:i.a.PropTypes.number,currentlyShown:i.a.PropTypes.oneOfType([i.a.PropTypes.string,i.a.PropTypes.number])},mixins:[s.a],getDefaultProps:function(){return{hasPreviousPage:c,hasNextPage:c,onPreviousPageClick:c,onNextPageClick:c,total:0,currentlyShown:0}},render:function(){var e=this.props,t=e.hasPreviousPage,n=e.hasNextPage,r=e.onPreviousPageClick,o=e.onNextPageClick,s=e.currentlyShown,u=e.total,l=["material-icons","waves-effect"],p=a()(l,{"data-table-pager--previous-page__disabled":!t()}),f=a()(l,{"data-table-pager--next-page__disabled":!n()});return i.a.createElement("div",{className:"data-table-pager"},i.a.createElement("ul",{className:"data-table-pager--buttons"},u?i.a.createElement("li",{className:"data-table-pager--page-info"},i.a.createElement("span",null,s," ",""+this.getTranslation("of_page")," ",u)):"",i.a.createElement("li",{className:"data-table-pager--previous-page"},i.a.createElement("i",{className:p,onClick:t()?r:c},"navigate_before")),i.a.createElement("li",{className:"data-table-pager--next-page"},i.a.createElement("i",{className:f,onClick:n()?o:c},"navigate_next"))))}});t.a=l},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}var i=n(259),o=n(885),a=n(886);r.prototype.add=r.prototype.push=o,r.prototype.has=a,e.exports=r},function(e,t){function n(e,t){return e.has(t)}e.exports=n},function(e,t){function n(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}var r=Object.prototype;e.exports=n},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}e.exports=n},function(e,t,n){"use strict";var r=n(23);t.a=r.a.create()},function(e,t,n){"use strict";n.d(t,"b",function(){return m});var r=n(0),i=(n.n(r),n(552)),o=n(567),a=n(551),s=n(204),u=n(11),c=(n.n(u),n(50)),l=n(70),p=n(152),f=n(38),d=n(323),h=n(554),m="details",y=l.a.map(n.i(u.get)("program")),b=function(e){return n.i(f.a)({editFieldChanged:p.e},e)},v=n.i(u.compose)(d.a,n.i(c.a)(null,b)),g=v(n.i(d.b)(n.i(s.c)(y,"program"))),w=[{key:m,name:"add_program_details",component:g},{key:"data_elements",name:"assign_data_elements",component:a.a},{key:"data_entry_forms",name:"create_data_entry_form",component:h.a},{key:"assign_organisation_units",name:"assign_organisation_units",component:i.a},{key:"notifications",name:"create_notifications",component:o.a}];t.a=w},function(e,t,n){"use strict";var r=n(23);t.a=r.a.create()},function(e,t,n){"use strict";n.d(t,"b",function(){return m});var r=n(0),i=(n.n(r),n(316)),o=n(153),a=n(38),s=n(50),u=n(204),c=n(11),l=(n.n(c),n(295)),p=n(323),f=n.i(c.difference)(l.a.for("programIndicator"),["expression","filter"]),d=function(e){return n.i(a.a)({editFieldChanged:o.e},e)},h=i.a.map(n.i(c.get)("programIndicator")),m="program_indicator__details",y=n.i(c.compose)(p.a,n.i(s.a)(null,d)),b=y(n.i(p.b)(n.i(u.c)(h,"programIndicator",f))),v=y(n.i(u.c)(h,"programIndicator",["expression"],!1)),g=y(n.i(u.c)(h,"programIndicator",["filter"],!1)),w=[{key:m,name:m,component:b},{key:"program_indicator__edit_expression",name:"program_indicator__edit_expression",component:v},{key:"program_indicator__edit_filter",name:"program_indicator__edit_filter",component:g}];t.a=w},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n(11),i=(n.n(r),n.i(r.get)("programIndicator.step.activeStep")),o=n.i(r.compose)(n.i(r.get)("programIndicator"),function(e){return e.getState()})},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}n.d(t,"b",function(){return _});var i=n(14),o=(n.n(i),n(15)),a=n.n(o),s=n(13),u=(n.n(s),n(37)),c=n(82),l=n.n(c),p=n(299),f=n(67),d=n(207),h=n(516),m=n(517),y=n(515),b=n(56),v=n(501),g=n(101),w=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),O=this,S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_=new i.Subject,E=u.a.createActionsFromNames(["edit","clone","share","delete","details","translate","compulsoryDataElements","sectionForm","dataEntryForm","pdfDataSetForm","preview","runNow"]);E.edit.subscribe(function(e){n.i(g.c)(["/edit",b.b.state.sideBar.currentSection,e.data.modelDefinition.name,e.data.id].join("/"))}),E.clone.subscribe(function(e){n.i(g.c)(["/clone",b.b.state.sideBar.currentSection,e.data.modelDefinition.name,e.data.id].join("/"))}),E.delete.subscribe(function(e){var t=e.data;return n.i(s.getInstance)().then(function(e){f.a.show({message:[e.i18n.getTranslation("confirm_delete_"+l()(t.modelDefinition.name)),t.name].join(" "),action:"confirm",onActionTouchTap:function(){t.delete().then(function(){d.a.getState()&&d.a.getState().list&&d.a.setState(S({},d.a.getState(),{pager:d.a.getState().pager,list:d.a.getState().list.filter(function(e){return e.id!==t.id})})),f.a.show({message:t.displayName+" "+e.i18n.getTranslation("was_deleted")}),_.next({model:t,modelType:t.modelDefinition.name})}).catch(function(n){a.a.warn(n),f.a.show({message:n.message?n.message:t.name+" "+e.i18n.getTranslation("was_not_deleted"),action:"ok"})})}})})}),E.details.subscribe(function(e){var t=e.data;p.a.setState(t)}),E.share.subscribe(function(){var e=r(regeneratorRuntime.mark(function e(t){var r,i,o=t.data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.i(s.getInstance)();case 2:return r=e.sent,e.next=5,r.models[o.modelDefinition.name].get(o.id);case 5:i=e.sent,h.a.setState({model:i,open:!0});case 7:case"end":return e.stop()}},e,O)}));return function(t){return e.apply(this,arguments)}}()),E.translate.subscribe(function(){var e=r(regeneratorRuntime.mark(function e(t){var r,i,o=t.data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.i(s.getInstance)();case 2:return r=e.sent,e.next=5,r.models[o.modelDefinition.name].get(o.id);case 5:i=e.sent,m.a.setState({model:i,open:!0});case 7:case"end":return e.stop()}},e,O)}));return function(t){return e.apply(this,arguments)}}()),E.compulsoryDataElements.subscribe(function(){var e=r(regeneratorRuntime.mark(function e(t){var r,i,o,a,u,c,l,p,f,d,h=t.data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.i(s.getInstance)();case 2:return r=e.sent,i=r.Api.getApi(),o=function(){return r.models[h.modelDefinition.name].get(h.id,{fields:[":all","id,dataSetElements[id,dataElement[id]]","compulsoryDataElementOperands[id,dataElement[id],categoryOptionCombo[id]]"].join(",")})},a=function(){return i.get("dataElementOperands",{fields:"dataElement[id],categoryOptionCombo[id],displayName",totals:!1,paging:!1,dataSet:h.id}).then(function(e){return e.dataElementOperands})},y.a.setState({open:!0,model:void 0,dataElementOperands:[]}),e.next=9,Promise.all([o(),a()]);case 9:u=e.sent,c=w(u,2),l=c[0],p=c[1],f=l.dataSetElements.map(function(e){return e.dataElement.id}),d=p.map(function(e){return Object.assign(e,{dataElementId:e.dataElement.id,optionComboId:e.categoryOptionCombo.id})}).filter(function(e){return f.indexOf(e.dataElementId)>=0}),y.a.setState({open:!0,model:l,dataElementOperands:d});case 16:case"end":return e.stop()}},e,O)}));return function(t){return e.apply(this,arguments)}}()),E.sectionForm.subscribe(function(e){n.i(g.c)(["/edit",b.b.state.sideBar.currentSection,e.data.modelDefinition.name,e.data.id,"sections"].join("/"))}),E.dataEntryForm.subscribe(function(e){n.i(g.c)(["/edit",b.b.state.sideBar.currentSection,e.data.modelDefinition.name,e.data.id,"dataEntryForm"].join("/"))}),E.pdfDataSetForm.subscribe(function(e){var t=e.data,r=e.complete,i=e.error;n.i(s.getInstance)().then(function(e){window.open(e.Api.getApi().baseUrl+"/pdfForm/dataSet/"+t.id)}).then(r).catch(i)}),E.runNow.subscribe(function(){var e=r(regeneratorRuntime.mark(function e(t){var r,i=t.data,o=t.complete,a=t.error;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.i(s.getInstance)();case 2:r=e.sent,"predictor"===i.modelDefinition.name?v.a.setState({model:i,open:!0}):r.Api.getApi().post([i.modelDefinition.plural,i.id,"run"].join("/")).then(function(){f.a.show({message:r.i18n.getTranslation("report_queued_for_delivery")}),o()}).catch(function(e){f.a.show({message:r.i18n.getTranslation("failed_to_schedule_report"),action:"ok"}),a(e)});case 4:case"end":return e.stop()}},e,O)}));return function(t){return e.apply(this,arguments)}}()),E.preview.subscribe(function(e){var t=e.data,r=e.complete,i=e.error;n.i(s.getInstance)().then(function(e){window.open(e.Api.getApi().baseUrl+"/"+[t.modelDefinition.name,t.id,"render"].join("/"))}).then(r).catch(function(e){f.a.show({message:d2.i18n.getTranslation("failed_to_open_report_preview"),action:"ok"}),i(e)})}),t.a=E},function(e,t,n){"use strict";var r=n(23);t.a=r.a.create()},function(e,t,n){"use strict";var r=n(23);t.a=r.a.create()},function(e,t,n){"use strict";var r=n(23);t.a=r.a.create()},function(e,t,n){"use strict";var r={componentWillMount:function(){this.observerDisposables=[]},componentWillUnmount:function(){this.observerDisposables.forEach(function(e){return e.unsubscribe()})},registerDisposable:function(e){this.observerDisposables.push(e)}};t.a=r},function(e,t,n){"use strict";(function(e){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t=e.value,n=void 0===t?"":t,r=(e.columnName,{width:"100%",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",position:"absolute",wordBreak:"break-all",wordWrap:"break-word",top:0,lineHeight:"50px",paddingRight:"1rem"}),i=n.toString();return y.a.createElement("span",{title:i,style:r},i)}function s(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return n.i(g.isNil)(t)?"":void 0!==e.Intl&&Intl.DateTimeFormat?new Intl.DateTimeFormat(r,{year:"numeric",month:"long",day:"numeric"}).format(new Date(t)):t.substr(0,19).replace("T"," ")}function u(e){var t=e.value&&(e.value.displayName||e.value.name);return y.a.createElement(a,O({},e,{value:t}))}function c(e){var t=e.valueType,n=e.value;return"DATE"===t||E.test(n)}function l(e){return/#([a-z0-9]{6})$/i.test(e.value)}function p(e){var t=e.value;return t&&(t.displayName||t.name)}function f(e){var t=(e.columnName,e.value);if(t){if("rw------"===t)return y.a.createElement(v.a,null,"public_can_edit");if("r-------"===t)return y.a.createElement(v.a,null,"public_can_view");if("--------"===t)return y.a.createElement(v.a,null,"public_none")}return y.a.createElement(a,{value:t})}function d(e){return"publicAccess"===e.columnName}function h(e,t){return x.unshift([e,t]),function(){var t=new Map(x);t.delete(e),x=Array.from(t)}}t.b=h,n.d(t,"a",function(){return T});var m=n(0),y=n.n(m),b=n(712),v=n(71),g=n(11),w=(n.n(g),function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()),O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.state={uiLocale:"en"},o}return o(t,e),S(t,[{key:"componentDidMount",value:function(){var e=this;this.context.d2.currentUser.userSettings.get("keyUiLocale").then(function(t){return e.setState({uiLocale:t})})}},{key:"render",value:function(){var e=s(this.props.value,this.state.uiLocale);return y.a.createElement(a,{value:e})}}]),t}(m.PureComponent);_.contextTypes={d2:m.PropTypes.object};var E=/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}\.[0-9]{2,3}$/,x=[[d,f],[c,_],[p,u],[l,b.a]],T=function(e){var t=x.map(function(e){return w(e,1)[0]}),n=t.findIndex(function(t){return t(e)});return x[n]&&x[n][1]||a}}).call(t,n(28))},function(e,t,n){function r(e,t){var n=a(e),r=!n&&o(e),l=!n&&!r&&s(e),f=!n&&!r&&!l&&c(e),d=n||r||l||f,h=d?i(e.length,String):[],m=h.length;for(var y in e)!t&&!p.call(e,y)||d&&("length"==y||l&&("offset"==y||"parent"==y)||f&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||u(y,m))||h.push(y);return h}var i=n(848),o=n(262),a=n(57),s=n(320),u=n(260),c=n(407),l=Object.prototype,p=l.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t,n,a,s){var u=-1,c=e.length;for(n||(n=o),s||(s=[]);++u<c;){var l=e[u];t>0&&n(l)?t>1?r(l,t-1,n,a,s):i(s,l):a||(s[s.length]=l)}return s}var i=n(319),o=n(867);e.exports=r},function(e,t,n){var r=n(95),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,n){var r=n(537),i=n(548),o=Object.prototype,a=o.propertyIsEnumerable,s=Object.getOwnPropertySymbols,u=s?function(e){return null==e?[]:(e=Object(e),r(s(e),function(t){return a.call(e,t)}))}:i;e.exports=u},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(53),o=r(i),a=n(44),s=(r(a),function(e){return function(t){var n=(0,o.default)(e),r=function(e){return n(e)};return r}});t.default=s},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}var i=n(13),o=(n.n(i),n(56));t.a=function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){var r,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.i(i.getInstance)();case 2:if(r=e.sent,t.trim().length){e.next=5;break}return e.abrupt("return",o.b.getState().userOrganisationUnits.toArray().map(function(e){return r.models.organisationUnits.create({id:e.id,path:e.path,displayName:e.displayName})}));case 5:return e.next=7,r.models.organisationUnits.list({fields:"id,displayName,path,children::isNotEmpty",query:t,withinUserHierarchy:!0,pageSize:s});case 7:return a=e.sent,e.abrupt("return",a.toArray());case 9:case"end":return e.stop()}},e,this)}));return e}()},function(e,t,n){"use strict";function r(e,t){var n={labelStyle:{whiteSpace:"nowrap"},noHitsLabel:{fontStyle:"italic",color:"rgba(0, 0, 0, 0.4)"}};return o.a.createElement("div",{style:{position:"relative"}},o.a.createElement(s.a,{hintText:t.d2.i18n.getTranslation("search"),onUpdateInput:e.onUpdateInput,onNewRequest:e.onAutoCompleteValueSelected,dataSource:e.autoCompleteDataSource,filter:s.a.noFilter}),Array.isArray(e.roots)&&e.roots.length>0?e.roots.map(function(t){return o.a.createElement(u.a,{key:t.id,root:t,selected:e.selected,initiallyExpanded:e.initiallyExpanded,labelStyle:n.labelStyle,onSelectClick:e.onSelectClick,idsThatShouldBeReloaded:e.idsThatShouldBeReloaded,hideCheckboxes:e.hideCheckboxes,hideMemberCount:e.hideMemberCount})}):o.a.createElement("div",{style:n.noHitsLabel},e.noHitsLabel))}var i=n(0),o=n.n(i),a=n(408),s=n.n(a),u=n(371),c=n(33),l=n(210),p=n.n(l);r.propTypes={onOrgUnitSearch:o.a.PropTypes.func,onNewRequest:o.a.PropTypes.func,autoCompleteDataSource:o.a.PropTypes.array,onChangeSelectedOrgUnit:o.a.PropTypes.func,onAutoCompleteValueSelected:o.a.PropTypes.func,searchOrganisationUnits:o.a.PropTypes.func,roots:o.a.PropTypes.array,idsThatShouldBeReloaded:o.a.PropTypes.array,onUpdateInput:o.a.PropTypes.func,selected:o.a.PropTypes.array,initiallyExpanded:o.a.PropTypes.array,onSelectClick:o.a.PropTypes.func,noHitsLabel:o.a.PropTypes.string.isRequired,hideMemberCount:o.a.PropTypes.bool,hideCheckboxes:o.a.PropTypes.bool},r.defaultProps={onOrgUnitSearch:p.a,onNewRequest:p.a,onChangeSelectedOrgUnit:p.a,onAutoCompleteValueSelected:p.a,searchOrganisationUnits:p.a,onUpdateInput:p.a,initiallyExpanded:[],roots:[],autoCompleteDataSource:[],idsThatShouldBeReloaded:[],onClick:p.a,hideMemberCount:!1,hideCheckboxes:!1},t.a=n.i(c.a)(r)},function(e,t,n){"use strict";function r(e,t){return function(n){return o.a.createElement(t,e(n))}}t.a=r;var i=n(0),o=n.n(i)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return function(t){var n=Array.prototype.findIndex.call(e,function(e){return e===t});if(n<e.length-1){var r=e[n+1];e[n+1]=e[n],e[n]=r}}}function s(e){return function(t){var n=Array.prototype.findIndex.call(e,function(e){return e===t});if(n>0){var r=e[n-1];e[n-1]=e[n],e[n]=r}}}var u=n(0),c=n.n(u),l=n(151),p=n(85),f=n.n(p),d=n(15),h=n.n(d),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),y(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{style:{paddingRight:"2.5rem",position:"relative"}},c.a.createElement(l.a,m({ref:function(t){e.groupEditor=t}},this.props)),c.a.createElement("div",{style:{width:"2.5rem",position:"absolute",top:"45%",right:0}},c.a.createElement(f.a,{style:{color:"rgb(33, 150, 243)"},iconClassName:"material-icons",tooltip:"Move up",onClick:this._moveUp.bind(this)},"arrow_upward"),c.a.createElement(f.a,{style:{color:"rgb(33, 150, 243)"},iconClassName:"material-icons",tooltip:"Move down",onClick:this._moveDown.bind(this)},"arrow_downward")))}},{key:"_moveUp",value:function(){if(!Array.isArray(this.props.assignedItemStore.getState()))return h.a.warn("Moving in <GroupEditorWithOrdering /> is not supported (yet) when the assignedItemStore's state is a ModelCollectionProperty");var e=Array.from(this.props.assignedItemStore.getState());this.groupEditor.getSelectedItems().forEach(s(e)),this.props.onOrderChanged(e)}},{key:"_moveDown",value:function(){if(!Array.isArray(this.props.assignedItemStore.getState()))return h.a.warn("Moving in <GroupEditorWithOrdering /> is not supported (yet) when the assignedItemStore's state is a ModelCollectionProperty");var e=Array.from(this.props.assignedItemStore.getState());this.groupEditor.getSelectedItems().reverse().forEach(a(e)),this.props.onOrderChanged(e)}}]),t}(c.a.Component);t.a=b,b.propTypes={onOrderChanged:c.a.PropTypes.func},b.defaultProps={onOrderChanged:function(){}}},function(e,t,n){var r=n(95),i=n(58),o=r(i,"Set");e.exports=o},function(e,t,n){var r=n(58),i=r.Uint8Array;e.exports=i},function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}e.exports=n},function(e,t,n){var r=n(540),i=n(853),o=i(r);e.exports=o},function(e,t){function n(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}e.exports=n},function(e,t,n){function r(e,t){return e&&i(e,t,o)}var i=n(833),o=n(156);e.exports=r},function(e,t,n){function r(e,t,n){var r=t(e);return o(e)?r:i(r,n(e))}var i=n(319),o=n(57);e.exports=r},function(e,t,n){function r(e,t){var n=-1,r=o(e)?Array(e.length):[];return i(e,function(e,i,o){r[++n]=t(e,i,o)}),r}var i=n(538),o=n(122);e.exports=r},function(e,t,n){function r(e){return i(e,a,o)}var i=n(541),o=n(523),a=n(156);e.exports=r},function(e,t,n){var r=n(828),i=n(258),o=n(830),a=n(534),s=n(831),u=n(121),c=n(405),l=c(r),p=c(i),f=c(o),d=c(a),h=c(s),m=u;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||o&&"[object Promise]"!=m(o.resolve())||a&&"[object Set]"!=m(new a)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case p:return"[object Map]";case f:return"[object Promise]";case d:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,n){function r(e,t,n){if(!s(n))return!1;var r=typeof t;return!!("number"==r?o(n)&&a(t,n.length):"string"==r&&t in n)&&i(n[t],e)}var i=n(206),o=n(122),a=n(260),s=n(119);e.exports=r},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}e.exports=n},function(e,t,n){function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(r.Cache||i),n}var i=n(259),o="Expected a function";r.Cache=i,e.exports=r},function(e,t){function n(){return[]}e.exports=n},function(e,t,n){function r(e){if("number"==typeof e)return e;if(o(e))return a;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=c.test(e);return n||l.test(e)?p(e.slice(2),n?2:8):u.test(e)?a:+e}var i=n(119),o=n(135),a=NaN,s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,p=parseInt;e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(692),c=n(132),l=n(723),p=n(577),f=n(580),d=n(13),h=(n.n(d),n(707)),m=n(290),y=n(583),b=n(201),v=n(14),g=(n.n(v),n(367)),w=n(368),O=n(101),S=n(56),_=n(50),E=n(340),x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),P=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},C=n.i(b.a)(c.a,u.a),j=S.b.map(function(e){return{sections:e.sideBar.mainSections,current:e.sideBar.currentSection,changeSection:function(t){n.i(S.c)({sideBar:Object.assign({},e.sideBar,{currentSection:t})}),n.i(O.c)("/list/"+t)}}}),k=n.i(b.a)(j,y.a),A=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),T(t,[{key:"componentDidMount",value:function(){var e=this;P(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this);var n=S.b.filter(function(e){return"all"===e.sideBar.currentSection}).map(function(){return!1}),r=S.b.filter(function(e){return"all"!==e.sideBar.currentSection}).map(function(e){return e.mainSections.some(function(t){return t.key===e.sideBar.currentSection})});this.subscription=v.Observable.merge(n,r).distinctUntilChanged().subscribe(function(t){return e.setState(x({},e.state,{hasSection:t}))})}},{key:"componentWillUnmount",value:function(){P(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this)&&P(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this).call(this),this.subscription&&this.subscription.unsubscribe&&this.subscription.unsubscribe()}},{key:"render",value:function(){return this.state.d2?s.a.createElement(_.b,{store:E.a},s.a.createElement("div",null,s.a.createElement(C,null),s.a.createElement(k,{disabled:!!this.props.children.props.route.disableTabs}),this.state.hasSection&&!this.props.children.props.route.hideSidebar?s.a.createElement(w.a,null,s.a.createElement(p.a,{activeGroupName:this.props.params.groupName,activeModelType:this.props.params.modelType}),s.a.createElement(l.a,null,this.props.children)):s.a.createElement(g.a,null,s.a.createElement(l.a,null,this.props.children)),s.a.createElement(f.a,null))):s.a.createElement(m.a,null)}}]),t}(h.a);A.defaultProps={d2:n.i(d.getInstance)()},t.a=A},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return function(t){var n=t.dataElement,i=r(t,["dataElement"]),o=e.find(function(e){return e.id===n.id}),a=o.displayName,s=o.valueType,u=o.optionSet;return U({},i,{dataElement:U({},n,{displayName:a,valueType:s,optionSet:u})})}}function a(e,t){var r=t.d2,i=x.a.create(),a=x.a.create();i.setState(e.trackerDataElements.map(function(e){return{id:e.id,text:e.displayName,value:e.id}})),a.setState(e.model.programStageDataElements.map(function(e){return e.dataElement.id}));var s=e.model.programStageDataElements.map(o(e.trackerDataElements)).map(function(t,n){return u.a.createElement(G,{key:t.id,programStageDataElement:t,onEditProgramStageDataElement:e.onEditProgramStageDataElement})});return u.a.createElement(m.a,null,u.a.createElement("div",{style:{padding:"2rem 3rem 4rem"}},u.a.createElement(N.a,{hintText:r.i18n.getTranslation("search_available_selected_items"),onChange:f()(e.setDataElementFilter,n.i(g.getOr)("","target.value")),value:e.dataElementFilter,fullWidth:!0}),u.a.createElement(d.a,{itemStore:i,assignedItemStore:a,height:250,filterText:e.dataElementFilter,onAssignItems:e.onAssignItems,onRemoveItems:e.onRemoveItems})),u.a.createElement(S.Table,null,u.a.createElement(S.TableHeader,{displaySelectAll:!1,adjustForCheckbox:!1},u.a.createElement(S.TableRow,null,u.a.createElement(S.TableHeaderColumn,null,"Name"),u.a.createElement(S.TableHeaderColumn,null,"Compulsory"),u.a.createElement(S.TableHeaderColumn,null,"Allow provided elsewhere"),u.a.createElement(S.TableHeaderColumn,null,"Display in reports"),u.a.createElement(S.TableHeaderColumn,null,"Date in future"),u.a.createElement(S.TableHeaderColumn,null,"Render options as radio"))),u.a.createElement(S.TableBody,{displayRowCheckbox:!1},s)))}var s=n(0),u=n.n(s),c=n(72),l=n.n(c),p=n(47),f=n.n(p),d=n(151),h=n(55),m=n.n(h),y=n(87),b=n.n(y),v=n(70),g=n(11),w=(n.n(g),n(38)),O=n(50),S=n(425),_=(n.n(S),n(211)),E=n.n(_),x=n(23),T=n(325),P=n(143),C=n.n(P),j=n(981),k=n.n(j),A=n(980),I=n.n(A),R=n(45),N=n.n(R),D=n(19),M=n.n(D),F=n(98),L=n.n(F),U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V=f()(g.first,n.i(g.get)("programStages")),q=v.a.map(V),B=v.a.map(n.i(g.get)("availableDataElements")).take(1),W=function(e){return n.i(w.a)({addDataElementsToStage:T.a,removeDataElementsFromStage:T.b,editProgramStageDataElement:T.c},e)},H=f()(l()(function(e){return{groupName:e.params.groupName,modelType:e.schema,modelId:e.params.modelId}}),n.i(O.a)(null,W),b()(function(e){return e.combineLatest(q,B,function(e,t,n){return U({},e,{trackerDataElements:n,model:t,items:t.programStageDataElements})})}),C()({onAssignItems:function(e){var t=e.model,n=e.addDataElementsToStage;return function(e){return n({programStage:t.id,dataElements:e}),Promise.resolve()}},onRemoveItems:function(e){var t=e.model,n=e.removeDataElementsFromStage;return function(e){return n({programStage:t.id,dataElements:e}),Promise.resolve()}},onEditProgramStageDataElement:function(e){var t=e.model,n=e.editProgramStageDataElement;return function(e){return n({programStage:t.id,programStageDataElement:e})}}}),L()("dataElementFilter","setDataElementFilter","")),z=function(e,t){return U({},e,i({},t,!e[t]))},G=M()(function(e){var t=e.programStageDataElement,r=e.onEditProgramStageDataElement,i="DATE"===t.dataElement.valueType,o=!!t.dataElement.optionSet,a=function(e){return function(){return r(z(t,e))}},s=n.i(g.getOr)(!1,g.__,t);return u.a.createElement(S.TableRow,null,u.a.createElement(S.TableRowColumn,null,t.dataElement.displayName),u.a.createElement(S.TableRowColumn,null,u.a.createElement(E.a,{checked:s("compulsory"),onClick:a("compulsory")})),u.a.createElement(S.TableRowColumn,null,u.a.createElement(E.a,{checked:s("allowProvidedElsewhere"),onClick:a("allowProvidedElsewhere")})),u.a.createElement(S.TableRowColumn,null,u.a.createElement(E.a,{checked:s("displayInReports"),checkedIcon:u.a.createElement(k.a,null),uncheckedIcon:u.a.createElement(I.a,null),onClick:a("displayInReports")})),u.a.createElement(S.TableRowColumn,null,i?u.a.createElement(E.a,{checked:s("allowFutureDate"),onClick:a("allowFutureDate")}):null),u.a.createElement(S.TableRowColumn,null,o?u.a.createElement(E.a,{checked:s("renderOptionsAsRadio"),onClick:a("renderOptionsAsRadio")}):null))});a.contextTypes={d2:s.PropTypes.object},t.a=H(a)},function(e,t,n){"use strict";function r(e){var t=e.modelToEdit;return t?o.a.createElement(s.a,{style:c.paper},o.a.createElement(u.a,{value:t.organisationUnits,model:t,modelDefinition:t.modelDefinition})):null}t.a=r;var i=n(0),o=n.n(i),a=n(55),s=n.n(a),u=n(166),c={paper:{padding:"3rem"}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(39),c=n.n(u),l=n(34),p=n.n(l),f=n(43),d=n.n(f),h=n(266),m=n.n(h),y=n(314),b=n.n(y),v={container:{textAlign:"right",width:"100%"}},g=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.openDialog=function(){n.setState({dialogOpen:!0})},n.closeDialog=function(){n.setState({dialogOpen:!1})},n.clearName=function(){n.setState({sectionName:""})},n.confirmAddNewSection=function(){n.closeDialog(),n.props.onSectionAdded(n.state.sectionName),n.clearName()},n.onNameChanged=function(e,t){n.setState({sectionName:t})},n.focusOnSectionName=function(e){e&&setTimeout(function(){e.focus()},20)},n.render=function(){var e=[s.a.createElement(p.a,{label:"Cancel",primary:!0,onTouchTap:n.closeDialog}),s.a.createElement(p.a,{label:"Add",primary:!0,disabled:!n.state.sectionName,onTouchTap:n.confirmAddNewSection})];return s.a.createElement("div",{style:v.container},s.a.createElement(m.a,{onTouchTap:n.openDialog},s.a.createElement(b.a,null)),s.a.createElement(c.a,{title:"Add new program stage section",actions:e,open:n.state.dialogOpen,onRequestClose:n.closeDialog},s.a.createElement(d.a,{ref:n.focusOnSectionName,hintText:"Name",onChange:n.onNameChanged})))},n.state={dialogOpen:!1,sectionName:""},n}return o(t,e),t}(a.Component);g.propTypes={onSectionAdded:a.PropTypes.func.isRequired},t.a=g},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),u=n.n(s),c=n(50),l=n(426),p=(n.n(l),n(55)),f=n.n(p),d=n(38),h=n(140),m=(n.n(h),n(557)),y=n(327),b=n(555),v=n(87),g=n.n(v),w=n(72),O=n.n(w),S=n(11),_=(n.n(S),n(143)),E=n.n(_),x=n(70),T=n(328),P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),j={tabContent:{padding:"3rem"},helpText:{color:"gray",marginBottom:"2rem"}},k=function(e){function t(){var e,r,a,s;i(this,t);for(var c=arguments.length,p=Array(c),f=0;f<c;f++)p[f]=arguments[f];return r=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(p))),a.programDataElementOrderChanged=function(e){var t=e.oldIndex,r=e.newIndex;a.props.onChangeDefaultOrder(n.i(h.arrayMove)(a.props.availableDataElements.map(function(e){return e.id}),t,r))},a.renderTab=function(e,t){return u.a.createElement(l.Tab,{style:j.tab,label:e},u.a.createElement("div",{style:j.tabContent},u.a.createElement(A,null),t))},s=r,o(a,s)}return a(t,e),C(t,[{key:"render",value:function(){return u.a.createElement(f.a,null,u.a.createElement(l.Tabs,{initialSelectedIndex:1},this.renderTab("Basic",u.a.createElement(m.a,{availableDataElements:this.props.availableDataElements,onChange:this.programDataElementOrderChanged})),this.renderTab("Section",u.a.createElement(y.a,{availableDataElements:this.props.availableDataElements,programStageSections:this.props.programStageSections,onSectionNameChanged:this.props.onSectionNameChanged,onSectionOrderChanged:this.props.onSectionOrderChanged,onSectionAdded:this.props.onSectionAdded,onSectionRemoved:this.props.onSectionRemoved})),this.renderTab("Custom",u.a.createElement(b.a,null))))}}]),t}(s.Component),A=function(e,t){var n=t.d2;return u.a.createElement("div",{style:j.helpText},n.i18n.getTranslation("program_forms_help_text"))};A.contextTypes={d2:s.PropTypes.object},k.propTypes={onChangeDefaultOrder:s.PropTypes.func.isRequired,onSectionOrderChanged:s.PropTypes.func.isRequired,onSectionNameChanged:s.PropTypes.func.isRequired,onSectionAdded:s.PropTypes.func.isRequired,onSectionRemoved:s.PropTypes.func.isRequired,programStageSections:s.PropTypes.arrayOf(s.PropTypes.shape({id:s.PropTypes.string.isRequired,sortOrder:s.PropTypes.number.isRequired,displayName:s.PropTypes.string.isRequired,dataElements:s.PropTypes.arrayOf(s.PropTypes.shape({id:s.PropTypes.string.isRequired,displayName:s.PropTypes.string.isRequired})).isRequired})).isRequired,availableDataElements:s.PropTypes.arrayOf(s.PropTypes.shape({id:s.PropTypes.string.isRequired,displayName:s.PropTypes.string.isRequired,sortOrder:s.PropTypes.number.isRequired})).isRequired};var I=function(e){return n.i(d.a)({changeProgramStageDataElementOrder:T.a,changeProgramStageSectionOrder:T.b,addProgramStageSection:T.c,removeProgramStageSection:T.d,editProgramStageSectionName:T.e},e)},R=x.a.map(n.i(S.get)("programStages[0]")),N=x.a.map(n.i(S.getOr)([],"programStageSections")),D=x.a.map(n.i(S.getOr)([],"programStages[0].programStageDataElements")),M=x.a.map(n.i(S.getOr)([],"availableDataElements")),F=n.i(S.compose)(n.i(c.a)(null,I),g()(function(e){return e.combineLatest(R,N,D,M,function(e,t,n,r,i){return P({},e,{programStage:t,trackerDataElements:i,programStageSections:n,availableDataElements:r})})}),O()(function(e){var t=e.trackerDataElements,i=r(e,["trackerDataElements"]),o=function(e){return e.displayName||n.i(S.get)("displayName",n.i(S.find)(function(t){return e.id===t.id},t))};return P({},i,{programStageSections:n.i(S.sortBy)(["sortOrder"],i.programStageSections.map(function(e){return e.dataElements=Array.from(e.dataElements.values()).map(function(e){return{id:e.id,displayName:o(e)}}),e})),availableDataElements:n.i(S.sortBy)(["sortOrder"],i.availableDataElements.map(function(e){return P({},e.dataElement,{displayName:o(e.dataElement),sortOrder:e.sortOrder})}))})}),E()({onChangeDefaultOrder:function(e){var t=e.programStage,n=e.changeProgramStageDataElementOrder;return function(e){n({programStage:t.id,newDataElementOrder:e})}},onSectionNameChanged:function(e){var t=e.programStage,n=e.editProgramStageSectionName;return function(e,r){n({programStage:t.id,programStageSectionId:e,newProgramStageSectionName:r})}},onSectionOrderChanged:function(e){var t=e.changeProgramStageSectionOrder;return function(e){t({programStageSections:e})}},onSectionAdded:function(e){var t=e.addProgramStageSection;return function(e){t({newSectionName:e})}},onSectionRemoved:function(e){var t=e.removeProgramStageSection;return function(e){t({programStageSectionId:e})}}}));t.a=F(k)},function(e,t,n){"use strict";function r(e){return o.a.createElement(a.a,e)}t.a=r;var i=n(0),o=n.n(i),a=n(562)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(40),c=(n.n(u),n(11)),l=(n.n(c),n(51)),p=n.n(l),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d={dataElementPicker:{marginLeft:"1.5rem"},dataElementList:{overflowY:"scroll",maxHeight:"500px"},header:{fontSize:"1.2rem",fontWeight:"500",marginBottom:"16px"},dataElement:{height:"45px",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 0.8rem",backgroundColor:u.grey200,marginBottom:"4px",borderRadius:"8px"}},h=function(e){var t=e.availableDataElements,r=e.activeDataElements,i=e.onElementPicked;return s.a.createElement("div",{style:d.dataElementPicker},s.a.createElement("div",{style:d.header},"Available data elements:"),s.a.createElement("div",{style:d.dataElementList},t.map(function(e){var t=n.i(c.find)(function(t){return n.i(c.isEqual)(n.i(c.get)("id",t),n.i(c.get)("id",e))},r);return s.a.createElement(m,{key:e.id,dataElement:e,pickDataElement:i,active:void 0!==t})})))},m=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.setState({hover:!0})},n.onMouseLeave=function(){n.setState({hover:!1})},n.getBackgroundColor=function(){return n.props.active?u.grey100:n.state.hover?u.grey200:u.grey300},n.pickDataElement=function(){n.props.active||n.props.pickDataElement(n.props.dataElement.id)},n.render=function(){return s.a.createElement("div",{onMouseEnter:n.onMouseEnter,onMouseLeave:n.onMouseLeave,onClick:n.pickDataElement,style:f({},d.dataElement,{backgroundColor:n.getBackgroundColor(),color:n.props.active?u.grey500:"black",cursor:n.props.active?"default":"pointer"})},n.props.dataElement.displayName,!n.props.active&&s.a.createElement(p.a,{color:"gray",className:"material-icons"},"add"))},n.state={hover:!1},n}return o(t,e),t}(a.Component);m.propTypes={dataElement:a.PropTypes.object.isRequired,pickDataElement:a.PropTypes.func.isRequired,active:a.PropTypes.bool.isRequired},t.a=h},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(558),a=function(e){var t=e.availableDataElements,n=e.onChange;return i.a.createElement(o.a,{darkItems:!0,dataElements:t,onSortEnd:n})};a.propTypes={availableDataElements:r.PropTypes.array.isRequired,onChange:r.PropTypes.func.isRequired},t.a=a},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(140),a=(n.n(o),n(218)),s=n(40),u=(n.n(s),{dataElement:{padding:"1rem 1rem",backgroundColor:s.grey200,marginBottom:"4px",borderRadius:"8px"},row:{userSelect:"none",display:"flex",flexDirection:"row",alignItems:"center"},horizontalSpace:{paddingLeft:"1rem"}}),c=n.i(o.SortableContainer)(function(e){var t=e.dataElements,n=e.isSortingIndex;return i.a.createElement("div",null,t.map(function(e,t){return i.a.createElement(l,{dataElement:e,index:t,isSortingIndex:n,key:"item-"+t,sortIndex:t})}))}),l=n.i(o.SortableElement)(function(e){var t=e.index,n=e.sortIndex,r=e.dataElement,o=e.isSortingIndex;return i.a.createElement(p,{index:t,sortOrder:n,dataElement:r,isSortingIndex:o})}),p=function(e){var t=(e.sortOrder,e.dataElement);return i.a.createElement("div",{style:u.dataElement},i.a.createElement("div",{style:u.row},i.a.createElement(a.a,null),i.a.createElement("div",{style:u.horizontalSpace}),t.displayName))};p.propTypes={dataElement:r.PropTypes.shape({id:r.PropTypes.string.isRequired,displayName:r.PropTypes.string.isRequired}),sortOrder:r.PropTypes.number.isRequired},t.a=c},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(140),a=(n.n(o),n(218)),s=n(40),u=(n.n(s),n(327)),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l={dataElement:{height:"55px",display:"flex",paddingLeft:"1rem",backgroundColor:s.grey100,borderRadius:"6px",justifyContent:"space-between",alignItems:"center"},row:{userSelect:"none",display:"flex",flexDirection:"row",alignItems:"center"},horizontalSpace:{paddingLeft:"1rem"}},p=n.i(o.SortableContainer)(function(e){var t=e.sectionDataElements,n=e.onDataElementRemoved;return i.a.createElement("div",null,t.map(function(e,t){return i.a.createElement(f,{dataElement:e,onRemove:function(){n(e.id)},index:t,key:"item-"+t,sortIndex:t})}))}),f=n.i(o.SortableElement)(function(e){var t=e.index,n=e.sortIndex,r=e.dataElement,o=e.onRemove;return i.a.createElement(d,{first:0===n,index:t,sortOrder:n,dataElement:r,onRemove:o})}),d=function(e){var t=e.first,n=(e.sortOrder,e.dataElement),r=e.onRemove;return i.a.createElement("div",{style:c({},l.dataElement,{marginTop:t?"0px":"4px"})},i.a.createElement("div",{style:l.row},i.a.createElement(a.a,null),i.a.createElement("div",{style:l.horizontalSpace}),n.displayName),i.a.createElement(u.b,{onClick:r,icon:"clear"}))};d.propTypes={dataElement:r.PropTypes.shape({id:r.PropTypes.string.isRequired,displayName:r.PropTypes.string.isRequired})},t.a=p},function(e,t,n){"use strict";function r(e){return n.i(o.a)(d(e),h(e),y(e),b(e),v(e))}t.a=r;var i=n(14),o=(n.n(i),n(80)),a=n(11),s=(n.n(a),n(89)),u=(n.n(s),n(13)),c=(n.n(u),n(326)),l=n(328),p=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=i.Observable.fromPromise(n.i(u.getInstance)()),d=function(e){return function(t){return t.ofType(l.f).map(function(t){var r=e.getState(),i=n.i(a.getOr)([],"programStages",r),o=n.i(c.b)(n.i(a.get)("payload.programStage",t),i),s=n.i(a.getOr)([],"programStageDataElements",o),u=n.i(a.get)("payload.newDataElementOrder",t);o.programStageDataElements=s.map(function(e){return e.sortOrder=n.i(a.findIndex)(function(t){return t===n.i(a.get)("dataElement.id",e)},u),e}),e.setState({programStages:i})}).mapTo({type:l.g})}},h=function(e){return function(t){return t.ofType(l.h).map(function(t){var r=e.getState(),i=n.i(a.get)("payload.programStageSectionId",t),o=n.i(a.get)("payload.newProgramStageSectionName",t),s=n.i(a.getOr)([],"programStageSections",r).map(function(e){return n.i(a.isEqual)(e.id,i)&&(e.name=o,e.displayName=o),e});e.setState({programStageSections:s})}).flatMapTo(i.Observable.never())}},m=function(e){return e.map(function(e,t){return e.sortOrder=t,e})},y=function(e){return function(t){return t.ofType(l.i).map(function(t){var r=n.i(a.get)("payload.programStageSections",t),i=n.i(a.compose)(n.i(a.sortBy)("sortOrder"),m)(r);e.setState({programStageSections:i})}).flatMapTo(i.Observable.never())}},b=function(e){return function(t){return t.ofType(l.j).combineLatest(f,function(e,t){return[t,e]}).map(function(t){var r=p(t,2),i=r[0],o=r[1],u=e.getState(),c=n.i(a.get)("payload.newSectionName",o),l=n.i(a.getOr)([],"programStageSections",u),f=n.i(a.getOr)(-1,"sortOrder",n.i(a.maxBy)(function(e){return n.i(a.get)("sortOrder",e)},l))+1,d=n.i(a.get)("programStages[0]",u),h=i.models.programStageSection.create({id:n.i(s.generateUid)(),dataElements:[]});h.name=c,h.displayName=c,h.sortOrder=f,h.programStage=d,d.programStageSections.add(h);var m=n.i(a.getOr)([],"programStageSections",u).concat(h);e.setState({programStageSections:m})}).flatMapTo(i.Observable.never())}},v=function(e){return function(t){return t.ofType(l.k).map(function(t){var r=e.getState(),i=n.i(a.get)("payload.programStageSectionId",t),o=n.i(a.getOr)([],"programStageSections",r),s=n.i(a.filter)(function(e){return!n.i(a.isEqual)(i,e.id)},o);n.i(a.get)("programStages[0]",r).programStageSections=s,e.setState({programStageSections:s})}).flatMapTo(i.Observable.never())}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(11),c=(n.n(u),n(15)),l=n.n(c),p=n(14),f=(n.n(p),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),d=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.subscriptions=new Set,o}return o(t,e),f(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.onEditorChange,r=void 0===n?u.noop:n,i=t.onEditorInitialized,o=void 0===i?u.noop:i;window.CKEDITOR||l.a.error("CKEDITOR namespace can not be found on the window. You probably forgot to load the CKEditor script"),this.editor=window.CKEDITOR.replace(this.editorContainer,{plugins:["a11yhelp","basicstyles","bidi","blockquote","clipboard","colorbutton","colordialog","contextmenu","dialogadvtab","div","elementspath","enterkey","entities","filebrowser","find","floatingspace","font","format","horizontalrule","htmlwriter","image","indentlist","indentblock","justify","link","list","liststyle","magicline","maximize","forms","pastefromword","pastetext","preview","removeformat","resize","selectall","showblocks","showborders","sourcearea","specialchar","stylescombo","tab","table","tabletools","toolbar","undo","wsc","wysiwygarea"].join(","),removePlugins:"scayt,wsc,about",allowedContent:!0,extraPlugins:"div",height:500}),this.editor.setData(this.props.initialContent);var a=p.Observable.fromEventPattern(function(t){e.editor.on("change",t)}).debounceTime(250).subscribe(function(){r(e.editor.getData())});this.subscriptions.add(a),o(this.editor)}},{key:"componentWillUnmount",value:function(){this.editor&&this.editor.destroy(),this.subscriptions.forEach(function(e){return e.unsubscribe()})}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"setContainerRef",value:function(e){this.editorContainer=e}},{key:"render",value:function(){return s.a.createElement("textarea",{ref:this.setContainerRef.bind(this)})}}]),t}(a.Component);t.a=d,d.propTypes={onEditorChange:a.PropTypes.func,onEditorInitialized:a.PropTypes.func,initialContent:a.PropTypes.string}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){return n.i(j.getOr)("Unknown","displayName",n.i(j.find)(n.i(j.compose)(n.i(j.isEqual)(t.id),n.i(j.get)("id")),e))}function s(e,t){var n=e.keySet,r=e.label,i=e.filter,o=e.expand,a=e.expandClick,s=e.usedIds,u=e.insertFn,l=t.d2,p=Object.keys(n).filter(function(e){return!i.length||i.every(function(t){return-1!==n[e].toLowerCase().indexOf(t.toLowerCase())})}),f=r===o?"cell expanded":"cell";return c.a.createElement("div",{className:f},c.a.createElement("div",{style:z.paletteHeader,className:"header",onClick:a},c.a.createElement("div",{className:"arrow"},""),l.i18n.getTranslation(r),":",c.a.createElement("div",{className:"count"},p.length)),c.a.createElement("div",{className:"items"},p.sort(function(e,t){return n[e]?n[e].localeCompare(n[t]):e.localeCompare(t)}).map(function(e){var t=-1===s.indexOf(e),r=t?"item active":"item inactive",i=n[e].name||n[e];return c.a.createElement("div",{key:e,className:r,title:i},c.a.createElement("a",{onClick:u[e]},i))})))}var u=n(0),c=n.n(u),l=n(14),p=(n.n(l),n(15)),f=n.n(p),d=n(68),h=n.n(d),m=n(118),y=n.n(m),b=n(84),v=n.n(b),g=n(55),w=n.n(g),O=n(45),S=n.n(O),_=n(502),E=n(37),x=n(19),T=n.n(x),P=n(87),C=n.n(P),j=n(11),k=(n.n(j),n(38)),A=n(50),I=n(329),R=(n(67),n(70)),N=n(561),D=n(1334),M=(n.n(D),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),F=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),L=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),U=R.a.map(n.i(j.compose)(j.first,n.i(j.get)("programStages"))),V=R.a.map(n.i(j.get)("availableDataElements")).take(1),q=R.a.map(function(e){var t=n.i(j.first)(n.i(j.get)("programStages",e));return e.dataEntryFormForProgramStage[t.id]}),B=U.combineLatest(V,function(e,t){return{programStage:e,trackerDataElements:t}}).map(function(e){var t=e.programStage,r=e.trackerDataElements;return n.i(j.getOr)([],"programStageDataElements",t).filter(n.i(j.get)("dataElement")).map(function(e){return{id:t.id+"."+e.dataElement.id,displayName:e.dataElement.displayName||a(r,e.dataElement)}})}),W=/<input.*?\/>/gi,H=/id="(\w*?)-(\w*?)-val"/,z={heading:{paddingBottom:18},formContainer:{},formPaper:{display:"flex",flexDirection:"row",width:"100%",margin:"0 auto 2rem",padding:"4rem 4rem",alignItems:"center"},formSection:{},cancelButton:{marginLeft:"2rem"},deleteButton:{marginLeft:"2rem"},paletteHeader:{},paletteFilter:{padding:"0 8px 8px"},paletteFilterField:{width:"100%"},greySwitch:{position:"absolute",bottom:8,left:8,right:8}};s.contextTypes={d2:c.a.PropTypes.object};var G=T()(s),Y=function(e){function t(e,o){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o)),s=e.dataEntryForm;return a.state={usedIds:[],filter:"",expand:"data_elements",insertFn:{}},a.disposables=new Set,a.disposables.add(l.Observable.combineLatest(U,B,l.Observable.fromPromise(o.d2.Api.getApi().get("system/flags")),function(e,t,n){return[e,t,n]}).take(1).subscribe(function(e){var t=F(e,3),r=t[0],i=t[1],o=t[2];a.operands=i.filter(function(e){return-1!==e.id.indexOf(".")}).reduce(function(e,t){return e[t.id.split(".").join("-")+"-val"]=t.displayName,e},{}),a.flags=o.reduce(function(e,t){return e[t.path]=t.name,e},{});var u={};Object.keys(a.operands).forEach(function(e){u[e]=a.insertElement.bind(a,e)}),Object.keys(a.flags).forEach(function(e){u[e]=a.insertFlag.bind(a,e)}),a.filterAction=E.a.create("filter"),a.filterAction.map(function(e){var t=e.data,n=e.complete,r=e.error;return{data:t[1],complete:n,error:r}}).debounceTime(75).subscribe(function(e){var t=e.data.split(" ").filter(function(e){return e.length});a.setState({filter:t})});var c=s?a.processFormData(n.i(j.getOr)("","htmlCode",s)):"";a.setState({insertFn:u,formHtml:c,dataEntryForm:s,formTitle:r.displayName})})),a.getTranslation=a.context.d2.i18n.getTranslation.bind(a.context.d2.i18n),a.handleDeleteClick=a.handleDeleteClick.bind(a),a.handleStyleChange=a.handleStyleChange.bind(a),a.setEditorReference=a.setEditorReference.bind(a),a}return o(t,e),L(t,[{key:"componentWillUnmount",value:function(){this.disposables.forEach(function(e){return e.unsubscribe()})}},{key:"componentWillReceiveProps",value:function(e){var t=e.dataEntryForm;if(this.state.dataEntryForm&&t!==this.state.dataEntryForm){var r=t?this.processFormData(n.i(j.getOr)("","htmlCode",t)):"";this._editor.setData(r)}}},{key:"handleDeleteClick",value:function(){this.props.onFormDelete()}},{key:"handleStyleChange",value:function(e,t,n){this.state.dataEntryForm.style!==n&&this.props.onStyleChange(n)}},{key:"generateHtml",value:function(e,t,n){var r=t?" style="+t:"",i=n?" disabled="+n:"";if(-1!==e.indexOf("-")){var o=this.operands&&this.operands[e];return'<input id="'+e+'" '+('name="entryfield" title="'+o+'" value="[ '+o+' ]"'+r+i).trim()+"/>"}return f.a.warn("Failed to generate HTML for ID:",e),""}},{key:"processFormData",value:function(e){for(var t=this,n=e,r="",i=[],o=W.exec(n),a=0;null!==o;){r+=n.substr(a,o.index-a),a=W.lastIndex;var s=o[0],u=(/style="(.*?)"/.exec(s)||["",""])[1],c=null!==/disabled/.exec(s),l=H.exec(s);if(l){var p=l[1]+"-"+l[2]+"-val";i.push(p),r+=this.generateHtml(p,u,c)}else r+=s;o=W.exec(n)}return r+=n.substr(a),this.setState({usedIds:i},function(){t.state.dataEntryForm&&t.state.dataEntryForm.htmlCode!==r&&t.props.onFormChange(r)}),r}},{key:"insertElement",value:function(e){if(-1===this.state.usedIds.indexOf(e)){this._editor.insertHtml(this.generateHtml(e),"unfiltered_html"),this.setState(function(t){return{usedIds:t.usedIds.concat(e)}});var t=this._editor.getSelection().getRanges()[0];t.moveToElementEditablePosition(t.endContainer,!0)}}},{key:"insertFlag",value:function(e){this._editor.insertHtml('<img src="../dhis-web-commons/flags/'+e+'" />',"unfiltered_html");var t=this._editor.getSelection().getRanges()[0];t.moveToElementEditablePosition(t.endContainer,!0)}},{key:"setEditorReference",value:function(e){this._editor=e}},{key:"renderPalette",value:function(){var e=this;return c.a.createElement("div",{className:"paletteContainer",style:{}},c.a.createElement("div",{className:"palette"},c.a.createElement("div",{style:z.paletteFilter},c.a.createElement(S.a,{hintText:this.getTranslation("filter_elements"),style:z.paletteFilterField,onChange:this.filterAction,fullWidth:!0})),c.a.createElement("div",{className:"elements"},c.a.createElement(G,{keySet:this.operands,label:"data_elements",filter:this.state.filter,expand:this.state.expand,expandClick:function(){e.setState({expand:"data_elements"})},usedIds:this.state.usedIds,insertFn:this.state.insertFn}),c.a.createElement(G,{keySet:this.flags,label:"flags",filter:this.state.filter,expand:this.state.expand,expandClick:function(){e.setState({expand:"flags"})},usedIds:this.state.usedIds,insertFn:this.state.insertFn}))))}},{key:"render",value:function(){var e=this,t=this.props;return void 0===this.state.formHtml?c.a.createElement(_.a,null):c.a.createElement("div",{style:Object.assign({},z.formContainer,{})},c.a.createElement("div",{className:"programStageEditForm"},c.a.createElement("div",{className:"left"},c.a.createElement(N.a,{onEditorChange:function(t){e.processFormData.call(e,t)},onEditorInitialized:this.setEditorReference,initialContent:this.state.formHtml}),c.a.createElement(w.a,{style:z.formPaper},c.a.createElement("div",{style:z.formSection},c.a.createElement(y.a,{value:n.i(j.getOr)("NORMAL","style",t.dataEntryForm),floatingLabelText:"Form display style",onChange:this.handleStyleChange},c.a.createElement(v.a,{value:"NORMAL",primaryText:this.getTranslation("normal")}),c.a.createElement(v.a,{value:"COMFORTABLE",primaryText:this.getTranslation("comfortable")}),c.a.createElement(v.a,{value:"COMPACT",primaryText:this.getTranslation("compact")}),c.a.createElement(v.a,{value:"NONE",primaryText:this.getTranslation("none")}))),c.a.createElement("div",{style:z.formSection},t.dataEntryForm&&t.dataEntryForm.id?c.a.createElement(h.a,{primary:!0,label:this.getTranslation("delete"),style:z.deleteButton,onClick:this.handleDeleteClick}):void 0))),c.a.createElement("div",{className:"right"},this.renderPalette())))}}]),t}(c.a.Component);Y.propTypes={params:c.a.PropTypes.object.isRequired,onFormChange:c.a.PropTypes.func,onStyleChange:c.a.PropTypes.func,onFormDelete:c.a.PropTypes.func},Y.defaultProps={onFormChange:j.noop,onStyleChange:j.noop,onFormDelete:j.noop},Y.contextTypes={d2:c.a.PropTypes.any};var $=function(e,t){var r=t.programStage;return n.i(k.a)({onFormChange:n.i(j.curry)(I.a)(r.id)("htmlCode"),onStyleChange:n.i(j.curry)(I.a)(r.id)("style"),onFormDelete:I.b.bind(void 0,r.id)},e)},K=n.i(j.compose)(C()(function(e){return e.combineLatest(U,q,function(e,t,n){return M({},e,{programStage:t,dataEntryForm:n})})}),n.i(A.a)(void 0,$));t.a=K(Y)},function(e,t,n){"use strict";var r=n(14),i=(n.n(r),n(11)),o=(n.n(i),n(15)),a=n.n(o),s=n(80),u=n(329),c=n(70),l=n(89),p=(n.n(l),n(13)),f=(n.n(p),r.Observable.fromPromise(n.i(p.getInstance)())),d=function(e){return n.i(i.find)(n.i(i.compose)(n.i(i.isEqual)(e),n.i(i.get)("id")))},h=function(e){return n.i(i.compose)(d(e),n.i(i.get)("programStages"))},m=function(e){return e.ofType(u.c).map(function(e){var t=n.i(i.get)("payload.field",e),r=n.i(i.get)("payload.value",e),o=n.i(i.get)("payload.programStage",e),s=c.a.getState(),u=h(o)(s),p=s.dataEntryFormForProgramStage[o];p.id=n.i(i.getOr)(n.i(l.generateUid)(),"id",p),p.name=n.i(i.getOr)(u.name,"name",p),a.a.debug("Setting",t,"to",r),p[t]=r,u.dataEntryForm||(u.dataEntryForm=p),c.a.setState({})}).flatMapTo(r.Observable.never())},y=function(e){return e.ofType(u.d).combineLatest(f,function(e,t){return{action:e,d2:t}}).mergeMap(function(e){var t=e.action,n=e.d2,i=c.a.getState(),o=t.payload,s=h(o)(i),u=i.dataEntryFormForProgramStage;return r.Observable.fromPromise(u[o].delete().then(function(){s.dataEntryForm=void 0,u[o]=n.models.dataEntryForm.create(),c.a.setState({})}).catch(function(e){return a.a.error(e)}))}).mergeMapTo(r.Observable.never())};t.a=n.i(s.a)(m,y)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){if("add"===e){var t=n.i(f.generateUid)(),r=n.i(f.generateUid)(),i={programs:[{id:t,programStages:[{id:r,programStageDataElements:[],notificationTemplates:[],programStageSections:[]}],organisationUnits:[]}]},a=O.flatMap(function(e){return u.Observable.fromPromise(e.models.dataElements.filter().on("domainType").equals("TRACKER").list({paging:!1}).then(function(e){return e.toArray()}))});return u.Observable.combineLatest(u.Observable.of(i),a,function(e,t){return w({},e,{dataElements:t})}).flatMap(o).map(function(e){return e.program.programType="WITHOUT_REGISTRATION",n.i(l.first)(e.programStages).name=e.program.id,e})}var s=[":owner,displayName","attributeValues[:all,attribute[id,name,displayName]]","organisationUnits[id,path]","dataEntryForm[:owner]","notificationTemplates[:owner]"].join(",");return S.flatMap(function(t){return u.Observable.fromPromise(t.get(["metadata","?fields=:owner,displayName","&programs:filter=id:eq:"+e,"&programs:fields="+s+",programStages[:owner,programStageDataElements[:owner,dataElement[id,displayName]],notificationTemplates[:owner,displayName],dataEntryForm[:owner],programStageSections[:owner,displayName,dataElements[id,displayName]]]","&dataElements:fields=id,displayName,valueType,optionSet","&dataElements:filter=domainType:eq:TRACKER"].join("")))}).flatMap(o)}function o(e){var t=e.programs,i=void 0===t?[]:t,o=e.dataElements,a=void 0===o?[]:o,s=n.i(l.getOr)([],"programStages",n.i(l.first)(i)),c=n.i(p.getInstance)().then(function(e){var t=function(e){return e.create.bind(e)},o=n.i(l.compose)(t(e.models.program),l.first),u=n.i(l.map)(t(e.models.programStageSection)),c=n.i(l.map)(t(e.models.programStage)),p=n.i(l.map)(t(e.models.programNotificationTemplate)),f=t(e.models.dataEntryForm);return{program:o(i),programStages:c(n.i(l.getOr)([],"programStages",n.i(l.first)(i))),programStageSections:u(n.i(l.getOr)([],"programStages[0].programStageSections",n.i(l.first)(i))),programStageNotifications:function(e){return e.reduce(function(e,t){return w({},e,r({},t.id,p(n.i(l.getOr)([],"notificationTemplates",t))))},{})}(s),availableDataElements:a,dataEntryFormForProgramStage:function(e){return e.reduce(function(e,t){return w({},e,r({},t.id,f(n.i(l.getOr)({},"dataEntryForm",t))))},{})}(s)}});return u.Observable.fromPromise(c)}var a=n(152),s=n(70),u=n(14),c=(n.n(u),n(80)),l=n(11),p=(n.n(l),n(13)),f=(n.n(p),n(89)),d=(n.n(f),n(565)),h=n(101),m=n(571),y=n(326),b=n(560),v=n(563),g=n(324),w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O=u.Observable.fromPromise(n.i(p.getInstance)()),S=O.map(function(e){return e.Api.getApi()}),_=function(e){return e.ofType(a.l).map(n.i(l.get)("payload.id")).flatMap(i).do(function(e){return s.a.setState(e)}).mapTo(n.i(a.m)())},E=n.i(g.a)(a.n,s.a,"program"),x=s.a.take(1).filter(s.b).map(s.c).flatMap(function(e){return S.flatMap(function(t){return u.Observable.fromPromise(t.post("metadata",e))}).map(d.a).map(function(e){return e.isOk()?(n.i(h.a)("/list/programSection/program"),n.i(a.o)()):n.i(a.p)(e.errorsPerObject)}).catch(function(e){return u.Observable.of(n.i(a.p)(e))})}),T=function(e){return e.ofType(a.q).flatMapTo(s.a.take(1)).flatMap(function(e){return n.i(s.b)(e)?x:u.Observable.of(n.i(a.r)("no_changes_to_be_saved")).do(function(){return n.i(h.a)("/list/programSection/program")})})},P=function(e){return u.Observable.merge(e.ofType(a.j).mapTo(n.i(a.r)("success")),e.ofType(a.k).map(function(e){var t=n.i(l.compose)(n.i(l.get)("message"),l.first,l.flatten,l.values,n.i(l.getOr)([],"errors"),l.first),r=t(e.payload);return n.i(a.r)({message:r,translate:!1})}))};t.a=n.i(c.a)(_,E,T,P,m.a,n.i(y.a)(s.a),n.i(b.a)(s.a),v.a)},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}n.d(t,"a",function(){return l});var i=n(11),o=(n.n(i),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),a={OK:"OK",WARNING:"WARNING",ERROR:"ERROR"},s=n.i(i.compose)(i.flatten,n.i(i.map)(n.i(i.getOr)([],"objectReports"))),u=n.i(i.map)(function(e){var t=n.i(i.compose)(n.i(i.get)("mainId"),i.first,n.i(i.filter)(n.i(i.get)("mainId")),n.i(i.getOr)([],"errorReports")),r=n.i(i.getOr)(t(e),"uid",e);return o({},e,{id:r,errors:n.i(i.compose)(n.i(i.groupBy)("errorProperty"),n.i(i.getOr)([],"errorReports"))(e)})}),c=n.i(i.compose)(u,s),l=function(e){var t=e.status,n=e.typeReports,i=void 0===n?[]:n,s=r(e,["status","typeReports"]);return o({},s,{typeReports:i,status:t,isOk:function(){return a.OK===t},errorsPerObject:c(i)})}},function(e,t,n){"use strict";function r(e){var t=e.onCancel,n=e.onConfirm,r=e.question,i=e.open,a=e.t,u=[o.a.createElement(s.a,{label:a("cancel"),primary:!0,onTouchTap:t}),o.a.createElement(s.a,{label:a("delete"),primary:!0,onTouchTap:n})];return o.a.createElement(c.a,{actions:u,modal:!1,open:i,onRequestClose:t},r)}t.a=r;var i=n(0),o=n.n(i),a=n(34),s=n.n(a),u=n(39),c=n.n(u);r.propTypes={onCancel:i.PropTypes.func,onConfirm:i.PropTypes.func,question:i.PropTypes.string,t:i.PropTypes.func}},function(e,t,n){"use strict";function r(e){var t=e.notifications,n=e.askForConfirmation,r=e.onCancel,i=e.onDelete,a=e.open,s=e.setOpen,u=e.modelToDelete,c=e.setEditModel,l=e.setAddModel;return o.a.createElement("div",null,o.a.createElement(h.a,{notifications:t,onRemoveNotification:n,onEditNotification:c,onAddNotification:l}),o.a.createElement(v.a,null),o.a.createElement(y.a,{setOpen:s,open:a,onCancel:r,onConfirm:i,name:u&&u.name}))}var i=n(0),o=n.n(i),a=n(50),s=n(38),u=n(98),c=n.n(u),l=n(47),p=n.n(l),f=n(143),d=n.n(f),h=n(570),m=n(219),y=n(568),b=n(125),v=n(569),g=n(87),w=n.n(g),O=n(70),S=n(11),_=(n.n(S),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),E=O.a.map(m.a),x=function(e){return n.i(s.a)({removeStageNotification:b.b,setEditModel:b.c,setAddModel:b.d},e)},T=p()(n.i(a.a)(void 0,x,void 0,{pure:!1}),c()("open","setOpen",!1),c()("modelToDelete","setModelToDelete",null),d()({onCancel:function(e){var t=e.setOpen;return function(){return t(!1)}},onDelete:function(e){var t=e.setOpen,n=e.removeStageNotification,r=e.modelToDelete;return function(){t(!1),n(r)}},askForConfirmation:function(e){var t=e.setOpen,n=e.setModelToDelete;return function(e){n(e),t(!0)}}}),w()(function(e){return e.combineLatest(E,function(e,t){return _({},e,{notifications:t})})}));t.a=T(r)},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var i=n(0),o=(n.n(i),n(47)),a=n.n(o),s=n(142),u=n.n(s),c=n(72),l=n.n(c),p=n(566),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=a()(u()({d2:i.PropTypes.object}),l()(function(e){var t=e.d2,n=e.name,i=r(e,["d2","name"]);return f({t:t.i18n.getTranslation.bind(t.i18n),question:t.i18n.getTranslation("delete")+" "+n+"?"},i)})),h=d(p.a);t.a=h},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e){return Array.isArray(e)?e:Array.from(e)}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=s(e),n=t[0],r=t.slice(1);if("SCHEDULED_DAYS_DUE_DATE"!==n.value){return[n].concat(a(r.map(function(e){return F({},e,{component:N()()})})))}return[n].concat(a(r))}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=M(e,3),n=t[0],r=t[1],i=t[2];return new Set(["TRACKED_ENTITY_INSTANCE","ORGANISATION_UNIT_CONTACT"]).has(n.value)?[n,F({},r,{component:N()()}),i]:"USER_GROUP"===n.value?[n,r,F({},i,{component:N()()})]:[n,F({},r,{component:N()()}),F({},i,{component:N()()})]}function l(e,t){var n=e.model,r=e.onCancel,i=e.onConfirm,o=t.d2,a=o.i18n.getTranslation.bind(o.i18n),s=[f.a.createElement(m.a,{label:a("cancel"),primary:!0,onTouchTap:r}),f.a.createElement(m.a,{label:a("save"),primary:!0,onTouchTap:function(){return i(n)}})];return f.a.createElement(b.a,{actions:s,open:!!n,onRequestClose:r,title:a("program_notification")+" ("+(n.displayName||"")+")",autoDetectWindowHeight:!0,autoScrollBodyContent:!0,contentStyle:B.content},f.a.createElement(q,null))}var p=n(0),f=n.n(p),d=n(50),h=n(34),m=n.n(h),y=n(39),b=n.n(y),v=n(202),g=n(98),w=n.n(g),O=n(47),S=n.n(O),_=n(214),E=n.n(_),x=n(219),T=n(125),P=n(38),C=n(11),j=(n.n(C),n(204)),k=n(203),A=n(159),I=n.n(A),R=n(213),N=n.n(R),D=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),M=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L=function(e){return{model:n.i(x.b)(e)}},U=function(e){return{onUpdateField:function(t,r){e(n.i(T.a)(t,r))}}},V=[{key:"what",name:"what_to_send",content:S()(n.i(d.a)(L,U,void 0,{pure:!1}),n.i(j.d)("programNotificationTemplate",["name","messageTemplate"]))(function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),D(t,[{key:"componentDidMount",value:function(){setTimeout(function(){return window.dispatchEvent(new Event("resize"))},600)}},{key:"render",value:function(){var e=this.props,t=e.fieldConfigs,n=void 0===t?[]:t,r=e.onUpdateField;return f.a.createElement(k.a,{fields:n,onUpdateField:r})}}]),t}(p.Component))},{key:"when",name:"when_to_send_it",content:S()(n.i(d.a)(L,U,void 0,{pure:!1}),n.i(j.d)("programNotificationTemplate",["notificationTrigger","relativeScheduledDays"],u))(function(e){var t=e.fieldConfigs,n=void 0===t?[]:t,r=e.onUpdateField;return f.a.createElement(k.a,{fields:n,onUpdateField:r})})},{key:"who",name:"who_to_send_it_to",content:S()(n.i(d.a)(L,U,void 0,{pure:!1}),n.i(j.d)("programNotificationTemplate",["notificationRecipient","recipientUserGroup","deliveryChannels"],c))(function(e){var t=e.fieldConfigs,n=void 0===t?[]:t,r=e.onUpdateField;return f.a.createElement(k.a,{fields:n,onUpdateField:r})})}],q=S()(w()("activeStep","setActiveStep",0),E()(function(e){var t=e.setActiveStep;return{stepperClicked:function(e){t(V.findIndex(function(t){return t.key===e}))}}}))(n.i(v.e)(V,"vertical")),B={content:{width:"60%",minWidth:700,maxWidth:"none"}};l.contextTypes={d2:p.PropTypes.object};var W=function(e){return n.i(P.a)({onCancel:T.c.bind(null,null),onConfirm:T.e},e)};t.a=S()(n.i(d.a)(L,W),I()(function(e){return!e.model},N.a))(l)},function(e,t,n){"use strict";function r(e){var t=e.onAddClick,n={textAlign:"right",marginTop:"1rem",bottom:"1.5rem",right:"1.5rem",position:"fixed",zIndex:10};return a.a.createElement("div",{style:n},a.a.createElement(c.a,{onClick:t},a.a.createElement(p.a,null)))}function i(e){var t=e.notifications,n=e.onRemoveNotification,r=e.onEditNotification,i=e.onAddNotification;return a.a.createElement("div",null,a.a.createElement(O,{modelType:"programNotificationTemplate",onAddClick:i}),a.a.createElement(s.a,{rows:t,columns:["name","lastUpdated"],contextMenuActions:{edit:r,delete:n},primaryAction:r}))}t.a=i;var o=n(0),a=n.n(o),s=n(296),u=n(297),c=n.n(u),l=n(314),p=n.n(l),f=n(142),d=n.n(f),h=n(47),m=n.n(h),y=n(159),b=n.n(y),v=n(213),g=n.n(v),w=m()(d()({d2:o.PropTypes.object}),b()(function(e){var t=e.d2,n=e.modelType;return!t.currentUser.canCreate(t.models[n])},g.a)),O=w(r);i.propTypes={notifications:o.PropTypes.array}},function(e,t,n){"use strict";var r=n(125),i=n(14),o=(n.n(i),n(80)),a=n(13),s=(n.n(a),n(219)),u=n(70),c=n(11),l=(n.n(c),n(89)),p=(n.n(l),function(e){return function(t){return e!==t}}),f=function(e){return e.ofType(r.i).flatMap(function(e){var t=e.payload;return i.Observable.of(t).flatMap(function(e){return u.a.take(1).map(function(t){var r=t.programStages,i=t.programStageNotifications,o=n.i(c.first)(r),a=n.i(s.a)({programStages:r,programStageNotifications:i});o.notificationTemplates.remove(e),i[o.id]=a.filter(p(e)),u.a.setState(t)})})}).flatMapTo(i.Observable.never())},d=function(e,t){return e.ofType(r.j).do(function(e){var t=e.payload;t.dataValues.href=t.modelDefinition.apiEndpoint+"/"+t.id}).mergeMap(function(e){var t=e.payload;return u.a.take(1).flatMap(function(e){var r=e.programStages,o=e.programStageNotifications,a=n.i(c.first)(r),u=n.i(s.a)({programStages:r,programStageNotifications:o});return n.i(c.negate)(n.i(c.find)(n.i(c.equals)(t)))(u)&&(a.notificationTemplates.add(t),u.push(t)),i.Observable.of(e)}).map(function(e){return u.a.setState(e)}).mapTo(i.Observable.of(n.i(r.k)(),n.i(r.c)(null))).mergeAll().catch(function(e){return i.Observable.of(n.i(r.l)(e))})})},h=function(e,t){return e.ofType(r.m).combineLatest(i.Observable.fromPromise(n.i(a.getInstance)()),function(e,t){return{model:e.payload,d2:t}}).map(function(e){var t=e.d2,i=t.models.programNotificationTemplate.create();return i.id=n.i(l.generateUid)(),i.lastUpdated=(new Date).toISOString(),n.i(r.c)(i)})};t.a=n.i(o.a)(f,h,d)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isDeleting:!1},t=arguments[1];switch(t.type){case i.f:var n=e.modelToEdit;return n[t.payload.property]=t.payload.value,o({},e,{modelToEdit:n});case i.g:return o({},e,{modelToEdit:t.payload});case i.h:return void console.error(t.payload)}return e}t.a=r;var i=n(125),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{activeStep:l.b},t=arguments[1];switch(t.type){case u.g:return{activeStep:t.payload};case u.h:return{activeStep:n.i(f.f)(l.a,e.activeStep)};case u.i:return{activeStep:n.i(f.g)(l.a,e.activeStep)};case c.c:return{activeStep:l.b}}return e}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case u.j:s.a.info("Success",t.payload);break;case u.k:s.a.error("Error",t.payload)}return e}var o=n(38),a=n(15),s=n.n(a),u=n(152),c=n(59),l=n(510),p=n(572),f=n(202);t.a=n.i(o.b)({eventProgram:i,step:r,stageNotifications:p.a})},function(e,t,n){"use strict";function r(e){return c.Observable.fromPromise(n.i(p.getInstance)().then(function(t){return"add"===e?t.models.programIndicator.create():t.models.programIndicator.get(e,f.a.get("programIndicator"))}).then(function(e){return{programIndicator:e}}))}function i(e){var t=[g(e),w(e)];return O(t)}var o=n(153),a=n(59),s=n(316),u=n(11),c=(n.n(u),n(14)),l=(n.n(c),n(80)),p=n(13),f=(n.n(p),n(322)),d=n(324),h=n(513),m=n(101),y=function(e){return function(t){return t.ofType(o.j).map(n.i(u.get)("payload.id")).flatMap(r).do(function(t){return e.setState(t)}).mapTo(n.i(o.k)())}},b=function(e){return n.i(d.a)(o.l,e,"programIndicator")},v=function(e){return function(t){return t.ofType(o.m).mapTo(e).map(h.b).mergeMap(function(e){return c.Observable.fromPromise(e.save()).mapTo(n.i(o.n)()).do(function(){return n.i(m.a)("/list/indicatorSection/programIndicator")}).catch(function(e){return c.Observable.of(n.i(o.o)(e))})})}},g=n.i(u.compose)(n.i(u.get)("message"),u.first,n.i(u.getOr)([],"errorReports"),n.i(u.get)("response")),w=n.i(u.compose)(n.i(u.get)("message"),u.first,n.i(u.get)("messages")),O=n.i(u.compose)(u.first,n.i(u.filter)(u.identity)),S=function(e){return c.Observable.merge(e.ofType(o.p).mapTo(n.i(a.e)("success")),e.ofType(o.q).map(function(e){var t=i(e.payload);return n.i(a.e)({message:t,translate:!1})}))};t.a=function(e){return n.i(l.a)(y(e),b(e),v(e),S)}(s.a)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{activeStep:u.b},t=arguments[1];switch(t.type){case o.g:return{activeStep:t.payload};case o.h:return{activeStep:n.i(s.f)(u.a,e.activeStep)};case o.i:return{activeStep:n.i(s.g)(u.a,e.activeStep)};case a.c:return{activeStep:u.b}}return e}var i=n(38),o=n(153),a=n(59),s=n(202),u=n(512);t.a=n.i(i.b)({step:r})},function(e,t,n){"use strict";function r(e){var t={};return o.a.createElement("div",{style:t},o.a.createElement(a.a,{sections:e.sections,onChangeSection:u.a,onSectionClick:e.onChangeSection||u.a,currentSection:e.currentSection,styles:Object.assign({leftBar:{overflowY:"initial"}},e.style)}),e.children)}var i=n(0),o=n.n(i),a=n(731),s=n(210),u=n.n(s);r.propTypes={style:o.a.PropTypes.object,sections:o.a.PropTypes.arrayOf(o.a.PropTypes.object),onChangeSection:o.a.PropTypes.func,currentSection:o.a.PropTypes.string,children:o.a.PropTypes.oneOfType([o.a.PropTypes.object,o.a.PropTypes.array])},r.defaultProps={style:{},sections:[]},t.a=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(579),c=n(102),l=n.n(c),p=n(578),f=n(56),d=n(576),h=n(531),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),y(t,[{key:"componentWillMount",value:function(){var e=this;this.subscription=u.a.subscribe(function(t){e.setState(m({},t,{organisationUnitsToReload:e.state&&e.state.organisationUnitsToReload?e.state.organisationUnitsToReload:[]}))}),this.organisationUnitSaved=u.b.filter(function(e){return e}).subscribe(function(t){e.setState({organisationUnitsToReload:[t.id]},function(){return e.forceUpdate()})})}},{key:"componentWillUnmount",value:function(){this.subscription&&this.subscription&&this.subscription.unsubscribe(),this.organisationUnitSaved&&this.organisationUnitSaved.unsubscribe&&this.organisationUnitSaved.unsubscribe()}},{key:"renderSidebarItems",value:function(){if("organisationUnit"===this.state.currentSubSection&&!/#\/edit\//.test(document.location.hash)){if(this.state.userOrganisationUnits&&this.state.selectedOrganisationUnit){var e={wrapperStyle:{padding:"1.5rem",overflowY:"auto",overflowX:"auto",flex:"1",width:"295px"}},t=f.b.getState().sideBar.organisationUnits,n=Array.isArray(t)?t:this.state.userOrganisationUnits.toArray().map(function(e){return Object.assign(e,{displayName:e.name})}),r=t&&t.length?[]:this.state.userOrganisationUnits.toArray().map(function(e){return e.path}).concat(this.state.initiallyExpanded||[]);return s.a.createElement("div",{style:e.wrapperStyle},s.a.createElement(h.a,{onUpdateInput:this._searchOrganisationUnits.bind(this),onAutoCompleteValueSelected:this._onAutoCompleteValueSelected.bind(this),autoCompleteDataSource:(this.state.autoCompleteOrganisationUnits||[]).map(function(e){return e.name}),roots:n,selected:this.state.selectedOrganisationUnit?[this.state.selectedOrganisationUnit.path]:[],initiallyExpanded:r,onSelectClick:this._onChangeSelectedOrgUnit.bind(this),idsThatShouldBeReloaded:t||this.state.organisationUnitsToReload,noHitsLabel:this.context.d2.i18n.getTranslation("no_matching_organisation_units"),hideMemberCount:!0,hideCheckboxes:!0}))}return s.a.createElement(l.a,null)}return null}},{key:"_searchOrganisationUnits",value:function(e){n.i(p.a)(e).subscribe(function(){},function(e){return console.error(e)})}},{key:"_onChangeSelectedOrgUnit",value:function(e,t){n.i(f.c)({selectedOrganisationUnit:t}),this.setState({initiallyExpanded:t.path||[]})}},{key:"_onAutoCompleteValueSelected",value:function(e){var t=(this.state.autoCompleteOrganisationUnits||[]).find(function(t){return t.displayName===e});t&&this._onChangeSelectedOrgUnit(null,t)}},{key:"_onChangeSection",value:function(e){n.i(p.b)({section:this.state.currentSection,subSection:e})}},{key:"render",value:function(){if(!this.state||!this.state.sections)return s.a.createElement(l.a,null);var e={display:"flex",flexDirection:"column",flexFlow:"column",flex:1,position:"fixed",bottom:"0",top:"7rem"};return s.a.createElement("div",{style:e},s.a.createElement(d.a,{sections:this.state.sections,currentSection:this.state.activeItem||"-- not set --",onChangeSection:this._onChangeSection.bind(this)}),this.renderSidebarItems())}}]),t}(s.a.Component);b.contextTypes={d2:s.a.PropTypes.object},t.a=b},function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l});var r=n(37),i=n(56),o=n(101),a=n(14),s=(n.n(a),n(530)),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=r.a.create("onSectionChanged","SideBar");c.subscribe(function(e){var t=e.data;return"organisationUnitSection"===t.section&&"hierarchy"===t.subSection?n.i(o.c)(t.section+"/"+t.subSection):t.section?(n.i(i.c)({sideBar:Object.assign({},i.b.state.sideBar,{currentSection:t.section,currentSubSection:t.subSection})}),n.i(o.c)("/list/"+t.section+"/"+t.subSection)):(n.i(i.c)({sideBar:Object.assign({},i.b.state.sideBar,{currentSection:t.subSection,currentSubSection:void 0})}),n.i(o.c)("/list/"+t.subSection))}),r.a.create("onSectionChanged","SideBar").subscribe(function(){n.i(o.c)("/")});var l=r.a.create("onOrgUnitSearch","SideBar");l.distinctUntilChanged().debounceTime(400).map(function(e){var t=e.complete,r=e.error,i=e.data;return a.Observable.fromPromise(n.i(s.a)(i)).map(function(e){return{complete:t,error:r,organisationUnits:e}})}).concatAll().subscribe(function(e){var t=e.complete,r=e.organisationUnits;n.i(i.c)({sideBar:Object.assign(u({},i.b.state.sideBar),{organisationUnits:r})}),t()})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var n=t.i18n,r=t.currentUser;return"organisationUnitSection"===e&&r.authorities.has("F_ORGANISATIONUNIT_MOVE")?[{key:"hierarchy",label:n.getTranslation("hierarchy_operations"),icon:u.a.createElement(p.a,{className:"material-icons"},"folder_open")}]:[]}n.d(t,"b",function(){return _});var s=n(0),u=n.n(s),c=n(56),l=n(294),p=n.n(l),f=n(88),d=n(117),h=n(514),m=n(14),y=(n.n(m),n(13)),b=(n.n(y),function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),v(t,[{key:"shouldComponentUpdate",value:function(){return!1}}]),t}(p.a);g.defaultProps={className:"material-icons",children:"folder_open"};var w=c.b.combineLatest(m.Observable.fromPromise(n.i(y.getInstance)())).map(function(e){var t=b(e,2),n=t[0],r=t[1],i=n.userOrganisationUnits,o=n.selectedOrganisationUnit,s=n.sideBar,c=s.currentSection,l=s.currentSubSection;return{sections:(n.sideBar[c]||n.sideBar.mainSections).map(function(e){return e}).map(function(e){return Object.assign({icon:u.a.createElement(g,null)},e)}).concat(a(c,r)),currentSection:c,currentSubSection:l,activeItem:l||c,selectedOrganisationUnit:o,userOrganisationUnits:i,autoCompleteOrganisationUnits:n.sideBar.organisationUnits}});t.a=w;var O=f.a.saveObject.map(function(){return d.a.state}).filter(function(e){return"organisationUnit"===e.modelDefinition.name}).map(function(e){return e.parent||e}),S=h.b.filter(function(e){return e.modelType&&"organisationUnit"===e.modelType}).flatMap(function(){return m.Observable.fromPromise(n.i(c.e)())}).map(function(){return c.b.getState().selectedOrganisationUnit}),_=m.Observable.merge(O,S)},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(420),a=n.n(o),s=n(331),u=n(518),c=n(15),l=n.n(c),p=i.a.createClass({displayName:"SnackBarContainer",mixins:[u.a],getInitialState:function(){return{show:!1,snack:{message:""}}},componentWillMount:function(){var e=this,t=s.a.subscribe(function(t){t?e.setState({snack:t,show:!0}):e.setState({show:!1})},l.a.debug.bind(l.a));this.registerDisposable(t)},_closeSnackbar:function(){this.setState({show:!1})},render:function(){return this.state.snack?i.a.createElement(a.a,{style:{maxWidth:"auto",zIndex:5},bodyStyle:{maxWidth:"auto"},ref:"snackbar",message:this.state.snack.message,action:this.state.snack.action,autoHideDuration:0,open:this.state.show,onActionTouchTap:this.state.snack.onActionTouchTap,onRequestClose:this._closeSnackbar}):null}});t.a=p},function(e,t,n){"use strict";var r=n(14),i=(n.n(r),n(80)),o=n(13),a=(n.n(o),n(11)),s=(n.n(a),n(330)),u=n(59),c=n(67),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=r.Observable.fromPromise(n.i(o.getInstance)()),f=function(e){var t=e.ofType(s.b).map(function(e){return e.payload});return r.Observable.merge(t.filter(function(e){return!e.translate}),t.filter(function(e){return e.translate}).combineLatest(p,function(e,t){return l({},e,{translate:!1,message:t.i18n.getTranslation(e.message)})})).map(function(e){return n.i(s.c)(e)})},d=function(e){return e.ofType(s.a).do(function(e){var t=e.payload;return c.a.show(t)}).mergeMapTo(r.Observable.empty())},h=function(e){return e.ofType(u.d).map(function(e){var t=e.payload;return n.i(a.isString)(t)?{message:t,translate:!0}:t}).map(s.d)};t.a=n.i(i.a)(f,d,h)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{show:!1};switch(arguments[1].type){case i.a:}return e}t.a=r;var i=n(330)},function(e,t,n){"use strict";function r(e){var t={navStyle:{display:"flex",flexOrientation:"row",position:"fixed",background:"#E4E4E4",width:"100%",zIndex:10,top:"44px",flex:1},navButtonStyle:{display:"inline-block",padding:"1rem",width:"100%",borderBottom:"2px solid #DDD",color:"#AAA"},navWrapButtonStyle:{width:"auto"},extraButtons:{flex:0,textAlign:"right"},tabItemContainerStyle:{width:"auto",backgroundColor:"transparent"},tabsStyle:{},tabsWrap:{flex:1},tabStyle:{color:"rgba(0,0,0,0.6)"},disabledTabStyle:{color:"rgba(0,0,0,0.2)"},inkBarStyle:{},disabledInkBarStyle:{opacity:.4}},n=e.sections.map(function(n,r){return o.a.createElement(l.a,{key:r,style:e.disabled?t.disabledTabStyle:t.tabStyle,disabled:e.disabled,label:n.label,value:n.key})});return o.a.createElement("div",{style:t.navStyle},o.a.createElement("div",{style:t.tabsWrap},o.a.createElement(u.a,{value:e.current,onChange:e.changeSection,style:t.tabsStyle,tabItemContainerStyle:t.tabItemContainerStyle,inkBarStyle:e.disabled?t.disabledInkBarStyle:t.inkBarStyle},n)),o.a.createElement("div",{style:t.extraButtons},o.a.createElement(a.a,{disabled:e.disabled})))}var i=n(0),o=n.n(i),a=n(584),s=n(158),u=n.n(s),c=n(123),l=n.n(c),p=n(210),f=n.n(p);r.propTypes={sections:i.PropTypes.array,current:i.PropTypes.string,changeSection:i.PropTypes.func},r.defaultProps={sections:[],current:"unknown",changeSection:f.a},t.a=r},function(e,t,n){"use strict";function r(){n.i(l.c)("/group-editor")}function i(e,t){var n=e.icon,r=e.toolTipText,i=e.onClick,o=e.disabled,a=t.d2,u={buttonStyle:{color:"rgba(0,0,0,0.6)"},disabledButtonStyle:{color:"rgba(0,0,0,0.2)"}};return s.a.createElement(c.a,{iconClassName:"material-icons",tooltip:a.i18n.getTranslation(r),tooltipPosition:"bottom-left",onClick:i,iconStyle:o?u.disabledButtonStyle:u.buttonStyle,disabled:o},n)}function o(e,t){var r=t.d2;return s.a.createElement("div",null,function(){return r.currentUser.canCreate(r.models.dataElementGroup)||r.currentUser.canCreate(r.models.indicatorGroup)}()?s.a.createElement(d,{disabled:e.disabled}):n.i(f.e)())}var a=n(0),s=n.n(a),u=n(85),c=n.n(u),l=n(101),p=n(33),f=n(141),d=n.i(f.b)(n.i(f.a)({icon:s.a.createElement("span",null,""),toolTipText:"metadata_group_editor",onClick:r}),p.a)(i);t.a=n.i(p.a)(o)},function(e,t,n){"use strict";var r=n(0),i=(n.n(r),n(586));t.a=new Map([["dataElementAttribute",{component:i.a}]])},function(e,t,n){"use strict";function r(e){var t=e.model,n=Object.keys(t).filter(y).sort().map(function(e){return o.a.createElement("div",{key:e,style:m.item},o.a.createElement(l.a,{labelText:o.a.createElement(u.a,null,b(e)),value:t[""+e],onChange:h(e)}))});return o.a.createElement("div",{style:m.field},o.a.createElement(c.a,{level:5,style:m.heading},o.a.createElement(u.a,null,"the_custom_attribute_will_be_applied_to_the_selected_objects")),o.a.createElement("div",{style:m.wrap},n))}t.a=r;var i=n(0),o=n.n(i),a=n(82),s=n.n(a),u=n(71),c=n(150),l=n(126),p=n(88),f=n(11),d=(n.n(f),n.i(f.get)("target.value")),h=function(e){return function(t){return p.a.update({fieldName:e,value:d(t)})}},m={field:{paddingTop:"1rem"},wrap:{display:"flex",flexDirection:"column",flexWrap:"wrap",maxHeight:"500px"},item:{maxHeight:"48px"},heading:{fontSize:"1.2rem"}},y=function(e){return/Attribute$/.test(e)},b=function(e){return s()(e.replace(/Attribute$/,""))}},function(e,t,n){"use strict";var r=n(166);t.a=new Map([["organisationUnits",{component:r.a,fieldOptions:{}}]])},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(39),c=n.n(u),l=n(103),p=n.n(l),f=n(34),d=n.n(f),h=n(212),m=n.n(h),y=n(46),b=n.n(y),v=n(51),g=n.n(v),w=n(157),O=n.n(w),S=n(89),_=(n.n(S),n(779)),E=n.n(_),x=n(730),T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),P={periodRow:{display:"flex"},periodColumn:{flex:2,paddingTop:16},dateColumn:{flex:1},datePicker:{display:"inline-block"},datePickerField:{width:100},periodPicker:{display:"inline-block"},iconButton:{top:4},divider:{marginTop:-9},openDialogButton:{margin:"16px 0"}},C=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.state={dialogOpen:!1,dataInputPeriods:e.value},o.getTranslation=n.d2.i18n.getTranslation.bind(n.d2.i18n),o.openDialog=o.openDialog.bind(o),o.closeDialog=o.closeDialog.bind(o),o.addPeriod=o.addPeriod.bind(o),o.removePeriod=o.removePeriod.bind(o),o.changePeriodDate=o.changePeriodDate.bind(o),o.handleCancel=o.handleCancel.bind(o),o.handleSave=o.handleSave.bind(o),o}return o(t,e),T(t,[{key:"openDialog",value:function(){this.setState({dialogOpen:!0,dataInputPeriods:(this.props.value||[]).sort(function(e,t){return e.period.id.localeCompare(t.period.id)})})}},{key:"closeDialog",value:function(){this.setState({dialogOpen:!1})}},{key:"addPeriod",value:function(e){this.setState({dataInputPeriods:this.state.dataInputPeriods.concat({id:n.i(S.generateUid)(),period:{id:e}})})}},{key:"removePeriod",value:function(e){this.setState({dataInputPeriods:this.state.dataInputPeriods.filter(function(t){return t.id!==e})})}},{key:"changePeriodDate",value:function(e,t,n,r){this.setState({dataInputPeriods:this.state.dataInputPeriods.map(function(n){return n.id===e&&(n[t]=r),n})})}},{key:"handleCancel",value:function(){this.closeDialog()}},{key:"handleSave",value:function(){this.props.onChange({target:{value:this.state.dataInputPeriods.map(function(e){return{id:e.id,period:{id:e.period.id},openingDate:e.openingDate,closingDate:e.closingDate}})}}),this.closeDialog()}},{key:"renderDatePicker",value:function(e,t,n,r){return s.a.createElement("div",{style:P.dateColumn},s.a.createElement(m.a,{floatingLabelText:e,style:P.datePicker,textFieldStyle:P.datePickerField,value:t,container:"inline",autoOk:!0,onChange:n}),t&&s.a.createElement(b.a,{style:P.iconButton,onClick:r},s.a.createElement(g.a,{className:"material-icons",color:"rgba(0,0,0,0.35)",hoverColor:"rgba(0,0,0,0.8)",style:{top:4}},"clear")))}},{key:"renderPeriods",value:function(){var e=this,t=function(t){return function(){return e.removePeriod(t)}},n=function(t,n){return e.changePeriodDate.bind(e,t,n)},r=function(t,n){return function(){return e.changePeriodDate(t,n,null,null)}};return this.state.dataInputPeriods&&this.state.dataInputPeriods.map(function(i){return s.a.createElement("div",{key:i.id},s.a.createElement("div",{style:P.periodRow},s.a.createElement("div",{style:P.periodColumn},s.a.createElement(b.a,{style:P.iconButton,onClick:t(i.id)},s.a.createElement(g.a,{className:"material-icons",color:"rgba(0,0,0,0.35)",hoverColor:"rgba(0,0,0,0.8)",style:{top:4}},"delete")),E()(i.period.id).name),e.renderDatePicker(e.getTranslation("opening_date"),i.openingDate&&new Date(i.openingDate),n(i.id,"openingDate"),r(i.id,"openingDate")),e.renderDatePicker(e.getTranslation("closing_date"),i.closingDate&&new Date(i.closingDate),n(i.id,"closingDate"),r(i.id,"closingDate"))),s.a.createElement(O.a,{style:P.divider}))})}},{key:"render",value:function(){var e=[s.a.createElement(d.a,{label:this.getTranslation("cancel"),style:{marginRight:16},onClick:this.handleCancel}),s.a.createElement(p.a,{primary:!0,label:this.getTranslation("confirm"),onClick:this.handleSave})];return s.a.createElement("div",null,s.a.createElement(p.a,{label:this.getTranslation("data_input_periods"),style:P.openDialogButton,onClick:this.openDialog}),s.a.createElement(c.a,{open:this.state.dialogOpen,onRequestClose:this.closeDialog,title:this.props.labelText,actions:e,autoScrollBodyContent:!0,autoDetectWindowHeight:!0},this.renderPeriods(),s.a.createElement("div",{style:P.periodPicker},s.a.createElement(x.a,{periodType:this.props.model.periodType,onPickPeriod:this.addPeriod}))))}}]),t}(s.a.Component);C.contextTypes={d2:s.a.PropTypes.any},t.a=C},function(e,t,n){"use strict";function r(e,t){var n=e.dataSetElements,r=e.categoryCombos,i=e.onCategoryComboSelected,o=t.d2,s={elementListItem:{width:"49%"},noDataElementMessage:{paddingTop:"2rem"},originalCategoryCombo:{color:"#CCC",fontSize:"1rem",fontWeight:"300"}},u=M(o,r),c=n.sort(function(e,t){return(e.dataElement&&e.dataElement.displayName||"").localeCompare(t.dataElement&&t.dataElement.displayName)}).map(function(e){var t=e.categoryCombo,n=void 0===t?{}:t,r=e.dataElement,o=void 0===r?{}:r,c=u(o.categoryCombo.id);return a.a.createElement(E.a,{key:e.dataElement.id,style:{alignItems:"center"}},a.a.createElement("div",{style:s.elementListItem},a.a.createElement("div",null,o.displayName),a.a.createElement("div",{style:s.originalCategoryCombo},o.categoryCombo.displayName)),a.a.createElement("div",{style:s.elementListItem},a.a.createElement(D,{categoryCombos:c,value:n.id,onChange:function(t){return i(e,t)}})))});return 0===c.length?a.a.createElement("div",{style:s.noDataElementMessage},o.i18n.getTranslation("select_a_data_element_before_applying_an_override")):a.a.createElement(_.a,null,c)}function i(e){var t=e.categoryCombos,n=e.dataSetElements,i=e.onCategoryComboSelected,o=e.d2.i18n,s=[a.a.createElement(S.a,{label:o.getTranslation("close"),primary:!0,onTouchTap:e.onRequestClose})];return a.a.createElement("div",null,a.a.createElement(y.a,{onClick:e.onRequestOpen,tooltip:o.getTranslation("Override_the_data_element_category_combination"),tooltipPosition:"top-left"},a.a.createElement(v.a,null)),a.a.createElement(w.a,{title:o.getTranslation("Override_the_data_element_category_combination"),open:e.open,onRequestClose:e.onRequestClose,actions:s,modal:!0,autoScrollBodyContent:!0},a.a.createElement(r,{dataSetElements:Array.from(n||[]),categoryCombos:t,onCategoryComboSelected:i})))}var o=n(0),a=n.n(o),s=n(98),u=n.n(s),c=n(143),l=n.n(c),p=n(47),f=n.n(p),d=n(142),h=n.n(d),m=n(85),y=n.n(m),b=n(977),v=n.n(b),g=n(292),w=n.n(g),O=n(68),S=n.n(O),_=n(301),E=n(209),x=n(118),T=n.n(x),P=n(84),C=n.n(P),j=n(11),k=(n.n(j),n(71)),A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I=f()(h()({d2:o.PropTypes.object}),u()("open","updateOpen",!1),l()({onRequestClose:function(e){return function(){e.updateOpen(!1)}},onRequestOpen:function(e){return function(){e.updateOpen(!0)}}})),R=n.i(j.memoize)(function(e){return n.i(j.map)(function(e){var t=e.displayName,n=e.id;return a.a.createElement(C.a,{key:n,primaryText:t,value:n})},e)}),N=l()({onChange:function(e){var t=e.categoryCombos,n=void 0===t?new Map:t,r=e.onChange;return function(e,t,i){r(n.find(function(e){return e.id===i}))}}}),D=N(function(e){var t=e.categoryCombos,n=e.value,r=e.onChange,i=R(t);return a.a.createElement(T.a,{value:n,onChange:r,fullWidth:!0,floatingLabelText:a.a.createElement(k.a,null,"override_data_element_category_combo")},i)}),M=function(e,t){return n.i(j.memoize)(function(n){return t.reduce(function(t,r){return r.id===n?(t.unshift(A({},r,{displayName:e.i18n.getTranslation("no_override")})),t):(t.push(r),t)},[])})};r.contextTypes={d2:o.PropTypes.object},t.a=I(i)},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){var n=Array.from(e||[]).find(function(e){return e.dataElement&&e.dataElement.id===t.id});if(n&&n.categoryCombo&&n.categoryCombo.id!==t.categoryCombo.id)return n.categoryCombo.displayName}function c(e,t){var n=u(e,t);return n?t.displayName+" ("+n+")":t.displayName}var l=n(0),p=n.n(l),f=n(13),d=(n.n(f),n(89)),h=(n.n(d),n(14)),m=(n.n(h),n(15)),y=n.n(m),b=n(279),v=n.n(b),g=n(102),w=n.n(g),O=n(151),S=n(23),_=n(209),E=n(589),x=n(11),T=(n.n(x),n(45)),P=n.n(T),C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),k=function(){var e=i(regeneratorRuntime.mark(function e(){var t,i,o,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.i(f.getInstance)();case 2:return t=e.sent,i=t.Api.getApi(),e.next=6,i.get("metadata",{"dataElements:fields":"id,displayName,categoryCombo[id]","dataElements:filter":"domainType:eq:AGGREGATE","categoryCombos:fields":"id,displayName","categoryCombos:filter":"dataDimensionType:eq:DISAGGREGATION"});case 6:return o=e.sent,a=o.system,s=r(o,["system"]),e.abrupt("return",C({},s));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),A={fieldWrap:{marginBottom:"5rem"},label:{position:"relative",display:"block",width:"calc(100% - 60px)",lineHeight:"24px",color:"rgba(0,0,0,0.3)",marginTop:"1rem",fontSize:16}},I=function(e){function t(e,r){o(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return i._assignItems=function(e){var t=function(e){return n.i(x.range)(0,e,1).map(function(){return n.i(d.generateUid)()})}(e.length);return e.map(function(e){return i.props.dataElements.find(function(t){return t.id===e})}).filter(function(e){return e}).forEach(function(e,n){var r={id:t[n],dataElement:e,dataSet:{id:i.props.dataSet.id}};i.props.dataSet.dataSetElements=[].concat(i.props.dataSet.dataSetElements||[]).concat([r])}),function(){var t=new Set(i.state.assignedItemStore.getState().concat(e));i.state.assignedItemStore.setState(Array.from(t)),i.updateForm(Array.from(t)),i.updateCategoryCombosForDataSetElements()}(),Promise.resolve()},i._removeItems=function(e){var t=function(){var t=new Set(i.state.assignedItemStore.getState());e.forEach(function(e){return t.delete(e)}),i.state.assignedItemStore.setState(Array.from(t)),i.updateForm(Array.from(t))};return Promise.resolve(!0).then(function(){i.props.dataSet.dataSetElements=Array.from(i.props.dataSet.dataSetElements).filter(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t){var r=t.dataElement,i=void 0===r?{}:r;return n.i(x.get)("id",i)&&!e.includes(n.i(x.get)("id",i))}}(e))}).then(t).catch(function(e){return y.a.error(e)})},i._updateCategoryComboForDataSetElement=function(e,t){var n=i.props.dataSet.dataSetElements;if(n.some(function(t){return t===e})){n.find(function(t){return t===e}).categoryCombo=t,i.props.onChange({target:{value:n}})}},i.updateForm=function(e){i.state.assignedItemStore.setState(n.i(x.uniq)([].concat(e))),i.props.onChange({target:{value:i.props.dataSet.dataSetElements}})},i.setFilterText=function(e,t){i.setState({filterText:t})},i.state={itemStore:S.a.create(),assignedItemStore:S.a.create(),filterText:""},i.updateCategoryCombosForDataSetElements(),i.state.itemStore.setState(e.dataElements.map(function(t){return{text:c(e.dataSet.dataSetElements,t),value:t.id}})),i.state.assignedItemStore.setState(Array.from(e.dataSet.dataSetElements||[]).filter(function(e){return e.dataElement}).sort(function(e,t){return(e.dataElement&&e.dataElement.displayName||"").localeCompare(t.dataElement&&t.dataElement.displayName)}).map(function(e){return e.dataElement.id})),i}return s(t,e),j(t,[{key:"componentDidMount",value:function(){this.props.loadMetaData()}},{key:"componentWillReceiveProps",value:function(e){this.state.itemStore.setState(e.dataElements.map(function(t){return{text:c(e.dataSet.dataSetElements,t),value:t.id}})),this.state.assignedItemStore.setState(Array.from(e.dataSet.dataSetElements||[]).filter(function(e){return e.dataElement}).sort(function(e,t){return(e.dataElement&&e.dataElement.displayName||"").localeCompare(t.dataElement&&t.dataElement.displayName)}).map(function(e){return e.dataElement.id}))}},{key:"updateCategoryCombosForDataSetElements",value:function(){Array.from(this.props.dataSet.dataSetElements||[]).forEach(function(e){e.dataElement&&e.dataElement.categoryCombo&&!e.categoryCombo&&(e.categoryCombo=e.dataElement.categoryCombo)})}},{key:"render",value:function(){var e=this.props,t=e.categoryCombos,n=e.dataSet;return p.a.createElement("div",{style:A.fieldWrap},p.a.createElement("label",{style:A.label},this.props.labelText),p.a.createElement(_.a,{flexValue:"0 0 auto",style:{justifyContent:"space-between"}},p.a.createElement(P.a,{value:this.state.filterText,onChange:this.setFilterText,fullWidth:!0,hintText:this.context.d2.i18n.getTranslation("search_available_selected_items")}),p.a.createElement(E.a,{dataSetElements:n.dataSetElements,categoryCombos:t,onCategoryComboSelected:this._updateCategoryComboForDataSetElement})),p.a.createElement(O.a,{itemStore:this.state.itemStore,assignedItemStore:this.state.assignedItemStore,onAssignItems:this._assignItems,onRemoveItems:this._removeItems,height:250,filterText:this.state.filterText}))}}]),t}(l.Component);I.contextTypes={d2:l.PropTypes.object};var R=S.a.create(),N=function(){return k().then(function(e){return R.setState(e)})},D=function(e){return h.Observable.combineLatest(e,R.startWith({dataElements:[],categoryCombos:[]}),function(e,t){return C({},t,e)}).map(function(e){var t=e.model,n=e.dataElements,i=e.categoryCombos,o=r(e,["model","dataElements","categoryCombos"]);return p.a.createElement(I,C({},o,{dataSet:t,dataElements:n,categoryCombos:i,onChange:o.onChange,loadMetaData:N}))}).startWith(p.a.createElement(w.a,null))};t.a=v()(D)},function(e,t,n){"use strict";t.a=new Map([["aggregationLevels",{referenceType:"organisationUnitLevel",fieldOptions:{}}],["aggregationType",{fieldOptions:{options:["SUM","AVERAGE","COUNT","STDDEV","VARIANCE","MIN","MAX","NONE","AVERAGE_SUM_ORG_UNIT"]}}],["categoryCombo",{fieldOptions:{queryParamFilter:["dataDimensionType:eq:DISAGGREGATION","name:eq:default"]}}]])},function(e,t,n){"use strict";var r=n(0),i=(n.n(r),n(166)),o=n(590),a=n(588),s=n(167);t.a=new Map([["categoryCombo",{referenceType:"categoryCombo",fieldOptions:{queryParamFilter:["dataDimensionType:eq:ATTRIBUTE","name:eq:default"]}}],["periodType",{component:s.a}],["organisationUnits",{component:i.a,fieldOptions:{}}],["dataSetElements",{component:o.a}],["dataInputPeriods",{component:a.a}]])},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(69),a=n(127),s=n(220),u=n(88),c=n(161),l=n(33);t.a=new Map([["imageFormat",{component:n.i(l.a)(function(e,t){var n=t.d2;return"WMS"===e.model.mapService?i.a.createElement(s.a,null,i.a.createElement(o.a,{labelText:e.labelText,options:e.options,value:e.model.imageFormat,onChange:function(e){u.a.update({fieldName:"imageFormat",value:e.target.value})},isRequired:!0,style:{width:"97.5%"}}),i.a.createElement("div",{style:{clear:"both"}}),i.a.createElement(a.a,{labelText:n.i18n.getTranslation("layers"),value:e.model.layers||"",onChange:function(e){u.a.update({fieldName:"layers",value:e.target.value})},style:{width:"97.5%"}})):null})}],["url",{validators:[{validator:c.b,message:c.b.message}]}],["legendSetUrl",{validators:[{validator:c.b,message:c.b.message}]}],["mapLayerPosition",{required:!0}]])},function(e,t,n){"use strict";var r=n(585),i=n(591),o=n(595),a=n(592),s=n(597),u=n(598),c=n(587),l=n(596),p=n(619),f=n(599),d=n(616),h=n(593),m=n(626),y=n(625),b=n(612),v=n(613),g=n(611),w=n(614),O=n(615),S={attribute:r.a,dataElement:i.a,indicator:o.a,dataSet:a.a,organisationUnit:s.a,organisationUnitGroup:u.a,categoryOption:c.a,legendSet:l.a,trackedEntityAttribute:p.a,predictor:f.a,pushAnalysis:d.a,externalMapLayer:h.a,validationNotificationTemplate:y.a,program:g.a,programIndicator:b.a,programNotificationTemplate:v.a,programRule:w.a,programRuleVariable:O.a,validationRule:m.a};t.a={for:function(e){return e&&S[e]?S[e]:new Map}}},function(e,t,n){"use strict";var r=n(335);t.a=new Map([r.a])},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(13),c=(n.n(u),n(102)),l=n.n(c),p=n(117),f=n(15),d=(n.n(f),n(725)),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.updateLegends=function(e){var t=p.a.getState();t[o.props.referenceProperty]=e,o.props.onChange({target:{value:t[o.props.referenceProperty]}})},o.state={isLoading:!0,Legend:null},o}return o(t,e),h(t,[{key:"loadLegendComponent",value:function(){var e=this;return n.e(1).then(n.bind(null,1352)).then(function(t){e.setState({Legend:t.default,isLoading:!1})})}},{key:"componentDidMount",value:function(){this.loadLegendComponent()}},{key:"render",value:function(){var e=this.props.value||[];return this.state.isLoading||!this.state.Legend?s.a.createElement(l.a,null):s.a.createElement("div",null,s.a.createElement(this.state.Legend,{items:e,onItemsChange:this.updateLegends}),s.a.createElement(d.a,{message:this.props.errorText}))}}]),t}(a.Component);t.a=new Map([["legends",{component:m,validators:[{message:"overlapping_legends_not_allowed",validator:function(e){return Array.from(e.values()).every(function(e,t,n){var r=n[t+1];return!r||Number(r.startValue)>=Number(e.endValue)})}},{message:"Gaps_in_the_legends_are_not_allowed",validator:function(e){return Array.from(e.values()).every(function(e,t,n){var r=n[t+1];return!r||Number(e.endValue)>=Number(r.startValue)})}}]}]])},function(e,t,n){"use strict";var r=n(634),i=n(629);t.a=new Map([["parent",{component:r.a,fieldOptions:{labelText:"parent_organisation_unit"}}],["coordinates",{component:i.a,fieldOptions:{}}]])},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(632),c=n(166),l=n(13),p=(n.n(l),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),a=n.d2.Api.getApi().baseUrl,s=/\/api(?:\/[0-9]{2})?$/,u=a.replace(s,"");return o.imgPath=u+"/images/orgunitgroup",o}return o(t,e),f(t,[{key:"render",value:function(){return s.a.createElement(u.a,p({},this.props,{imgPath:this.imgPath}))}}]),t}(s.a.Component);d.contextTypes={d2:s.a.PropTypes.any},t.a=new Map([["symbol",{component:d,fieldOptions:{options:function(){for(var e=[],t=1;t<=40;t++){var n=t>9?t:"0"+t;e.push(n+"."+(t>25?"svg":"png"))}return e}()}}],["organisationUnits",{component:c.a,fieldOptions:{}}]])},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function s(e){var t=e.open,n=e.handleClose,r=e.handleSaveAndClose,i=a(e,["open","handleClose","handleSaveAndClose"]),o={width:"100%",maxWidth:"none"},s=[h.a.createElement(v.a,{label:"Cancel",primary:!0,onTouchTap:n}),h.a.createElement(v.a,{label:"Submit",primary:!0,onTouchTap:r})];return h.a.createElement(y.a,{open:t,actions:s,contentStyle:o,style:{padding:"1rem"},onRequestClose:n},h.a.createElement(u.a,{descriptionLabel:"description",descriptionValue:i.value?i.value.description:"",formulaValue:i.value?i.value.expression:"",expressionStatusStore:E,expressionChanged:i.indicatorExpressionChanged,titleText:i.labelText}))}var u=(n(160),n(300)),c=n(23),l=n(37),p=n(13),f=(n.n(p),n(14)),d=(n.n(f),n(0)),h=n.n(d),m=n(39),y=n.n(m),b=n(34),v=n.n(b),g=n(103),w=n.n(g),O=n(167),S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=c.a.create();l.a.createActionsFromNames(["requestExpressionStatus"]).requestExpressionStatus.debounceTime(500).map(function(e){var t=encodeURIComponent(e.data),r="expressions/description?expression="+t,i=n.i(p.getInstance)().then(function(e){return e.Api.getApi().get(r)});return f.Observable.fromPromise(i)}).concatAll().subscribe(function(e){E.setState(e)});var x=function(e){function t(){var e,n,o,a;r(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.state={open:!1,value:o.props.value},o.handleOpen=function(){E.setState({}),o.setState({open:!0,value:o.props.value})},o.handleClose=function(){o.setState({open:!1})},o.handleSaveAndClose=function(){o.setState({open:!1},function(){o.props.onChange({target:{value:o.state.value}})})},o.indicatorExpressionChanged=function(e){var t=e.formula,n=e.description;o.setState({value:Object.assign({},o.state.value,{expression:t,description:n})})},a=n,i(o,a)}return o(t,e),_(t,[{key:"render",value:function(){var e=this.props,t={fieldWrap:{padding:"1rem 0"},errorText:{paddingTop:"0.5rem",color:"red"}};return h.a.createElement("div",{style:t.fieldWrap},h.a.createElement(w.a,{label:this.props.labelText,onTouchTap:this.handleOpen}),e.errorText?h.a.createElement("div",{style:t.errorText},e.errorText):null,h.a.createElement(s,S({},e,{open:this.state.open,handleClose:this.handleClose,handleSaveAndClose:this.handleSaveAndClose,indicatorExpressionChanged:this.indicatorExpressionChanged})))}}]),t}(d.Component);x.defaultProps={indicatorExpressionChanged:function(){}},x.contextTypes={d2:d.PropTypes.object},t.a=new Map([["periodType",{component:O.a}],["generator",{component:x,validators:[{validator:function(e){return Boolean(e&&e.description)},message:"description_is_required"},{validator:function(e){return Boolean(e&&e.expression)},message:"expression_is_required"}]}],["sampleSkipTest",{component:x,validators:[{validator:function(e){return Boolean(e&&e.description)},message:"description_is_required"},{validator:function(e){return Boolean(e&&e.expression)},message:"expression_is_required"}]}]])},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var i=n(72),o=n.n(i),a=n(11),s=(n.n(a),n(165)),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=o()(function(e){var t=e.program,i=e.onSelect,o=void 0===i?a.noop:i,s=r(e,["program","onSelect"]),c=n.i(a.getOr)([],"programTrackedEntityAttributes",t).map(n.i(a.get)("trackedEntityAttribute")).filter(a.identity).map(function(e){return{label:e.displayName,value:"A{"+e.id+"}"}});return u({},s,{items:c,onItemClick:o})})(s.a);t.a=c},function(e,t,n){"use strict";function r(e){var t=e.listSources,n=e.onSelect,r=t.map(function(e){var t=e.label,r=e.items;return o.a.createElement(a.a,{key:t,label:t,items:r,onItemClick:n})});return o.a.createElement("div",null,r)}var i=n(0),o=n.n(i),a=n(165);t.a=r},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var i=n(87),o=n.n(i),a=n(11),s=(n.n(a),n(241)),u=n(14),c=(n.n(u),n(165)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=o()(function(e){return e.combineLatest(u.Observable.fromPromise(n.i(s.a)("constant")).startWith([]),function(e,t){var n=e.onSelect,i=void 0===n?a.noop:n,o=r(e,["onSelect"]);return l({},o,{items:t.map(function(e){return{value:"C{"+e.id+"}",label:e.displayName}}),onItemClick:i})})}),f=p(c.a);t.a=f},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var i=n(0),o=n.n(i),a=n(279),s=n.n(a),u=n(159),c=n.n(u),l=n(213),p=n.n(l),f=n(11),d=(n.n(f),n(14)),h=(n.n(d),n(13)),m=(n.n(h),n(265)),y=n.n(m),b=n(601),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g=n.i(f.memoize)(function(e){return d.Observable.fromPromise(n.i(h.getInstance)()).mergeMap(n.i(f.memoize)(function(t){return t.models.programStages.filter().on("program.id").equals(e).list({fields:"id,displayName,programStageDataElements[id,dataElement[id,displayName]"})}))}),w=s()(function(e){return e.flatMap(function(e){var t=e.program,i=r(e,["program"]);return g(t).map(function(e){var t=e.toArray(),r=t.map(function(e){var t=n.i(f.compose)(f.values,n.i(f.getOr)([],"programStageDataElements"))(e);return{label:e.displayName,items:t.map(function(t){var n=t.dataElement;return{label:n.displayName,value:"#{"+e.id+"."+n.id+"}"}})}});return v({},i,{listSources:r})})}).map(function(e){return o.a.createElement(b.a,e)}).startWith(o.a.createElement(y.a,null))}),O=n.i(f.compose)(f.isNil,n.i(f.get)("program"));t.a=c()(O,p.a)(w)},function(e,t,n){"use strict";function r(e){return e===_.VALID?v.green500:e===_.INVALID?v.red500:v.orange500}function i(e){return e===_.VALID?v.green50:e===_.INVALID?v.red50:v.orange50}n.d(t,"c",function(){return _}),t.a=r,t.b=i;var o=n(72),a=n.n(o),s=n(159),u=n.n(s),c=n(982),l=n.n(c),p=n(438),f=n.n(p),d=n(529),h=n.n(d),m=n(1049),y=n.n(m),b=n(11),v=(n.n(b),n(40)),g=(n.n(v),y()("span",a()(function(e){return{color:v.red500}})(l.a))),w=y()("span",a()(function(e){return{color:v.green500}})(f.a)),O=y()("span",a()(function(e){return{color:v.orange500}})(f.a)),S=n.i(b.compose)(u()(function(e){return e.status===_.VALID},h()(w)),u()(function(e){return e.status===_.INVALID},h()(g)))(O),_={VALID:"VALID",INVALID:"INVALID",PENDING:"PENDING"};t.d=S},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var i=n(87),o=n.n(i),a=n(11),s=(n.n(a),n(14)),u=(n.n(s),n(13)),c=(n.n(u),n(165)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};u.config.i18n.strings.add("enrollment_count"),u.config.i18n.strings.add("program_stage_id"),u.config.i18n.strings.add("enrollment_status"),u.config.i18n.strings.add("tei_count");var p=["event_date","due_date","incident_date","current_date","completed_date","value_count","zero_pos_value_count","event_count","program_stage_name","program_stage_id"],f=["enrollment_count","tei_count","enrollment_date","enrollment_status"],d=function(e){return"WITH_REGISTRATION"===e?p.concat(f):p},h=s.Observable.fromPromise(n.i(u.getInstance)()),m=o()(function(e){return e.mergeMap(function(e){var t=e.programType,n=r(e,["programType"]),i=d(t);return h.map(function(e){return l({},n,{variables:i.map(function(t){return{label:e.i18n.getTranslation(t),value:t}})})})}).map(function(e){var t=e.variables,n=e.onSelect,i=void 0===n?a.noop:n,o=r(e,["variables","onSelect"]);return l({},o,{items:t.map(function(e){var t=e.label;return{value:"V{"+e.value+"}",label:t}}),onItemClick:i})})}),y=m(c.a);t.a=y},function(e,t,n){"use strict";function r(e){var t=e.value,n=void 0===t?[]:t,r=e.onChange,i=new Set(n);return o.a.createElement("div",null,o.a.createElement(s.a,{label:"SMS",checked:i.has("SMS"),onCheck:c(i,r)}),o.a.createElement(s.a,{label:"EMAIL",checked:i.has("EMAIL"),onCheck:l(i,r)}))}var i=n(0),o=n.n(i),a=n(163),s=n.n(a),u=function(e){return function(t,n){return function(){t.has(e)?t.delete(e):t.add(e),n({target:{value:Array.from(t)}})}}},c=u("SMS"),l=u("EMAIL");t.a=r},function(e,t,n){"use strict";function r(e){var t=e.onChangeBeforeAfter,n=e.beforeOrAfter,r=e.onChangeDays,i=e.d2,a=e.value,u=i.i18n.getTranslation.bind(i.i18n);return o.a.createElement("div",{style:w.wrap},o.a.createElement("span",null,u("send_notification")),o.a.createElement(c.a,{hintText:u("number_of_days"),value:Math.abs(a),onChange:r}),o.a.createElement("span",null,u("days")),o.a.createElement(s.a,{value:n,onChange:t},o.a.createElement(p.a,{value:"before",primaryText:u("before")}),o.a.createElement(p.a,{value:"after",primaryText:u("after")})),o.a.createElement("span",null,u("scheduled_date")))}var i=n(0),o=n.n(i),a=n(184),s=n.n(a),u=n(43),c=n.n(u),l=n(90),p=n.n(l),f=n(142),d=n.n(f),h=n(98),m=n.n(h),y=n(47),b=n.n(y),v=n(143),g=n.n(v),w={wrap:{display:"flex",flexDirection:"row",alignItems:"center"}},O=b()(d()({d2:i.PropTypes.object}),m()("beforeOrAfter","setBeforeOrAfter",function(e){return e.value>=0?"after":"before"}),g()({onChangeBeforeAfter:function(e){var t=e.onChange,n=e.setBeforeOrAfter,r=e.value;return function(e,i,o){var a="after"===o?Number(r):-1*Number(r);n(o),t({target:{value:a}})}},onChangeDays:function(e){var t=e.onChange,n=e.beforeOrAfter;return function(e,r){var i="after"===n?Number(r):-1*Number(r);Number.isNaN(i)||t({target:{value:i}})}}}));t.a=O(r)},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),u=n.n(s),c=n(203),l=n(39),p=n.n(l),f=n(34),d=n.n(f),h=n(103),m=n.n(h),y=n(69),b=n(127),v=n(333),g=n(334),w=n(67),O=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),S=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.state={programRuleAction:r.props.ruleActionModel},r.d2=n.d2,r.getTranslation=r.d2.i18n.getTranslation.bind(r.d2.i18n),r.save=r.save.bind(r),r.update=r.update.bind(r),r}return a(t,e),S(t,[{key:"componentDidMount",value:function(){var e=this;this.props.program&&this.props.program.id&&Promise.all([this.d2.models.programs.get(this.props.program.id,{fields:["programStages[id,displayName","programStageSections[id,displayName]","programStageDataElements[id,dataElement[id,displayName]]]"].join(",")}),this.d2.models.programs.get(this.props.program.id,{fields:"programTrackedEntityAttributes[id,trackedEntityAttribute[id,displayName]]"}),this.d2.models.programRuleVariables.list({filter:"program.id:eq:"+this.props.program.id,fields:"id,displayName,programRuleVariableSourceType",paging:!1})]).then(function(t){var n=O(t,3),r=n[0],i=n[1],o=n[2],a=Object.values(r.programStages.toArray().map(function(e){return e.programStageDataElements.map(function(e){return e.dataElement})}).reduce(function(e,t){return e.concat(t)},[]).reduce(function(e,t){return e[t.id]=t,e},{})).map(function(e){return{text:e.displayName,value:e.id,model:e}}).sort(function(e,t){return e.text.localeCompare(t.text)}),s=r.programStages.toArray().reduce(function(e,t){return e.concat(t.programStageSections.toArray())},[]).map(function(e){return{text:e.displayName,value:e.id,model:e}}).sort(function(e,t){return e.text.localeCompare(t.text)}),u=r.programStages.toArray().map(function(e){return{text:e.displayName,value:e.id,model:e}}).sort(function(e,t){return e.text.localeCompare(t.text)}),c=i.programTrackedEntityAttributes.map(function(e){return{text:e.trackedEntityAttribute.displayName,value:e.trackedEntityAttribute.id,model:e.trackedEntityAttribute}}).sort(function(e,t){return e.text.localeCompare(t.text)});e.setState({programStages:u,programSections:s,programDataElements:a,programTrackedEntityAttributes:c,programVariables:o.toArray().map(function(e){var t="TEI_ATTRIBUTE"===e.programRuleVariableSourceType?"A":"#";return{text:t+"{"+e.displayName+"}",value:t+"{"+e.displayName+"}"}})})}).catch(function(t){e.props.onRequestClose(),w.a.show({message:"Error: "+t,action:"ok"})})}},{key:"componentWillReceiveProps",value:function(e){e.programRuleAction&&this.setState({programRuleAction:e.ruleActionModel})}},{key:"save",value:function(){function e(){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.programRuleAction,n={dataElement:this.state.programDataElements,trackedEntityAttribute:this.state.programTrackedEntityAttributes,programStage:this.state.programStages,programStageSection:this.state.programSections},Object.keys(n).forEach(function(e){if(t[e]){var r=n[e].filter(function(n){return n.value===t[e]})[0];t[e]={id:r.value,displayName:r.text}}else t[e]=void 0}),!t.id){e.next=10;break}this.props.parentModel.programRuleActions.set(t.id,t),this.props.parentModel.programRuleActions.dirty=!0,this.props.onChange({target:{value:this.props.parentModel.programRuleActions}}),this.props.onRequestClose(),e.next=16;break;case 10:return e.next=12,this.d2.Api.getApi().get("/system/id");case 12:r=e.sent,this.props.parentModel.programRuleActions.add(Object.assign(t,{id:r.codes[0]})),this.props.onChange({target:{value:this.props.parentModel.programRuleActions}}),this.props.onRequestClose();case 16:case"end":return e.stop()}},e,this)}));return e}()},{key:"update",value:function(e,t){this.state.programRuleAction[e]=t,this.setState({programRuleAction:this.state.programRuleAction})}},{key:"render",value:function(){var e=this,t=this.d2.models.programRuleActions,n=this.state.programRuleAction,r=n.programRuleActionType,i=v.a[r],o=[{name:"programRuleActionType",component:y.a,props:{labelText:this.getTranslation("action")+" (*)",fullWidth:!0,options:t.modelProperties.programRuleActionType.constants.filter(function(e){return"CREATEEVENT"!==e||void 0!==n.id&&"CREATEEVENT"===n.programRuleActionType}).map(function(t){return{text:e.getTranslation(v.a[t].label),value:t}}),value:n.programRuleActionType,isRequired:!0}},{name:"location",component:y.a,props:{labelText:this.getTranslation("display_widget"),value:n.location,options:[{text:this.getTranslation("feedback_widget"),value:"feedback"},{text:this.getTranslation("program_indicator_widget"),value:"indicators"}],fullWidth:!0}},{name:"dataElement",component:y.a,props:{labelText:this.getTranslation("data_element"),options:this.state&&this.state.programDataElements||[],value:n.dataElement,fullWidth:!0}},{name:"trackedEntityAttribute",component:y.a,props:{labelText:this.getTranslation("tracked_entity_attribute"),options:this.state&&this.state.programTrackedEntityAttributes||[],value:n.trackedEntityAttribute,style:{display:n.trackedEntityAttribute?"inline-block":"none"},fullWidth:!0}},{name:"programStage",component:y.a,props:{labelText:this.getTranslation("program_stage"),options:this.state&&this.state.programStages||[],value:n.programStage,fullWidth:!0}},{name:"programStageSection",component:y.a,props:{labelText:this.getTranslation("program_stage_section"),options:this.state&&this.state.programSections||[],value:n.programStageSection,disabled:!this.state.programSections||0===this.state.programSections.length,fullWidth:!0}},{name:"content",component:"ASSIGN"===r?y.a:b.a,props:{labelText:this.getTranslation("content"),value:n.content,fullWidth:!0,options:"ASSIGN"===r?this.state.programVariables:void 0}},{name:"data",component:g.a,props:{labelText:this.getTranslation("data"),value:n.data,fullWidth:!0,hideOperators:!0,quickAddLink:!1}}].map(function(e){if("programRuleActionType"!==e.name){var t=i&&i.required&&i.required.includes(e.name);i&&i.optional&&i.optional.includes(e.name)||t?(e.props.style={display:"inline-block"},t&&(e.props.isRequired=!0,e.props.labelText+=" (*)")):e.props.style={display:"none"}}return e}).map(function(t){return i&&i.labelOverrides&&i.labelOverrides[t.name]&&(t.props.labelText=e.getTranslation(i.labelOverrides[t.name])),t});return u.a.createElement(p.a,{open:this.props.open,onRequestClose:this.props.onRequestClose,title:this.getTranslation("define_program_rule_action"),autoScrollBodyContent:!0,actionsContainerStyle:{marginTop:0},titleStyle:{marginBottom:0},actions:[u.a.createElement(d.a,{label:this.getTranslation("cancel"),style:{marginRight:16},onClick:this.props.onRequestClose}),u.a.createElement(m.a,{label:this.getTranslation("commit"),primary:!0,onClick:this.save})]},this.state.programDataElements?u.a.createElement(c.a,{fields:o,onUpdateField:this.update}):u.a.createElement("div",null,"Loading..."))}}]),t}(u.a.Component);_.contextTypes={d2:u.a.PropTypes.any},_.propTypes={open:u.a.PropTypes.bool.isRequired,onRequestClose:u.a.PropTypes.func.isRequired,onUpdateRuleActionModel:u.a.PropTypes.func.isRequired,program:u.a.PropTypes.object.isRequired,ruleActionModel:u.a.PropTypes.object.isRequired},t.a=_},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),u=n.n(s),c=n(266),l=n.n(c),p=n(51),f=n.n(p),d=n(296),h=n(608),m=n(333),y=n(67),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.d2=n.d2,r.getTranslation=r.d2.i18n.getTranslation.bind(n.d2.i18n),r.addProgramRuleAction=r.addProgramRuleAction.bind(r),r.state={dialogOpen:!1,currentRuleActionModel:{}},r}return a(t,e),b(t,[{key:"addProgramRuleAction",value:function(){this.setState({dialogOpen:!0,currentRuleActionModel:Object.assign(this.d2.models.programRuleActions.create(),{programRule:{id:this.props.model.id}})})}},{key:"render",value:function(){var e=this,t=this.props.model[this.props.referenceProperty].toArray(),n=t.map(function(t){var n=t.programRuleActionType,r=void 0;switch(t.programRuleActionType){case"SHOWWARNING":case"SHOWERROR":case"WARNINGONCOMPLETE":case"ERRORONCOMPLETE":r=[t.dataElement&&'"'+t.dataElement.displayName+'"',"WARNINGONCOMPLETE"!==t.programRuleActionType&&"ERRORONCOMPLETE"!==t.programRuleActionType&&t.trackedEntityAttribute?'"'+t.trackedEntityAttribute.displayName+'"':""].filter(function(e){return e}).map(function(e){return e.trim()}).join(", ");case"DISPLAYTEXT":case"DISPLAYKEYVALUEPAIR":!r&&t.location&&("feedback"===t.location?r=e.getTranslation("feedback_widget"):"indicators"===t.location&&(r=e.getTranslation("program_indicator_widget"))),r=r?" "+e.getTranslation("on")+" "+r:"";var i=t.content?t.content.length>25?t.content.substr(0,22)+"...":t.content:"";n=e.getTranslation(m.a[t.programRuleActionType].label)+': "'+i+'"'+r;break;case"HIDEFIELD":r=[t.dataElement&&'"'+t.dataElement.displayName+'"',t.trackedEntityAttribute&&'"'+t.trackedEntityAttribute.displayName+'"'].filter(function(e){return e}).map(function(e){return e.trim()}).join(", "),n=e.getTranslation(m.a[t.programRuleActionType].label)+": "+r;break;case"HIDESECTION":n=e.getTranslation(m.a[t.programRuleActionType].label)+': "'+(t.programStageSection&&t.programStageSection.displayName)+'"';break;case"HIDEPROGRAMSTAGE":n=e.getTranslation(m.a[t.programRuleActionType].label)+': "'+(t.programStage&&t.programStage.displayName)+'"';break;case"ASSIGN":r=[t.dataElement&&'"'+t.dataElement.displayName+'"',t.content&&'"'+t.content+'"'].filter(function(e){return e}).map(function(e){return e.trim()}).join(", "),n=e.getTranslation(m.a[t.programRuleActionType].label)+': "'+t.data+'" '+e.getTranslation("to_field")+" "+r;break;case"CREATEEVENT":n=e.getTranslation(m.a[t.programRuleActionType].label)+" "+e.getTranslation("in_program_stage")+": "+(t.programStage&&t.programStage.displayName);break;case"SETMANDATORYFIELD":r=[t.dataElement&&'"'+t.dataElement.displayName+'"',t.trackedEntityAttribute&&'"'+t.trackedEntityAttribute.displayName+'"'].filter(function(e){return e}).map(function(e){return e.trim()}).join(", "),n=e.getTranslation(m.a[t.programRuleActionType].label)+": "+r;break;default:n=t.programRuleActionType}return Object.assign(t,{action:m.a.hasOwnProperty(t.programRuleActionType)?e.getTranslation(m.a[t.programRuleActionType].label):t.programRuleActionType,actionDetails:n})}),i=function(t){e.setState({dialogOpen:!0,currentRuleActionModel:Object.assign(t.clone(),{dataElement:t.dataElement&&t.dataElement.id||void 0,trackedEntityAttribute:t.trackedEntityAttribute&&t.trackedEntityAttribute.id||void 0,programStage:t.programStage&&t.programStage.id||void 0,programStageSection:t.programStageSection&&t.programStageSection.id||void 0})})},o=function(t){y.a.show({message:e.getTranslation("confirm_delete_program_rule_action"),action:"confirm",onActionTouchTap:function(){e.props.onChange({target:{value:e.props.model.programRuleActions.remove(t)}}),y.a.show({message:e.getTranslation("program_rule_action_deleted")})}})},a={wrap:Object.assign({marginTop:16,marginBottom:16,position:"relative",width:"100%"},this.props.style),fab:{position:"absolute",right:64,bottom:0,zIndex:1e3},note:{whiteSpace:"nowrap",width:"100%",textOverflow:"ellipsis",overflowX:"hidden",fontStyle:"italic"},b:{marginRight:4}},s=function(){var t;(t=e.props).onChange.apply(t,arguments),e.props.model.dirty=!0};return u.a.createElement("div",{style:a.wrap},u.a.createElement("div",{style:a.fab},u.a.createElement(l.a,{onClick:this.addProgramRuleAction,disabled:this.props.disabled},u.a.createElement(f.a,{className:"material-icons"},"add"))),u.a.createElement(d.a,{columns:["actionDetails"],rows:n,contextMenuActions:{edit:i,delete:o},primaryAction:i}),this.state.dialogOpen&&u.a.createElement(h.a,{open:this.state.dialogOpen,ruleActionModel:this.state.currentRuleActionModel,program:this.props.model.program,parentModel:this.props.model,onRequestClose:function(){return e.setState({dialogOpen:!1})},onChange:s,onUpdateRuleActionModel:function(t,n){return e.setState({programRuleAction:Object.assign(e.state.currentRuleActionModel,r({},t,n))})}}))}}]),t}(u.a.Component);v.contextTypes={d2:u.a.PropTypes.any},v.propTypes={referenceProperty:u.a.PropTypes.string.isRequired,model:u.a.PropTypes.object.isRequired,style:u.a.PropTypes.object},t.a=v},function(e,t,n){"use strict";var r=["d2:ceil( <number> )","d2:floor( <number> )","d2:round( <number> )","d2:modulus( <number> , <number> )","d2:zing( <number> )","d2:oizp( <number> )","d2:concatenate( <object>, <object>, ...)","d2:daysBetween( <date>, <date> )","d2:weeksBetween( <date>, <date> )","d2:monthsBetween( <date>, <date> )","d2:yearsBetween( <date>, <date> )","d2:addDays( <date>, <number> )","d2:count( <sourcefield> )","d2:countIfValue( <sourcefield>, <text> )","d2:countIfZeroPos( <sourcefield> )","d2:hasValue( <sourcefield> )","d2:zpvc( <object>, <object>, ...)","d2:validatePattern( <text>, <regex> )","d2:left( <text>, <number> )","d2:right( <text>, <number> )","d2:substring( <text>, <number>, <number> )","d2:split( <text>, <text>, <number> )","d2:length( <text> )"];t.a=r},function(e,t,n){"use strict";var r=n(167);t.a=new Map([["categoryCombo",{fieldOptions:{queryParamFilter:["dataDimensionType:eq:ATTRIBUTE","name:eq:default"]}}],["expiryPeriodType",{component:r.a}]])},function(e,t,n){"use strict";function r(e,t){var n=e.schema,r=e.property,i=t.d2,o={wrap:{padding:"1rem",backgroundColor:E.blue50,display:"flex",alignItems:"center",justifyContent:"flex-start",flexDirection:"row"},text:{paddingLeft:"1rem"},iconWrap:{margin:"3px 3px 0"}};return u.a.createElement("div",{style:o.wrap},u.a.createElement("span",{style:o.iconWrap},u.a.createElement(_.a,{color:E.blue200})),u.a.createElement("span",{style:o.text},i.i18n.getTranslation(n+"__"+r+"__help_text")))}function i(e){var t=e.formula,r=e.onFormulaChange,i=e.errorStatus,o=n.i(j.a)(i.status),a={border:"2px solid "+(I(i)?o:"transparent")},s=I(i)?u.a.createElement("span",{style:{color:o,marginTop:".25rem"}},i.message):null;return u.a.createElement("div",null,u.a.createElement("div",{style:a},u.a.createElement(l.a,{formula:t,onFormulaChange:r})),s)}function o(e){var t=e.d2,o=e.onChange,a=e.status,s=e.model,c=e.value,l=void 0===c?"":c,p=e.referenceProperty,d=n.i(h.getOr)("WITHOUT_REGISTRATION","program.programType",s);return u.a.createElement("div",null,u.a.createElement("div",{style:k.programIndicatorExpression.container},u.a.createElement(f.a,{style:k.programIndicatorExpression.formula},u.a.createElement(r,{schema:s.modelDefinition.name,property:p}),u.a.createElement(i,{formula:l,onFormulaChange:function(e){return o({target:{value:e}})},errorStatus:a}),a.status==j.c.VALID?u.a.createElement("div",{style:k.status.container(a.status)},u.a.createElement(j.d,{status:a.status}),u.a.createElement("span",{style:{padding:".25rem",paddingLeft:"1rem"}},a.message)):null),u.a.createElement("div",{style:k.programIndicatorExpression.options},u.a.createElement(C.a,{program:n.i(h.get)("program.id",s),onSelect:function(e){return o({target:{value:l+e}})}}),u.a.createElement(x.a,{label:t.i18n.getTranslation("attributes"),program:s.program,programType:d,onSelect:function(e){return o({target:{value:l+e}})}}),u.a.createElement(T.a,{label:t.i18n.getTranslation("variables"),programType:d,onSelect:function(e){return o({target:{value:l+e}})}}),u.a.createElement(P.a,{label:t.i18n.getTranslation("constants"),onSelect:function(e){return o({target:{value:l+e}})}}))))}function a(e){var t=new d.ReplaySubject(1);return{status$:t.distinctUntilChanged().debounceTime(300).mergeMap(n.i(h.memoize)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return d.Observable.fromPromise(n.i(g.getInstance)().then(function(r){if(n.i(h.isEmpty)(t))return d.Observable.of({status:j.c.PENDING,message:r.i18n.getTranslation("expression_is_empty")});var i=r.Api.getApi(),o={headers:{"Content-Type":"text/plain"}},a=i.post("programIndicators/"+e+"/description",""+t,o).then(function(e){var t=e.status,n=e.description,r=e.message;return{status:"OK"===t?j.c.VALID:j.c.INVALID,message:"OK"===t?n:r}}).catch(function(e){if(e.message&&"ERROR"===e.status)return{status:j.c.INVALID,message:e.message};throw e});return d.Observable.merge(d.Observable.of({status:j.c.PENDING,message:r.i18n.getTranslation("checking_expression_status")}),d.Observable.fromPromise(a))}))})).concatAll(),validate:function(e){t.next(e)}}}var s=n(0),u=n.n(s),c=n(335),l=n(364),p=n(55),f=n.n(p),d=n(14),h=(n.n(d),n(11)),m=(n.n(h),n(98)),y=n.n(m),b=n(142),v=n.n(b),g=n(13),w=(n.n(g),n(1048)),O=n.n(w),S=n(979),_=n.n(S),E=n(40),x=(n.n(E),n(600)),T=n(605),P=n(602),C=n(603),j=n(604),k={programIndicatorExpression:{container:{display:"flex"},formula:{width:"auto",flex:"1",padding:"3rem"},options:{width:"40%",minWidth:"300px",padding:"0 1rem"}},status:{container:function(e){return{display:"flex",flexDirection:"row",padding:"2rem",border:"1px solid "+n.i(j.a)(e),lineHeight:"1.5rem",margin:"1rem 0 2rem",backgroundColor:n.i(j.b)(e)}}}};r.contextTypes={d2:s.PropTypes.object};var A=function(e){return e.status===j.c.VALID},I=n.i(h.negate)(A),R=n.i(h.compose)(v()({d2:s.PropTypes.object}),y()("status","setStatus",function(e){var t=e.d2;return{status:j.c.PENDING,message:t.i18n.getTranslation("checking_expression_status")}}),O()({componentDidMount:function(){var e=this.props,t=e.setStatus,n=(e.validator,e.value),r=e.referenceProperty,i=a(r),o=i.status$,s=i.validate;this.validate=s,this.validatorStatusSubscription=o.subscribe(t),this.validate(n)},componentWillReceiveProps:function(e){e.value!==this.props.value&&this.validate(e.value)},componentWillUnmount:function(){this.validatorStatusSubscription.unsubscribe()}}));t.a=new Map([c.a,["expression",{component:R(o)}],["filter",{component:R(o)}]])},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(214),a=n.n(o),s=n(47),u=n.n(s),c=n(607),l=n(606),p=n(208),f=n(336),d=n(11),h=(n.n(d),n(50)),m=n(38),y=n(125),b=["program_name","program_stage_name","org_unit_name","due_date","days_since_due_date","days_until_due_date","current_date"],v=function(e){return["V",e]},g=u()(n.i(h.a)(void 0,function(e){return n.i(m.a)({onUpdate:function(e){var t=e.fieldName,r=e.value;return n.i(y.a)(t,r)}},e)}),a()({variableTypes:n.i(d.map)(v,b)}))(f.a);t.a=new Map([["deliveryChannels",{component:l.a}],["relativeScheduledDays",{component:c.a}],["notificationTrigger",{required:!0,fieldOptions:{options:["COMPLETION","SCHEDULED_DAYS_DUE_DATE"]}}],["notificationRecipient",{required:"true"}],["recipientUserGroup",{component:function(e){return e.model&&"USER_GROUP"===e.model.notificationRecipient?i.a.createElement(p.a,e):null}}],["messageTemplate",{component:g}]])},function(e,t,n){"use strict";var r=n(0),i=(n.n(r),n(609)),o=n(334);t.a=new Map([["condition",{component:o.a}],["programRuleActions",{component:i.a}]])},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e){return e&&e.program&&e.program.id}function o(e){return e&&e.program&&e.program.id&&"DATAELEMENT_NEWEST_EVENT_PROGRAM_STAGE"!==e.programRuleVariableSourceType||e.programStage&&e.programStage.id}var a=n(0),s=(n.n(a),n(13)),u=(n.n(s),n(631)),c=function(){var e=r(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&t.program&&t.program.id)){e.next=5;break}return e.next=3,n.Api.getApi().get(["programs",t.program.id].join("/"),{fields:"programStages[id,programStageDataElements[dataElement[id,displayName]]]"});case 3:return r=e.sent,e.abrupt("return",Object.values(r.programStages.filter(function(e){return!t.programStage||!t.programStage.id||"DATAELEMENT_NEWEST_EVENT_PROGRAM_STAGE"!==t.programRuleVariableSourceType||e.id===t.programStage.id}).map(function(e){return e.programStageDataElements.map(function(e){return e.dataElement})}).reduce(function(e,t){return e.concat(t)},[]).reduce(function(e,t){return e[t.id]=t,e},{})).map(function(e){return{text:e.displayName,value:e.id,model:e}}).sort(function(e,t){return e.text.localeCompare(t.text)}));case 5:return e.abrupt("return",[]);case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=r(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&t.program&&t.program.id)){e.next=5;break}return e.next=3,n.Api.getApi().get(["programs",t.program.id].join("/"),{fields:"programStages[id,displayName]"});case 3:return r=e.sent,e.abrupt("return",r.programStages.map(function(e){return{text:e.displayName,value:e.id}}).sort(function(e,t){return e.text.localeCompare(t.text)}));case 5:return e.abrupt("return",[]);case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=r(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&t.program&&t.program.id)){e.next=5;break}return e.next=3,n.Api.getApi().get(["programs",t.program.id].join("/"),{fields:"programTrackedEntityAttributes[id,displayName]"});case 3:return r=e.sent,e.abrupt("return",r.programTrackedEntityAttributes.map(function(e){return{text:e.displayName,value:e.id}}).sort(function(e,t){return e.text.localeCompare(t.text)}));case 5:return e.abrupt("return",[]);case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}();t.a=new Map([["name",{validators:[{message:"this_field_can_only_contain_letters_numbers_space_dash_dot_and_underscore",validator:function(e){return/^[\w _.\-]+$/gim.test(e)}}]}],["dataElement",{component:u.a,fieldOptions:{getter:c,shouldRender:o}}],["trackedEntityAttribute",{component:u.a,fieldOptions:{getter:p,shouldRender:i}}],["programStage",{component:u.a,fieldOptions:{getter:l,shouldRender:i}}]])},function(e,t,n){"use strict";function r(e){return{text:["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][e],value:e}}function i(e,t){var r=e.model,i=t.d2;return a.a.createElement(c.a,null,a.a.createElement(u.a,{labelText:i.i18n.getTranslation("day_on_which_to_run_the_task"),value:r.schedulingDayOfFrequency,options:h.get(r.schedulingFrequency)||[],onChange:n.i(l.compose)(function(e){return p.a.update({fieldName:"schedulingDayOfFrequency",value:e})},n.i(l.get)("target.value")),isRequired:!0}))}var o=n(0),a=n.n(o),s=n(332),u=n(69),c=n(220),l=n(11),p=(n.n(l),n(88)),f=n.i(l.map)(r,n.i(l.range)(1,7)),d=n.i(l.map)(function(e){return{text:e,value:e}},n.i(l.range)(1,32)),h=new Map([["WEEKLY",f],["MONTHLY",d]]);i.contextTypes={d2:o.PropTypes.object},t.a=new Map([["schedulingFrequency",{component:n.i(s.a)(function(e){return["WEEKLY","MONTHLY"].indexOf(e.value)>=0},i,u.a),required:!0}]])},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(221),a=n(126),s=n(618),u=n.i(o.a)(function(e,t){return!0===t.d2.system.systemInfo.encryption},a.a,function(e){var t=e.d2;return i.a.createElement("div",{style:{paddingTop:"0.25rem"}},i.a.createElement(a.a,{disabled:!0,labelText:t.i18n.getTranslation("confidential")}),i.a.createElement(s.a,{message:"confidentiality_option_not_available_since_encryption_is_not_configured"}))});t.a=u},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e){var t=e.message,n=r(e,["message"]),i={wrap:{display:"flex",flexDirection:"row",padding:"1rem 0"},message:{lineHeight:"24px",display:"block",textAlign:"center",paddingLeft:"0.5rem"},infoIcon:{fill:"orange"}};return a.a.createElement("div",l({style:i.wrap},n),a.a.createElement(c.a,{style:i.infoIcon}),a.a.createElement("div",{style:i.message},a.a.createElement(s.a,null,t)))}t.a=i;var o=n(0),a=n.n(o),s=n(71),u=n(978),c=n.n(u),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};i.propTypes={message:o.PropTypes.string.isRequired}},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(126),a=n(69),s=n(208),u=n(11),c=(n.n(u),n(88)),l=n(127),p=n(617),f=n(221),d=n(33),h=n(332),m=n(220),y=function(e){return!(!1!==e.orgunitScope&&void 0!==e.orgunitScope||!1!==e.programScope&&void 0!==e.programScope)},b=function(e){return!0===e.orgunitScope&&(!1===e.programScope||void 0===e.programScope)},v=function(e){return y(e)?"entire_system":b(e)?"organisation_unit":void 0},g=n.i(u.curry)(function(e,t){c.a.update({fieldName:e,value:t})}),w=function(e,t){return i.a.createElement("div",null,i.a.createElement(o.a,{onChange:n.i(u.compose)(function(){return g("pattern","")},g("generated"),n.i(u.get)("target.value")),labelText:t.d2.i18n.getTranslation("generated"),value:e.model.generated}),e.model.generated?i.a.createElement(l.a,{labelText:t.d2.i18n.getTranslation("pattern"),value:e.model.pattern,hintText:"########",onChange:n.i(u.compose)(g("pattern"),n.i(u.get)("target.value"))}):null)};w.contextTypes={d2:i.a.PropTypes.object};var O=function(e,t){var r=[{text:"entire_system",value:"entire_system"},{text:"organisation_unit",value:"organisation_unit"}],o=n.i(f.a)(function(e){return y(e.model)},w);return i.a.createElement(m.a,null,i.a.createElement(a.a,{options:r,translateOptions:!0,isRequired:!0,value:v(e.model),onChange:n.i(u.compose)(function(e){"organisation_unit"===e&&c.a.update({fieldName:"orgunitScope",value:!0}),"entire_system"===e&&c.a.update({fieldName:"orgunitScope",value:!1})},n.i(u.get)("target.value"))}),i.a.createElement(o,e))},S=n.i(d.a)(function(e,t){var r=t.d2;return i.a.createElement(m.a,null,i.a.createElement(s.a,{labelText:r.i18n.getTranslation("tracked_entity"),referenceType:"trackedEntity",value:e.model.trackedEntity,onChange:n.i(u.compose)(function(e){return c.a.update({fieldName:"trackedEntity",value:e})},n.i(u.get)("target.value"))}))});t.a=new Map([["unique",{component:n.i(h.a)(function(e){return!0===e.value},O,o.a)}],["aggregationType",{fieldOptions:{options:["SUM","AVERAGE","COUNT","STDDEV","VARIANCE","MIN","MAX","NONE","AVERAGE_SUM_ORG_UNIT"]}}],["confidential",{component:p.a}],["valueType",{component:n.i(h.a)(function(e){return"TRACKER_ASSOCIATE"===e.value},S,a.a)}]])},function(e,t,n){"use strict";var r=n(0),i=(n.n(r),n(141)),o=n(337);t.a=n.i(i.a)({buttonLabel:"left_side"})(o.a)},function(e,t,n){"use strict";function r(e,t){var n=e.value,r=e.onChange,i=t.d2;return o.a.createElement("div",null,o.a.createElement(s.a,{value:n,floatingLabelText:i.i18n.getTranslation("missing_value_strategy"),onChange:function(e,t,n){return r(n)},fullWidth:!0},o.a.createElement(c.a,{primaryText:i.i18n.getTranslation("skip_if_any_value_is_missing"),value:"SKIP_IF_ANY_VALUE_MISSING"}),o.a.createElement(c.a,{primaryText:i.i18n.getTranslation("skip_if_all_values_are_missing"),value:"SKIP_IF_ALL_VALUES_MISSING"}),o.a.createElement(c.a,{primaryText:i.i18n.getTranslation("never_skip"),value:"NEVER_SKIP"})))}var i=n(0),o=n.n(i),a=n(118),s=n.n(a),u=n(84),c=n.n(u);r.contextTypes={d2:i.PropTypes.object},t.a=r},function(e,t,n){"use strict";var r=n(0),i=(n.n(r),n(141)),o=n(337);t.a=n.i(i.a)({buttonLabel:"right_side"})(o.a)},function(e,t,n){"use strict";function r(e,t){var r=e.onChange,i=e.value,u=t.d2;return o.a.createElement(a.a,{onChange:n.i(s.compose)(r,n.i(s.get)("target.value")),labelText:u.i18n.getTranslation("sliding_window"),value:i})}t.a=r;var i=n(0),o=n.n(i),a=n(126),s=n(11);n.n(s);r.contextTypes={d2:i.PropTypes.object}},function(e,t,n){"use strict";function r(e,t){var n=e.open,r=e.close,i=e.actions,a=e.expressionDetails,s=void 0===a?{}:a,l=e.buttonLabel,d=(e.updateExpressionDetails,e.expressionStatusStore),h=e.onExpressionChanged,m=e.onMissingStrategyChanged,y=e.onSlidingWindowChanged,b=t.d2;return o.a.createElement(p.a,{open:n,onRequestClose:r,modal:!0,actions:i,contentStyle:v.customContentStyle,title:b.i18n.getTranslation(l),autoScrollBodyContent:!0},o.a.createElement(u.a,{value:s.missingValueStrategy,onChange:m}),o.a.createElement(c.a,{value:s.slidingWindow,onChange:y}),o.a.createElement(f.a,{descriptionLabel:b.i18n.getTranslation("description"),descriptionValue:s.description||"",expressionStatusStore:d,expressionChanged:h,formulaValue:s.expression||""}))}var i=n(0),o=n.n(i),a=n(141),s=n(71),u=n(621),c=n(623),l=n(39),p=n.n(l),f=n(300),d=n(23),h=n(68),m=n.n(h),y=n(11),b=(n.n(y),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),v={saveButton:{marginLeft:"1rem"},customContentStyle:{width:"95%",maxWidth:"none"}};r.contextTypes={d2:o.a.PropTypes.object};var g=n.i(a.b)(n.i(a.d)("expressionDetails","updateExpressionDetails",function(e){var t=e.value;return b({},t)}),n.i(a.d)("expressionStatusStore","updateStore",function(){return d.a.create()}),n.i(a.a)(function(e){var t=e.close,r=e.save,i=(e.value,e.store,e.expressionDetails),a=e.expressionStatusStore,u=e.updateExpressionDetails,c=e.buttonLabel,l=n.i(y.isUndefined)(a.getState())||"OK"===a.getState().status;return{buttonLabel:c,actions:[o.a.createElement(m.a,{onClick:t,label:o.a.createElement(s.a,null,"close")}),o.a.createElement(m.a,{onClick:function(){return r(i)},disabled:!l,style:v.saveButton,label:o.a.createElement(s.a,null,"done")})],onExpressionChanged:function(e){var t=e.description,n=e.formula;return u(b({},i,{description:t,expression:n}))},onMissingStrategyChanged:function(e){return u(b({},i,{missingValueStrategy:e}))},onSlidingWindowChanged:function(e){return u(b({},i,{slidingWindow:e}))}}}));t.a=g(r)},function(e,t,n){"use strict";var r=n(0),i=(n.n(r),n(214)),o=n.n(i),a=n(72),s=n.n(a),u=n(47),c=n.n(u),l=n(336),p=n(11),f=(n.n(p),n(88)),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=["rule_name","rule_description","operator","importance","left_side_description","right_side_description","left_side_value","right_side_value","org_unit_name","period","current_date"],m=function(e){return["V",e]},y=c()(o()({variableTypes:n.i(p.map)(m,h)}),s()(function(e){return d({},e,{onUpdate:f.a.update})}))(l.a);t.a=new Map([["messageTemplate",{component:y}]])},function(e,t,n){"use strict";var r=n(620),i=n(622),o=n(167);t.a=new Map([["periodType",{component:o.a}],["importance",{required:!0}],["leftSide",{component:r.a}],["rightSide",{component:i.a}]])},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(15),o=n.n(i),a=n(82),s=n.n(a),u=n(160),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=["id","publicAccess","created","lastUpdated","user","userGroupAccesses","attributeValues"],p=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;r(this,e),t||o.a.warn("Warning: `models` passed to FormFieldsForModel is undefined, therefore async select boxes and references fields might not work."),this.fieldNamesToIgnoreOnDisplay=n,this.fieldOrder=[],this.models=t}return c(e,[{key:"setDefaultFieldOrder",value:function(e){this.fieldOrder=e||[]}},{key:"getFormFieldsForModel",value:function(e){function t(t,r){var o=i[t.name],a=!!o,s=u.b.get(t.type);return a&&(o.type&&(s=o.type),Object.keys(o).forEach(function(e){t[e]="fieldOptions"===e?Object.assign({},t[e],o[e]):o[e]})),t.type=s,n.i(u.a)(t,r,this.models,e)}var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(e&&e.modelDefinition&&e.modelDefinition.modelValidations))throw new TypeError("Passed model does not seem to adhere to the d2 model structure (model.modelDefinition.modelValidations is not available)");var o=function(e){return-1===r.fieldNamesToIgnoreOnDisplay.indexOf(e.fieldName)},a=function(e){return u.b.get(e.type)},c=function(e){return e.writable},l=function(e){return e.persisted},p=function(t){var n=e.modelDefinition.modelValidations[t],r=Object.create(n);return r.name=t,r.fieldOptions={labelText:s()(t)},r},f=Object.keys(e.modelDefinition.modelValidations).map(p).filter(c).filter(l).filter(o).filter(a).map(function(n){return t.bind(r)(n,e.modelDefinition)}).filter(function(e){return e});return this.fieldOrder&&this.fieldOrder.length?f.filter(function(e){return-1!==r.fieldOrder.indexOf(e.name)}).sort(function(e,t){return r.fieldOrder.indexOf(e.name)>r.fieldOrder.indexOf(t.name)?1:-1}):f}}]),e}();t.a=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this.fieldsForModelService=t,this.fieldOverrides={},this.headerFields=[]}return i(e,[{key:"getFormFieldsForModel",value:function(e){return this.fieldsForModelService.getFormFieldsForModel(e,this.fieldOverrides)}},{key:"setFieldOrder",value:function(e){return this.fieldsForModelService.setDefaultFieldOrder(e),this}},{key:"getHeaderFieldsForModel",value:function(e){var t=this;return this.getFormFieldsForModel(e).filter(function(e){return-1!==t.headerFields.indexOf(e.key)})}},{key:"getNonHeaderFieldsForModel",value:function(e){var t=this;return this.getFormFieldsForModel(e).filter(function(e){return-1===t.headerFields.indexOf(e.key)})}},{key:"setHeaderFields",value:function(e){return this.headerFields=Array.from(new Set(e)),this}},{key:"addFieldOverrideFor",value:function(e,t){return this.fieldOverrides[e]=t,this}}]),e}();t.a=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return Array.isArray(e)&&(0===e.length||2===e.length&&!isNaN(e[0])&&!isNaN(e[1]))}function s(e){return n.i(f.a)(e)&&e<=90&&e>=-90}function u(e){return n.i(f.a)(e)&&e<=180&&e>=-180}var c=n(0),l=n.n(c),p=n(127),f=n(161),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();s.message="a_latitude_should_be_a_number_between_-90_and_90",u.message="a_longitude_should_be_a_number_between_-180_and_180";var m=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(o.state={long:void 0,lat:void 0,coords:[]},e.value){try{o.state.coords=JSON.parse(e.value)}catch(e){}a(o.state.coords)&&(o.state.lat=o.state.coords[1],o.state.long=o.state.coords[0])}return o.updateLatLong=o.updateLatLong.bind(o),o.updateLatitude=o.updateLatitude.bind(o),o.updateLongitude=o.updateLongitude.bind(o),o.getTranslation=n.d2.i18n.getTranslation.bind(n.d2.i18n),o}return o(t,e),h(t,[{key:"updateLatLong",value:function(e,t){var n=this;this.setState(function(n){return{lat:e,long:t,coords:a(n.coords)&&e&&t?[t,e]:n.coords}},function(){e&&t&&a(n.state.coords)?n.props.onChange({target:{value:"["+n.state.coords[0]+","+n.state.coords[1]+"]"}}):n.props.onChange({target:{value:""}})})}},{key:"updateLatitude",value:function(e){var t=e.target.value.length>0?e.target.value:void 0,n=this.state.long;s(t)?(this.setState({latError:void 0}),this.updateLatLong(t,n)):this.setState({latError:this.getTranslation(s.message)})}},{key:"updateLongitude",value:function(e){var t=this.state.lat,n=e.target.value;u(n)?(this.setState({longError:void 0}),this.updateLatLong(t,n)):this.setState({longError:this.getTranslation(u.message)})}},{key:"render",value:function(){return a(this.state.coords)?l.a.createElement("div",null,l.a.createElement(p.a,d({},this.props,{labelText:this.getTranslation("latitude"),value:this.state.lat,onChange:this.updateLatitude,errorText:this.state.latError})),l.a.createElement(p.a,d({},this.props,{labelText:this.getTranslation("longitude"),value:this.state.long,onChange:this.updateLongitude,errorText:this.state.longError}))):l.a.createElement(p.a,d({},this.props,{labelText:this.getTranslation("coordinates"),value:this.getTranslation("polygon_coordinates_are_not_editable"),disabled:!0}))}}]),t}(l.a.Component);m.propTypes={value:l.a.PropTypes.string,onChange:l.a.PropTypes.func.isRequired},m.contextTypes={d2:l.a.PropTypes.object.isRequired},t.a=m},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var i=n(0),o=n.n(i),a=n(413),s=n.n(a),u=n(85),c=n.n(u),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.a=o.a.createClass({displayName:"date-select",propTypes:{value:o.a.PropTypes.oneOfType([o.a.PropTypes.string,o.a.PropTypes.object]),labelText:o.a.PropTypes.string.isRequired,onChange:o.a.PropTypes.func.isRequired},renderDatePicker:function(){var e=this.props,t=e.labelText,n=(e.referenceType,e.referenceProperty,e.isInteger,e.translateOptions,e.isRequired,e.options,e.model,e.models,e.modelDefinition,r(e,["labelText","referenceType","referenceProperty","isInteger","translateOptions","isRequired","options","model","models","modelDefinition"]));return o.a.createElement(s.a,l({},n,{value:this.props.value&&new Date(this.props.value),mode:"portrait",autoOk:!0,floatingLabelText:t,onChange:this._onDateSelect}))},render:function(){var e={closeButton:{position:"absolute",right:"-16px",top:"28px",zIndex:1},closeIcon:{color:"#888888"}};return o.a.createElement("div",null,this.props.isRequired||void 0===this.props.value||""===this.props.value?null:o.a.createElement(c.a,{iconClassName:"material-icons",style:e.closeButton,iconStyle:e.closeIcon,onClick:this._clearDate},"close"),this.renderDatePicker())},_clearDate:function(){this._onDateSelect(void 0,"")},_onDateSelect:function(e,t){this.props.onChange({target:{value:t}})}})},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(0),c=n.n(u),l=n(69),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(e,n){o(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.d2=n.d2,r.state={options:[]},r.getOptions=r.getOptions.bind(r),e.model&&r.getOptions(e.model),r}return s(t,e),f(t,[{key:"componentWillReceiveProps",value:function(e){this.getOptions(e.model)}},{key:"componentWillUnmount",value:function(){delete this.d2}},{key:"getOptions",value:function(){function e(e){return t.apply(this,arguments)}var t=i(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getter(t,this.d2);case 2:n=e.sent,this.d2&&this.setState({options:n});case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"render",value:function(){var e=this,t=this.props,n=(t.getter,t.shouldRender),i=r(t,["getter","shouldRender"]);if(n(this.props.model)){var o=function(t){t.target.value?e.props.onChange({target:{value:{id:t.target.value}}}):e.props.onChange({target:{value:null}})};return c.a.createElement(l.a,p({},i,{value:this.props.value&&this.props.value.id,onChange:o,options:this.state.options}))}return null}}]),t}(c.a.Component);d.contextTypes={d2:c.a.PropTypes.any},d.propTypes=Object.assign({getter:c.a.PropTypes.func.isRequired,shouldRender:c.a.PropTypes.func.isRequired},l.a.propTypes),d.defaultProps={shouldRender:function(){return!0}},t.a=d},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e){function t(t){e.onChange({target:{value:t}})}var n=e.options,i=r(e,["options"]),o=n.map(function(e){return e.value});return a.a.createElement(s.a,u({},i,{options:o,onChange:t}))}t.a=i;var o=n(0),a=n.n(o),s=n(722),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};i.propTypes=s.a.propTypes},function(e,t,n){"use strict";function r(e){return Array.from(new Set(e).values())}function i(e,t){return Array.from(e.values()).filter(function(e){return-1!==t.indexOf(e.id)})}var o=n(0),a=n.n(o),s=n(23),u=n(13),c=(n.n(u),n(151)),l=n(533),p=n(37),f=n(100),d=n(45),h=n.n(d),m=n(15),y=n.n(m),b=n(338),v=n(339),g=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=p.a.createActionsFromNames(["addItemsToModelCollection","removeItemsFromModelCollection"]);w.addItemsToModelCollection.subscribe(function(e){var t=e.data,n=e.complete,r=e.error;try{var i=g(t,3),o=i[0],a=i[1],s=i[2];s[a]||r("Model does not have property called '"+a+"'"),o.forEach(function(e){s[a].add(e)}),n()}catch(e){y.a.error(e)}}),w.removeItemsFromModelCollection.subscribe(function(e){var t=e.data,n=e.complete,r=e.error,i=g(t,3),o=i[0],a=i[1],s=i[2];s[a]||r("Model does not have property called '"+a+"'"),o.forEach(function(e){s[a].remove(e)}),n()}),t.a=a.a.createClass({displayName:"multi-select",propTypes:{referenceType:a.a.PropTypes.string.isRequired,referenceProperty:a.a.PropTypes.string.isRequired,model:a.a.PropTypes.object.isRequired,labelText:a.a.PropTypes.string.isRequired,onChange:a.a.PropTypes.func.isRequired,value:a.a.PropTypes.oneOfType([a.a.PropTypes.shape({values:a.a.PropTypes.func.isRequired}),a.a.PropTypes.arrayOf(a.a.PropTypes.func)])},mixins:[f.a],getInitialState:function(){var e=s.a.create(),t=s.a.create();return e.state=[],t.state=[],{itemStore:e,assignedItemStore:t,filterText:"",isRefreshing:!1,canCreate:!1}},componentWillMount:function(){this.props.referenceType&&n.i(u.getInstance)().then(this.checkCreateAuthority).then(this.loadAvailableItems).then(this.populateItemStore).then(this.populateAssignedStore)},renderGroupEditor:function(){return this.props.model.modelDefinition.modelValidations[this.props.referenceProperty]&&this.props.model.modelDefinition.modelValidations[this.props.referenceProperty].ordered&&"aggregationLevels"!==this.props.referenceProperty?a.a.createElement(l.a,{itemStore:this.state.itemStore,assignedItemStore:this.state.assignedItemStore,onAssignItems:this._assignItems,onRemoveItems:this._removeItems,onOrderChanged:this._orderChanged,height:250,filterText:this.state.filterText}):a.a.createElement(c.a,{itemStore:this.state.itemStore,assignedItemStore:this.state.assignedItemStore,onAssignItems:this._assignItems,onRemoveItems:this._removeItems,height:250,filterText:this.state.filterText})},render:function(){var e={labelStyle:{float:"left",position:"relative",display:"block",width:"calc(100% - 60px)",lineHeight:"24px",color:"rgba(0,0,0,0.3)",marginTop:"1rem",fontSize:16},labelWrap:{display:"flex"},fieldWrap:{position:"relative"}};return a.a.createElement("div",{style:e.fieldWrap},this.state.isRefreshing?a.a.createElement(v.a,null):null,a.a.createElement("div",{style:e.labelWrap},a.a.createElement("label",{style:e.labelStyle},this.props.labelText||""),this.state.canCreate?a.a.createElement(b.a,{referenceType:this.props.referenceType,onRefreshClick:this.reloadAvailableItems}):null),a.a.createElement(h.a,{fullWidth:!0,hintText:this.getTranslation("search_available_selected_items"),defaultValue:this.state.filterText,onChange:this._setFilterText}),this.renderGroupEditor(),a.a.createElement("div",{style:{clear:"both",height:"2rem",width:"100%"}}))},_orderChanged:function(e){var t=this,n=this.state.itemStore.getState();this.props.model[this.props.referenceProperty].clear(),e.forEach(function(e){n.has(e)&&t.props.model[t.props.referenceProperty].add(n.get(e))}),this.state.assignedItemStore.setState(this.props.model[this.props.referenceProperty].toArray().map(function(e){return e.id}))},_assignItems:function(e){var t=this;if("aggregationLevels"===this.props.referenceProperty){var n=Array.from(new Set((this.props.model[this.props.referenceProperty]||[]).concat(e.map(Number))).values());return this.props.onChange({target:{value:n}}),this.state.assignedItemStore.setState(n),Promise.resolve()}return new Promise(function(n,o){var a=i(t.state.itemStore.state,e);w.addItemsToModelCollection(a,t.props.referenceProperty,t.props.model).subscribe(function(){var i=[].concat(t.state.assignedItemStore.getState()).concat(e).filter(function(e){return e});t.state.assignedItemStore.setState(r([].concat(i))),t.props.onChange({target:{value:t.props.model[t.props.referenceProperty]}}),n()},o)})},_removeItems:function(e){var t=this;if("aggregationLevels"===this.props.referenceProperty){var n=Array.from(new Set((this.props.model[this.props.referenceProperty]||[]).filter(function(t){return-1===e.map(Number).indexOf(t)})).values());return this.props.onChange({target:{value:n}}),this.state.assignedItemStore.setState(n),Promise.resolve()}return new Promise(function(n,r){var o=i(t.state.itemStore.state,e);w.removeItemsFromModelCollection(o,t.props.referenceProperty,t.props.model).subscribe(function(){var r=[].concat(t.state.assignedItemStore.getState()).filter(function(t){return-1===e.indexOf(t)}).filter(function(e){return e});t.updateForm(r),n()},r)})},_setFilterText:function(e){this.setState({filterText:e.target.value})},updateForm:function(e){this.state.assignedItemStore.setState(r([].concat(e))),this.props.onChange({target:{value:this.props.model[this.props.referenceProperty]}})},reloadAvailableItems:function(){var e=this;this.setState({isRefreshing:!0}),n.i(u.getInstance)().then(this.loadAvailableItems).then(this.populateItemStore).then(function(){e.setState({isRefreshing:!1})})},checkCreateAuthority:function(e){var t=this.props.referenceType;return e.currentUser.canCreate(e.models[t])&&this.setState({canCreate:!0}),e},loadAvailableItems:function(e){if(e.models[this.props.referenceType]){var t=e.models[this.props.referenceType],n=["name:ne:default"].concat(this.props.queryParamFilter).filter(function(e){return e});return t.list({paging:!1,fields:"displayName|rename(name),id,level",filter:n})}return Promise.reject(this.props.referenceType+" is not a model on d2.models")},populateItemStore:function(e){if("aggregationLevels"===this.props.referenceProperty)return void this.state.itemStore.setState(Array.from(e.values()).map(function(e){return{value:e.level,text:e.displayName||e.name}}));this.state.itemStore.setState(e)},populateAssignedStore:function(){if(!this.props.value)return this.state.assignedItemStore.setState([]);Array.isArray(this.props.value)?this.state.assignedItemStore.setState(Array.from(this.props.value)):this.state.assignedItemStore.setState(Array.from(this.props.value.values()).map(function(e){return e.id}))}})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(39),c=n.n(u),l=n(68),p=n.n(l),f=n(116),d=n.n(f),h=n(43),m=n.n(h),y=n(372),b=n(56),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.state={dialogOpen:!1,value:e.value,roots:[],selected:[]},e.value&&n.d2.models.organisationUnits.get(e.value.id,{fields:"id,displayName,path"}).then(function(e){o.setState({selected:[e.path],parentName:e.displayName})}),o.getTranslation=n.d2.i18n.getTranslation.bind(n.d2.i18n),o.handleSelectClick=o.handleSelectClick.bind(o),o.save=o.save.bind(o),o}return o(t,e),v(t,[{key:"componentWillMount",value:function(){var e=this;this.subscriptions=[],this.subscriptions.push(b.b.subscribe(function(t){e.setState({roots:t.userOrganisationUnits.toArray()})}))}},{key:"componentWillUnmount",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe&&e.unsubscribe()})}},{key:"handleSelectClick",value:function(e,t){console.warn("click",t.displayName,t.path),this.setState({value:t,selected:[t.path]})}},{key:"save",value:function(){this.props.onChange({target:{value:{id:this.state.value.id}}}),this.setState({dialogOpen:!1,parentName:this.state.value.displayName,selected:[this.state.value.path]})}},{key:"render",value:function(){var e=this,t={wrapper:{color:"rgba(0,0,0,0.4)"},dialogContent:{minHeight:450,maxHeight:450},cancelButton:{marginRight:"16px"}},n=[s.a.createElement(p.a,{label:this.getTranslation("cancel"),onClick:function(){return e.setState({dialogOpen:!1})},style:t.cancelButton}),s.a.createElement(d.a,{primary:!0,label:this.getTranslation("select"),onClick:this.save})];return this.props.value?s.a.createElement("div",{style:t.wrapper},s.a.createElement(m.a,{floatingLabelText:this.props.labelText,style:{width:"100%"},value:this.state.parentName||"",onClick:function(t){return e.setState({value:e.props.value,dialogOpen:!0})}}),s.a.createElement(c.a,{open:this.state.dialogOpen,title:this.props.labelText,onRequestClose:function(){return e.setState({dialogOpen:!1})},autoScrollBodyContent:!0,autoDetectWindowHeight:!0,actions:n},s.a.createElement("div",{style:t.dialogContent},s.a.createElement(y.a,{roots:this.state.roots,selected:this.state.selected,initiallyExpanded:this.state.selected,onSelectClick:this.handleSelectClick,hideCheckboxes:!0,hideMemberCount:!0})))):null}}]),t}(s.a.Component);g.contextTypes={d2:s.a.PropTypes.object.isRequired},g.propTypes={value:s.a.PropTypes.object,readOnly:s.a.PropTypes.bool},t.a=g},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c={outerWrap:{marginTop:32,marginBottom:32},ed17x0r:{minHeight:75,width:"100%",fontSize:15,fontFamily:"monospace",border:"1px solid rgba(0,0,0,0.1)",borderRadius:3,marginTop:3,padding:4}},l=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:e.value},n.onChange=function(e){var t=e.target.value;n.setState({value:t}),n.hackyDebounceTimeout&&clearTimeout(n.hackyDebounceTimeout),n.hackyDebounceTimeout=setTimeout(function(){n.props.onChange({target:{value:t}})},250)},n}return o(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.value&&e.value!==this.props.value&&this.setState({value:e.value},function(){t.editor&&t.editor.focus()})}},{key:"insertText",value:function(e){var t=this;if(this.editor){var n=this.editor.value,r=this.editor.selectionStart,i=this.editor.selectionEnd;this.props.onChange({target:{value:(""+n.substr(0,r)+e+n.substr(i)).trim()}}),window.setTimeout(function(){t.editor.setSelectionRange(r+e.length,r+e.length)})}}},{key:"render",value:function(){var e=this;return s.a.createElement("textarea",{disabled:this.props.disabled,style:c.ed17x0r,value:this.state.value,onChange:this.onChange,ref:function(t){return e.editor=t}})}}]),t}(s.a.Component);l.contextTypes={d2:s.a.PropTypes.any},t.a=l},function(e,t,n){"use strict";function r(e){var t=e.keyUiLocale;t&&"en"!==t&&c.config.i18n.sources.add("./i18n/i18n_module_"+t+".properties"),c.config.i18n.sources.add("./i18n/i18n_module_en.properties"),c.config.i18n.strings.add("app_search_placeholder"),c.config.i18n.strings.add("manage_my_apps"),c.config.i18n.strings.add("log_out"),c.config.i18n.strings.add("account"),c.config.i18n.strings.add("profile"),c.config.i18n.strings.add("settings"),c.config.i18n.strings.add("about_dhis2"),c.config.i18n.strings.add("help"),c.config.i18n.strings.add("no_results_found"),c.config.i18n.strings.add("version")}function i(e){return Promise.all([e.system.settings.all(),e.Api.getApi().get("periodTypes")]).then(function(t){var n=E(t,2),r=n[0],i=n[1];v.a.setState(r),_.a.setState(i.periodTypes.map(function(t){return{text:e.i18n.getTranslation(t.name.toLocaleLowerCase()),value:t.name}}))})}function o(){n.i(u.render)(s.a.createElement(y.a,{muiTheme:b.a},s.a.createElement("div",null,d.a)),document.getElementById("app"))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n.n(a),u=n(21),c=(n.n(u),n(13)),l=(n.n(c),n(15)),p=n.n(l),f=n(290),d=n(494),h=n(498),m=(n.n(h),n(291)),y=n.n(m),b=(n(495),n(493)),v=n(215),g=n(497),w=n.n(g),O=n(200),S=n.n(O),_=n(289),E=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();n.i({});Error.stackTraceLimit=1/0,S()(w.a),p.a.setLevel(p.a.levels.INFO),n.i(u.render)(s.a.createElement(y.a,{muiTheme:b.a},s.a.createElement(f.a,null)),document.getElementById("app")),n.i(c.getManifest)("./manifest.webapp").then(function(e){var t=e.getBaseUrl();c.config.baseUrl=t+"/api/27",p.a.info("Loading: "+e.name+" v"+e.version),p.a.info("Built "+e.manifest_generated_at)}).then(c.getUserSettings).then(r).then(c.init).then(i).then(o).catch(p.a.error.bind(p.a))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){return c.a.createElement(m,d({},n,{loadComponent:e,loadingOptions:t}))}}function s(e,t){return a(function(){return Promise.resolve(e()).then(function(e){return e.default}).catch(function(e){return f.a.error("Failed to load component.",e),Promise.reject(e)})},t)}var u=n(0),c=n.n(u),l=n(14),p=(n.n(l),n(15)),f=n.n(p),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.state={},o}return o(t,e),h(t,[{key:"componentDidMount",value:function(){var e=this;this.subscription=l.Observable.fromPromise(this.props.loadComponent()).subscribe(function(t){if(!c.a.isValidElement(t)&&"function"!=typeof t)throw new Error("LoadOnDemand expects a valid React component");e.setState({component:t})})}},{key:"componentWillUnmount",value:function(){this.subscription&&this.subscription.unsubscribe&&this.subscription.unsubscribe()}},{key:"render",value:function(){var e=this.props.loadingOptions,t=e.loadingComponent,n=e.loadingMessage;return this.state.component?c.a.createElement(this.state.component,this.props):t?c.a.createElement(t,null):c.a.createElement("div",null,n)}}]),t}(u.Component);m.propTypes={loadingOptions:u.PropTypes.shape({loadingComponent:u.PropTypes.oneOfType([u.PropTypes.object,u.PropTypes.func,u.PropTypes.element]),loadingMessage:u.PropTypes.string}),loadComponent:u.PropTypes.func.isRequired},t.a={loadDefault:s,load:a,LoadOnDemand:m}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e}function i(e,t,n){function i(e,t){var n=v.hasOwnProperty(t)?v[t]:null;O.hasOwnProperty(t)&&s("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&s("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function c(e,n){if(n){s("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),s(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,o=r.__reactAutoBindPairs;n.hasOwnProperty(u)&&g.mixins(e,n.mixins);for(var a in n)if(n.hasOwnProperty(a)&&a!==u){var c=n[a],l=r.hasOwnProperty(a);if(i(l,a),g.hasOwnProperty(a))g[a](e,c);else{var p=v.hasOwnProperty(a),h="function"==typeof c,m=h&&!p&&!l&&!1!==n.autobind;if(m)o.push(a,c),r[a]=c;else if(l){var y=v[a];s(p&&("DEFINE_MANY_MERGED"===y||"DEFINE_MANY"===y),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",y,a),"DEFINE_MANY_MERGED"===y?r[a]=f(r[a],c):"DEFINE_MANY"===y&&(r[a]=d(r[a],c))}else r[a]=c}}}else;}function l(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var i=n in g;s(!i,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var o=n in e;s(!o,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),e[n]=r}}}function p(e,t){s(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var n in t)t.hasOwnProperty(n)&&(s(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function f(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return p(i,n),p(i,r),i}}function d(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function h(e,t){var n=t.bind(e);return n}function m(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e[r]=h(e,i)}}function y(e){var t=r(function(e,r,i){this.__reactAutoBindPairs.length&&m(this),this.props=e,this.context=r,this.refs=a,this.updater=i||n,this.state=null;var o=this.getInitialState?this.getInitialState():null;s("object"==typeof o&&!Array.isArray(o),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=o});t.prototype=new S,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],b.forEach(c.bind(null,t)),c(t,w),c(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),s(t.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var i in v)t.prototype[i]||(t.prototype[i]=null);return t}var b=[],v={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},g={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)c(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=o({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=o({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=f(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=o({},e.propTypes,t)},statics:function(e,t){l(e,t)},autobind:function(){}},w={componentDidMount:function(){this.__isMounted=!0},componentWillUnmount:function(){this.__isMounted=!1}},O={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},S=function(){};return o(S.prototype,e.prototype,O),y}var o=n(440),a=n(785),s=n(389),u="mixins";e.exports=i},function(e,t,n){t=e.exports=n(317)(void 0),t.push([e.i,'.programStageEditForm {\n  display: flex;\n  box-sizing: border-box; }\n  .programStageEditForm .left {\n    width: auto; }\n  .programStageEditForm .right {\n    width: 30%;\n    min-width: 300px; }\n  .programStageEditForm .paletteContainer:hover .resizeHandle:after {\n    border-color: rgba(0, 0, 0, 0.12); }\n  .programStageEditForm .paletteContainer .resizeHandle {\n    position: absolute;\n    top: -20px;\n    right: 0;\n    bottom: -16px;\n    left: -8px;\n    width: 12px;\n    cursor: col-resize; }\n    .programStageEditForm .paletteContainer .resizeHandle:after {\n      content: "";\n      display: block;\n      position: absolute;\n      bottom: 0;\n      top: 0;\n      border: 0 dashed transparent;\n      border-left-width: 1px;\n      margin-left: 5px;\n      transition: border 125ms linear; }\n    .programStageEditForm .paletteContainer .resizeHandle:hover:after {\n      border-color: rgba(0, 0, 0, 0.45); }\n  .programStageEditForm .paletteContainer .palette {\n    padding-left: 1rem; }\n    .programStageEditForm .paletteContainer .palette .elements {\n      padding: 0 8px 8px;\n      font-size: 13px;\n      font-weight: 300;\n      display: flex;\n      flex-direction: column;\n      overflow-x: auto; }\n      .programStageEditForm .paletteContainer .palette .elements .cell {\n        position: relative;\n        flex: 1 1;\n        transition: all 175ms ease-in-out; }\n        .programStageEditForm .paletteContainer .palette .elements .cell.expanded {\n          flex: 1; }\n          .programStageEditForm .paletteContainer .palette .elements .cell.expanded .header .arrow {\n            transform: rotate(90deg); }\n          .programStageEditForm .paletteContainer .palette .elements .cell.expanded .items {\n            height: 100%; }\n        .programStageEditForm .paletteContainer .palette .elements .cell .header {\n          font-weight: 700;\n          font-size: 16px;\n          padding-top: 8px;\n          cursor: pointer; }\n          .programStageEditForm .paletteContainer .palette .elements .cell .header .arrow {\n            display: inline-block;\n            margin: 0 2px;\n            transition: transform 175ms ease-out; }\n          .programStageEditForm .paletteContainer .palette .elements .cell .header .count {\n            display: inline-block;\n            font-weight: 400;\n            font-size: 14px;\n            margin-left: 4px; }\n        .programStageEditForm .paletteContainer .palette .elements .cell .items {\n          transition: height 175ms ease-in-out;\n          height: 0;\n          max-height: 500px;\n          position: relative;\n          padding-left: 16px;\n          overflow: auto; }\n          .programStageEditForm .paletteContainer .palette .elements .cell .items .item {\n            padding-bottom: 1px;\n            white-space: nowrap;\n            overflow: hidden;\n            text-overflow: ellipsis; }\n  .programStageEditForm .item.active a, .programStageEditForm .expand a {\n    cursor: pointer; }\n    .programStageEditForm .item.active a:hover, .programStageEditForm .expand a:hover {\n      text-decoration: underline; }\n  .programStageEditForm .item.inactive a {\n    color: inherit;\n    opacity: 0.5;\n    cursor: default; }\n',""])},function(e,t,n){t=e.exports=n(317)(void 0),t.push([e.i,'/* line 4, ../../scss/_DataTableHeader.scss */\n.data-table__headers {\n  display: table-row; }\n\n/* line 8, ../../scss/_DataTableHeader.scss */\n.data-table__headers__header {\n  height: 50px;\n  padding: 0 1.6rem;\n  vertical-align: middle;\n  border-bottom: 2px solid #E0E0E0;\n  color: #757575;\n  display: table-cell;\n  font-weight: 400;\n  text-align: left;\n  transition: all .3s ease; }\n\n/* line 1, ../../scss/_DataTableRow.scss */\n.data-table__rows__row {\n  cursor: pointer;\n  display: table-row; }\n\n/* line 5, ../../scss/_DataTableRow.scss */\n.data-table__rows__row:hover .data-table__rows__row__column {\n  background-color: #F1F1F1; }\n\n/* line 10, ../../scss/_DataTableRow.scss */\n.data-table__rows__row__column {\n  height: 50px;\n  padding: 0 1.6rem;\n  vertical-align: middle;\n  border-bottom: 1px solid #E0E0E0;\n  border-top: 0;\n  display: table-cell;\n  text-align: left;\n  transition: all .3s ease;\n  position: relative; }\n\n/* line 5, ../../scss/_DataTableContextMenu.scss */\n.data-table__context-menu__item {\n  cursor: pointer;\n  display: block;\n  padding: 0.5rem 1.6rem;\n  text-align: left; }\n\n/* line 12, ../../scss/_DataTableContextMenu.scss */\n.data-table__context-menu__item:hover {\n  background: rgba(200, 200, 255, 0.9); }\n\n/* line 30, ../../scss/DataTable.scss */\n.data-table {\n  background-color: #FFF;\n  border-spacing: 0;\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12), 0 1px 2px 0 rgba(0, 0, 0, 0.24);\n  color: #212121;\n  display: table;\n  margin-bottom: 2rem;\n  max-width: 100%;\n  width: 100%; }\n\n/* line 41, ../../scss/DataTable.scss */\n.data-table__rows {\n  display: table-row-group; }\n\n/* line 5, ../../scss/Pagination.scss */\n.data-table-pager--buttons {\n  max-width: 100%;\n  margin-left: auto;\n  margin-right: auto;\n  list-style: none;\n  padding: 0;\n  text-align: right; }\n\n/* line 12, ../../../../../.rvm/gems/ruby-1.9.3-p551/gems/susy-2.2.12/sass/susy/output/support/_clearfix.scss */\n.data-table-pager--buttons:after {\n  content: " ";\n  display: block;\n  clear: both; }\n\n/* line 12, ../../scss/Pagination.scss */\n.data-table-pager--buttons li {\n  display: inline-block; }\n\n/* line 16, ../../scss/Pagination.scss */\n.data-table-pager--buttons .data-table-pager--previous-page,\n.data-table-pager--buttons .data-table-pager--next-page {\n  padding: 0; }\n\n/* line 20, ../../scss/Pagination.scss */\n.data-table-pager--buttons .data-table-pager--previous-page i,\n.data-table-pager--buttons .data-table-pager--next-page i {\n  border-radius: 100%;\n  cursor: pointer;\n  margin: .5rem;\n  padding: .5rem; }\n\n/* line 27, ../../scss/Pagination.scss */\n.data-table-pager--buttons .data-table-pager--previous-page .data-table-pager--previous-page__disabled,\n.data-table-pager--buttons .data-table-pager--previous-page .data-table-pager--next-page__disabled,\n.data-table-pager--buttons .data-table-pager--next-page .data-table-pager--previous-page__disabled,\n.data-table-pager--buttons .data-table-pager--next-page .data-table-pager--next-page__disabled {\n  color: #CCC; }\n\n/* line 33, ../../scss/Pagination.scss */\n.data-table-pager--buttons .data-table-pager--page-info {\n  line-height: 24px;\n  padding: 1rem;\n  text-align: center;\n  vertical-align: top; }\n\n/**\n * Bootstrap 3.0 box-sizing fix\n */\n/* line 4, ../../scss/HeaderBar.scss */\n#menuLinkArea * {\n  box-sizing: content-box;\n  -webkit-box-sizing: content-box;\n  -moz-box-sizing: content-box;\n  -o-box-sizing: content-box;\n  -m-box-sizing: content-box; }\n\n/* line 12, ../../scss/HeaderBar.scss */\n#menuLinkArea {\n  list-style-type: none;\n  max-width: 1200px;\n  margin: 0;\n  padding: 0 20px 0 0; }\n\n/* line 19, ../../scss/HeaderBar.scss */\n#menuLinkArea li {\n  float: right; }\n\n/* line 23, ../../scss/HeaderBar.scss */\n#menuLinkArea .app-menu-dropdown li {\n  float: left; }\n\n/* line 27, ../../scss/HeaderBar.scss */\ninput.apps-search[type="text"] {\n  border: 1px solid #ccc;\n  border-radius: 3px;\n  box-sizing: content-box;\n  font-size: inherit;\n  outline: none;\n  padding: 4px 1px;\n  padding-right: 5px;\n  padding-left: 5px;\n  width: 348px; }\n\n/* line 39, ../../scss/HeaderBar.scss */\n.apps-search-wrap {\n  padding-bottom: 10px;\n  position: relative;\n  width: 360px; }\n\n/* line 45, ../../scss/HeaderBar.scss */\n.app-menu-dropdown .apps-search-clear {\n  color: #404040;\n  cursor: pointer;\n  display: none;\n  font-size: 15px;\n  height: 15px;\n  margin: 0;\n  padding: 0;\n  position: absolute;\n  right: 5px;\n  top: 18%;\n  width: 20px; }\n\n/* line 59, ../../scss/HeaderBar.scss */\n.menuDropDownBox {\n  list-style-type: none;\n  padding: 0;\n  margin: 10px 0; }\n\n/* line 65, ../../scss/HeaderBar.scss */\n.menuDropDownBox a {\n  border-radius: 3px;\n  cursor: pointer; }\n\n/* line 70, ../../scss/HeaderBar.scss */\n.menuDropDownBox a:hover {\n  text-decoration: none;\n  background-color: #f5f5f7;\n  color: #000; }\n\n/* line 76, ../../scss/HeaderBar.scss */\n.menuDropDownBox li.selected a {\n  background-color: #f5f5f7; }\n\n/* line 80, ../../scss/HeaderBar.scss */\n.app-menu:after {\n  clear: both;\n  content: ""; }\n\n/* line 85, ../../scss/HeaderBar.scss */\n.app-menu ul,\n.app-menu li {\n  list-style: none; }\n\n/* line 90, ../../scss/HeaderBar.scss */\n.app-manager-header,\n.app-menu {\n  margin: 0 auto;\n  position: relative;\n  width: 535px; }\n\n/* line 97, ../../scss/HeaderBar.scss */\n.app-menu li {\n  float: left;\n  position: relative; }\n\n/* line 102, ../../scss/HeaderBar.scss */\n#menuOrderBy {\n  float: right; }\n\n/* line 106, ../../scss/HeaderBar.scss */\n.app-menu .app-menu-item,\n.app-menu .app-menu-placeholder {\n  margin: 10px;\n  display: block;\n  border: 1px solid #d0d0d0;\n  background-color: #fff;\n  width: 225px;\n  height: 56px;\n  border-radius: 5px;\n  padding: 10px; }\n\n/* line 118, ../../scss/HeaderBar.scss */\n.app-menu .app-menu-item img {\n  max-height: 36px;\n  max-width: 36px;\n  display: block;\n  left: 25px;\n  top: 29px;\n  position: absolute; }\n\n/* line 127, ../../scss/HeaderBar.scss */\n.app-menu .app-menu-item span {\n  font-size: 1.15em;\n  padding-left: 48px;\n  display: block;\n  padding-top: 19px;\n  color: #404040; }\n\n/* line 135, ../../scss/HeaderBar.scss */\n.app-menu .app-menu-placeholder,\n.app-menu .app-menu-item:hover {\n  border: 1px dashed #9ec5df;\n  background-color: #e9f5fb;\n  text-decoration: none; }\n\n/* line 142, ../../scss/HeaderBar.scss */\n.app-menu-item-description {\n  display: none; }\n\n/* line 146, ../../scss/HeaderBar.scss */\n.app-menu-item-description .fa.fa-arrows {\n  font-size: 1.3em;\n  position: absolute;\n  right: 5px;\n  top: 5px; }\n\n/**\n * When hovered display the description and hide the favorites icon\n */\n/* line 156, ../../scss/HeaderBar.scss */\n.app-menu li:hover a .app-menu-item-description {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background: #fff;\n  border: 1px solid #b0b0b0;\n  display: block;\n  margin: 10px;\n  padding: 10px 10px;\n  font-size: 1em;\n  color: #555;\n  border-radius: 5px; }\n\n/* line 172, ../../scss/HeaderBar.scss */\n.app-menu li.ui-sortable-helper:hover a .app-menu-item-description {\n  display: none; }\n\n/* line 176, ../../scss/HeaderBar.scss */\n.app-menu li.ui-sortable-helper:hover a {\n  background-color: rgba(255, 255, 255, 0.3); }\n\n/* line 180, ../../scss/HeaderBar.scss */\n.app-menu-item .app-menu-item-description span {\n  color: #444;\n  display: block;\n  font-size: 1.1em;\n  padding: 0;\n  padding-bottom: 5px;\n  margin: 0; }\n\n/* line 189, ../../scss/HeaderBar.scss */\n.app-menu-item .app-menu-item-description p {\n  height: 35px;\n  margin: 0;\n  overflow: hidden;\n  padding: 0; }\n\n/* line 196, ../../scss/HeaderBar.scss */\n.app-menu li:hover a .fa.fa-bookmark {\n  display: none; }\n\n/* line 200, ../../scss/HeaderBar.scss */\n.app-menu a.app-menu-item .fa.fa-bookmark {\n  color: #276696;\n  font-size: 2em;\n  position: absolute;\n  right: 15px;\n  top: 10px; }\n\n/**\n * IE8 hack to display all items after the 9th item differently\n * TODO: When support for IE8 is dropped this can be changed to a nth style selector\n */\n/* line 212, ../../scss/HeaderBar.scss */\n.app-menu li + li + li + li + li + li + li + li + li + li a.app-menu-item .fa.fa-bookmark {\n  display: none; }\n\n/**\n * App menu item\n */\n/* line 219, ../../scss/HeaderBar.scss */\n.menu-link {\n  color: #fff;\n  cursor: pointer;\n  font-size: 9pt;\n  height: 44px;\n  line-height: 44px;\n  text-align: center;\n  min-width: 105px;\n  white-space: nowrap; }\n\n/* line 230, ../../scss/HeaderBar.scss */\n.menu-link i.fa {\n  font-size: 2em;\n  padding-right: 10px;\n  position: relative;\n  top: 5px; }\n\n/* line 237, ../../scss/HeaderBar.scss */\na.menu-link:hover {\n  color: #fff;\n  text-decoration: none; }\n\n/**\n * App menu dropdown box\n */\n/* line 245, ../../scss/HeaderBar.scss */\n.app-menu-dropdown {\n  background-color: #fff;\n  border: 1px solid #bbb;\n  border-radius: 2px;\n  box-shadow: rgba(0, 0, 0, 0.24) 0px 2px 8px 0px;\n  color: #000;\n  font-size: 9pt;\n  max-height: 610px;\n  overflow-y: inherit;\n  padding: 10px;\n  top: 10px;\n  position: relative;\n  width: 360px;\n  z-index: 100000;\n  /* Quite high for any other elements that might have high z-indexes  */ }\n\n/* line 261, ../../scss/HeaderBar.scss */\n.app-menu-dropdown-wrap {\n  position: absolute;\n  left: -9999px; }\n\n/* line 266, ../../scss/HeaderBar.scss */\n.app-menu-hide {\n  display: none; }\n\n/* line 270, ../../scss/HeaderBar.scss */\n.app-menu-dropdown ul {\n  margin: 0;\n  overflow: auto; }\n\n/* line 275, ../../scss/HeaderBar.scss */\n.app-menu-dropdown li {\n  float: left; }\n\n/* line 279, ../../scss/HeaderBar.scss */\n.app-menu-dropdown img {\n  padding-left: 36px;\n  padding-right: 36px;\n  padding-top: 15px;\n  padding-bottom: 5px;\n  max-height: 48px;\n  max-width: 48px; }\n\n/* line 288, ../../scss/HeaderBar.scss */\n.app-menu-dropdown span {\n  color: #404040;\n  display: block;\n  font-family: LiberationSans, arial, sans-serif;\n  height: 30px;\n  overflow: hidden;\n  padding-left: 10px;\n  padding-right: 10px;\n  text-align: center;\n  width: 100px; }\n\n/* line 300, ../../scss/HeaderBar.scss */\n.app-menu-dropdown .caret-up-background,\n.app-menu-dropdown .caret-up-border {\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  width: 0;\n  height: 0;\n  position: absolute; }\n\n/* line 309, ../../scss/HeaderBar.scss */\n.app-menu-dropdown .caret-up-background {\n  border-bottom: 10px solid #fff;\n  top: -9px; }\n\n/* line 314, ../../scss/HeaderBar.scss */\n.app-menu-dropdown .caret-up-border {\n  border-bottom: 10px solid #bbb;\n  top: -10px; }\n\n/* line 319, ../../scss/HeaderBar.scss */\n.app-menu-dropdown a.app-menu-item {\n  color: #000;\n  display: block;\n  height: 110px;\n  padding: 0;\n  text-decoration: none;\n  width: 120px; }\n\n/* line 328, ../../scss/HeaderBar.scss */\n.app-menu-dropdown a.app-menu-item:hover span {\n  padding-left: 10px;\n  padding-right: 10px;\n  text-align: center;\n  width: 100px; }\n\n/* line 335, ../../scss/HeaderBar.scss */\n.apps-menu-bottom-button {\n  display: table;\n  height: 34px;\n  padding-top: 8px;\n  text-align: center;\n  margin-top: 5px;\n  float: left; }\n\n/* line 344, ../../scss/HeaderBar.scss */\n.apps-menu-bottom-button a {\n  color: #4A89BA;\n  border: 1px solid #ccc;\n  background-color: #f5f5f7;\n  border-radius: 5px;\n  display: table-cell;\n  vertical-align: middle;\n  text-decoration: none; }\n\n/* line 354, ../../scss/HeaderBar.scss */\n.apps-scroll {\n  width: 60px;\n  margin-left: 5px; }\n\n/* line 359, ../../scss/HeaderBar.scss */\n.app-menu-dropdown:after {\n  content: " ";\n  /* Older browser do not support empty content */\n  visibility: hidden;\n  display: block;\n  height: 0;\n  clear: both; }\n\n/* line 367, ../../scss/HeaderBar.scss */\n.apps-menu-bottom-button a:hover {\n  color: #fff;\n  border: 1px solid #4A89BA;\n  background-color: #4A89BA; }\n\n/* line 373, ../../scss/HeaderBar.scss */\n.apps-menu-more {\n  width: 230px; }\n\n/* line 381, ../../scss/HeaderBar.scss */\n.menu-placeholder {\n  width: 100%;\n  text-align: center;\n  vertical-align: middle; }\n\n/**\n * Overrides\n * TODO: Merge these with the main stylesheet\n */\n/* line 391, ../../scss/HeaderBar.scss */\nhr.app-separator {\n  border: none;\n  border-top: 1px solid #bbb;\n  height: 1px;\n  position: absolute;\n  top: 484px;\n  width: 100%; }\n\n/* line 400, ../../scss/HeaderBar.scss */\n.menu-drop-down-wrap {\n  overflow: hidden;\n  height: 375px; }\n\n/* line 405, ../../scss/HeaderBar.scss */\n.menu-drop-down-scroll {\n  height: 375px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  width: 384px; }\n\n/* line 412, ../../scss/HeaderBar.scss */\n#appsMenuDropDown ul.menuDropDownBox {\n  height: 330px; }\n\n/* line 416, ../../scss/HeaderBar.scss */\n.caret-up-background,\n.caret-up-border {\n  left: 298px; }\n\n/* line 421, ../../scss/HeaderBar.scss */\n.drop-down-menu-link {\n  cursor: pointer;\n  display: block;\n  font-family: LiberationSans, arial, sans-serif; }\n\n/* line 427, ../../scss/HeaderBar.scss */\n.show-menu {\n  display: block; }\n\n/* line 431, ../../scss/HeaderBar.scss */\n.app-menu-help {\n  color: #444;\n  line-height: 1.75em; }\n\n/* line 436, ../../scss/HeaderBar.scss */\n.app-menu-help .fa {\n  font-size: 1.2em; }\n\n/* line 440, ../../scss/HeaderBar.scss */\n.app-menu-help .fa-bookmark {\n  color: #276696;\n  font-size: 1.5em;\n  padding-right: 5px;\n  position: relative;\n  top: 2px; }\n\n/* line 448, ../../scss/HeaderBar.scss */\n.app-menu-help .fa-arrows {\n  padding-right: 4px; }\n\n/* line 452, ../../scss/HeaderBar.scss */\n.app-menu-error {\n  background: darkred;\n  background: rgba(160, 0, 0, 0.7);\n  border: 1px solid darkred;\n  border-radius: 5px;\n  display: block;\n  padding: .5em 0;\n  text-align: center;\n  width: 358px; }\n\n/* line 463, ../../scss/HeaderBar.scss */\n.app-menu-error:hover {\n  background: rgba(160, 0, 0, 0.8);\n  cursor: pointer; }\n\n/* line 468, ../../scss/HeaderBar.scss */\n.app-menu-error a {\n  background-color: transparent;\n  color: white; }\n\n/* line 473, ../../scss/HeaderBar.scss */\n.app-menu-error a:hover {\n  background-color: transparent;\n  color: white;\n  text-decoration: none; }\n\n/*\n * Media queries for the menu\n */\n@media (max-width: 700px), (max-device-width: 700px) {\n  /* line 483, ../../scss/HeaderBar.scss */\n  #headerText {\n    display: none; } }\n\n@media only screen and (min-width: 840px) {\n  /* line 489, ../../scss/HeaderBar.scss */\n  .app-manager-header,\n  .app-menu {\n    width: 808px; }\n  /* line 494, ../../scss/HeaderBar.scss */\n  hr.app-separator {\n    top: 288px; } }\n\n.details-box {\n  padding: 1.5rem; }\n\n.details-box__close-button {\n  cursor: pointer;\n  float: right; }\n\n.detail-field__label {\n  font-weight: bold; }\n\n.detail-field__value {\n  color: #333;\n  padding-top: 4px;\n  min-width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis; }\n\n.detail-field {\n  padding-bottom: 1rem; }\n\n.detail-field:last-child {\n  padding-bottom: 0; }\n\n.list {\n  color: inherit; }\n\n.data-table-wrap {\n  display: flex;\n  flex: 2;\n  transition: width .2s linear;\n  transition-delay: .1s; }\n\n.details-box-wrap.show-as-column {\n  flex: 1;\n  margin-left: 1rem;\n  margin-right: 1rem;\n  opacity: 1; }\n\n.list-details-wrap {\n  flex: 1;\n  display: flex;\n  flex-orientation: row; }\n\n.list-search-field input[type="search"]::-webkit-search-decoration {\n  display: none; }\n\n* {\n  box-sizing: border-box; }\n\nhtml {\n  background: #F3F3F3;\n  font-family: \'Roboto\', sans-serif;\n  font-size: 14px; }\n\n.data-table {\n  background-color: #FFF; }\n\n.details-box-wrap .sticky {\n  left: initial !important;\n  margin-right: 2rem;\n  margin-top: 5rem;\n  width: 22%; }\n\n.details-box__close-button {\n  cursor: pointer; }\n\n.data-table__rows__row__column:not(:first-child) {\n  width: 15%;\n  min-width: 150px; }\n\n.data-table__rows__row__column:last-child {\n  width: 1%;\n  min-width: initial; }\n',""])},function(e,t,n){"use strict";function r(e,t){var r=t.d2,i=e.appItems,p=e.profileItems,d=e.currentUser,h=e.settings,m=e.noLoadingIndicator;return i||p||h?o.a.createElement("div",{style:n.i(l.b)(r.currentUser,l.a.headerBar)},o.a.createElement(s.a,null),o.a.createElement(c.a,null),o.a.createElement(u.a,null,o.a.createElement(a.a,{items:p,rowItemCount:3,columnItemCount:3,currentUser:d}))):m?o.a.createElement("div",{style:{display:"none"}}):o.a.createElement("div",{style:l.a.headerBar},o.a.createElement(f.a,{mode:"indeterminate"}))}t.a=r;var i=n(0),o=n.n(i),a=n(697),s=n(693),u=n(696),c=n(699),l=n(61),p=n(180),f=n.n(p);r.contextTypes={d2:i.PropTypes.object},r.propTypes={appItems:i.PropTypes.array,profileItems:i.PropTypes.array,currentUser:i.PropTypes.object,settings:i.PropTypes.object}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){try{return localStorage.setItem("dhis2.menu.localstorage.test","dhis2.menu.localstorage.test"),localStorage.removeItem("dhis2.menu.localstorage.test"),!0}catch(e){return!1}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i()&&(e.userStyleUrl&&localStorage.setItem("dhis2.menu.ui.headerBar.userStyle",e.userStyleUrl),e.title&&localStorage.setItem("dhis2.menu.ui.headerBar.title",e.title)),e}var a=n(0),s=n.n(a),u=n(15),c=n.n(u),l=n(61),p=n(14),f=(n.n(p),n(110)),d=s.a.createClass({displayName:"InnerHeader",propTypes:{lastUpdate:s.a.PropTypes.instanceOf(Date)},contextTypes:{d2:s.a.PropTypes.object.isRequired},getInitialState:function(){return this.unmount=new p.Subject,{headerBar:{}}},componentWillMount:function(){var e=this;this.getSystemSettings(this.context.d2).then(this.getHeaderBarData).catch(this.loadDataFromLocalStorageIfAvailable).then(o).then(function(t){e.setHeaderData(t.userStyleUrl,t.title,t.link)}).catch(function(e){c.a.error(e)})},componentDidMount:function(){var e=this;p.Observable.fromEvent(window,"resize").takeUntil(this.unmount).debounceTime(200).subscribe(function(){return e.forceUpdate()},function(e){return c.a.error("Could not update the HeaderBar after resize",e)})},componentWillReceiveProps:function(e){this.props.lastUpdate&&this.props.lastUpdate.getTime()-e.lastUpdate.getTime()!=0&&dhis2.menu.ui.bootstrapMenu()},componentWillUnmount:function(){this.unmount.next(!0)},getSystemSettings:function(e){return e.system?e.system.settings.all():Promise.reject(new Error("Offline"))},getHeaderBarData:function(e){return this.requestUserStyle().catch(function(){return c.a.info("Unable to load usersettings, falling back to systemSettings"),localStorage.setItem("dhis2.menu.ui.headerBar.userStyle",e.keyCurrentStyle),e.keyCurrentStyle}).then(function(t){return{userStyleUrl:t||e.keyCurrentStyle,title:e.applicationTitle}}).catch(function(e){return c.a.error(e)})},getApiBaseUrl:function(){return this.context.d2.Api?this.context.d2.Api.getApi().baseUrl:"/"},getBaseUrl:function(){return n.i(f.a)(this.context.d2)},getLogoUrl:function(){return[this.getApiBaseUrl(),"staticContent","logo_banner"].join("/")},getStylesheetUrl:function(e){return[this.getBaseUrl(),"dhis-web-commons/css","themes",e||"light_blue/light_blue.css"].join("/")},getStyleName:function(e){return"string"==typeof e&&e.split("/")[0]&&e.split("/").length>0?e.split("/")[0]:"light_blue"},render:function(){var e={width:155,height:44,verticalAlign:"middle",textAlign:"center",flexDirection:"row",display:"flex",justifyContent:"center",alignItems:"center"},t={maxWidth:175,maxHeight:44},r={flex:1,overflow:"hidden",whiteSpace:"nowrap",color:"#FFF",alignItems:"center",justifyItems:"center",display:"flex",minWidth:n.i(l.e)(450,"auto"),paddingRight:"1rem",boxSizing:"border-box"},i={fontSize:"1rem",fontWeight:"bold",color:"#FFF",textDecoration:"none",textOverflow:"ellipsis",minWidth:1,overflow:"hidden",whiteSpace:"nowrap"},o={minWidth:175},a=[this.getBaseUrl(),"dhis-web-commons-about/redirect.action"].join("/"),u=Object.assign({display:"flex",minWidth:625,overflow:"hidden",textOverflow:"ellipsis"},l.a.headerTitle),c=Object.assign({display:"flex",overflow:"hidden",textOverflow:"ellipsis"},l.a.headerTitle);return s.a.createElement("div",{style:n.i(l.e)(u,c)},s.a.createElement("a",{href:a,title:this.state.headerBar.title,style:o,className:"title-link"},s.a.createElement("div",{style:e},s.a.createElement("div",null,s.a.createElement("img",{className:"header-logo",src:this.getLogoUrl(),id:"headerBanner",style:t})))),s.a.createElement("div",{style:r},s.a.createElement("a",{href:a,title:this.state.headerBar.title,style:i,className:"title-link"},this.state.headerBar.title)))},loadDataFromLocalStorageIfAvailable:function(){var e=void 0,t=void 0;return i()&&(e=localStorage.getItem("dhis2.menu.ui.headerBar.title"),t=localStorage.getItem("dhis2.menu.ui.headerBar.userStyle")),{userStyleUrl:t,title:e}},setHeaderData:function(e,t,n){this.addUserStyleStylesheet(this.getStylesheetUrl(e)),this.setHeaderTitle(t)},setHeaderBarProp:function(e,t){this.setState({headerBar:Object.assign({},this.state.headerBar,r({},e,t))})},setHeaderTitle:function(e){this.setHeaderBarProp("title",e||"District Health Information Software 2")},requestUserStyle:function(){return this.context.d2.Api.getApi().get("userSettings/keyStyle").then(function(e){return e.trim()})},isValidUserStyle:function(e){return"string"==typeof e&&/^[A-z0-9_\-]+$/.test(e)},addUserStyleStylesheet:function(e){var t=document.createElement("link");t.setAttribute("href",e),t.setAttribute("type","text/css"),t.setAttribute("rel","stylesheet"),t.setAttribute("media","screen,print"),document.querySelector("head").appendChild(t)}});t.a=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(30),c=n.n(u),l=n(61),p=n(695),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(){var e;r(this,t);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var s=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o)));return s.state={},s._mouseEnter=s._mouseEnter.bind(s),s._mouseLeave=s._mouseLeave.bind(s),s._onScroll=s._onScroll.bind(s),s}return o(t,e),f(t,[{key:"render",value:function(){var e=this.props.rowItemCount,t=e*l.c,n=this.props,r=n.name,i=n.children,o=Object.assign({},l.a.dropDownWrap,{display:this.state.open?"flex":"none",right:this.state.showScrollBar?20:l.a.dropDownWrap.right,width:this.state.showScrollBar?t+55:t+35},this.props.menuStyle),a=this.props.columnItemCount*l.c,u=Math.ceil(i.length/e)*l.c,f={height:u>a?a:u,width:this.state.showScrollBar?t+35:t+55,marginRight:this.state.showScrollBar?0:-30,onScroll:this._onScroll.bind(this),padding:this.props.padding};return s.a.createElement("div",{style:l.a.headerMenu,onMouseEnter:this._mouseEnter,onMouseLeave:this._mouseLeave},r,s.a.createElement("div",{style:{paddingTop:55}},s.a.createElement(c.a,{style:o},s.a.createElement(p.a,f,i),this.props.rightSide,this.props.moreButton)))}},{key:"_mouseEnter",value:function(e){this.setState({anchor:e.target,open:!0})}},{key:"_mouseLeave",value:function(){this.setState({open:!1})}},{key:"_onScroll",value:function(e){this.setState({showScrollBar:e.target.scrollTop>1})}}]),t}(a.Component);t.a=d},function(e,t,n){"use strict";function r(e){var t={height:e.height,width:e.width,overflowY:"scroll",marginRight:e.marginRight,display:"flex",flexWrap:"wrap",boxSizing:"content-box",overflow:"auto",padding:e.padding};return o.a.createElement("div",{style:t,onScroll:e.onScroll},e.children)}t.a=r;var i=n(0),o=n.n(i)},function(e,t,n){"use strict";function r(e){return o.a.createElement("div",{style:a.a.menusWrap},e.children)}t.a=r;var i=n(0),o=n.n(i),a=n(61)},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(264),a=n.n(o),s=n(694),u=n(362),c=n(61),l=n(33),p=n(34),f=n.n(p),d=n(110),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=d.a,y=n.i(l.a)(function(e,t){var n=t.d2,r=e.currentUser,o=e.items,l=o.map(function(e,t){return i.a.createElement(u.a,h({key:t},e))});if(!r.firstName)return i.a.createElement("div",null);var p={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"1rem",justifyContent:"space-between",borderLeft:"1px solid #CCC",backgroundColor:"#F5F5F5"},d=i.a.createElement("div",{style:p},i.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"}},i.a.createElement(a.a,{size:60,style:c.a.avatarBig},r.firstName.charAt(0)+" "+r.surname.charAt(0)),i.a.createElement("div",null,i.a.createElement("div",{style:{width:"100%",marginTop:"1rem",lineHeight:"1.5rem",fontWeight:"bold"}},r.displayName),i.a.createElement("div",{style:{width:"100%",lineHeight:"1.5rem"}},r.email))),i.a.createElement(f.a,{style:{width:"100%",textAlign:"center"},href:m(n)+"/dhis-web-commons-security/logout.action"},n.i18n.getTranslation("log_out")));return i.a.createElement(s.a,{name:i.a.createElement(a.a,{size:32,style:c.a.avatar},r.firstName.charAt(0)+" "+r.surname.charAt(0)),rowItemCount:e.rowItemCount,columnItemCount:e.columnItemCount,rightSide:d,width:700,menuStyle:{flexDirection:"row",width:600,padding:"0"},padding:"1rem"},l)});t.a=y},function(e,t,n){"use strict";function r(e,t){var n=t.d2;return o.a.createElement("div",null,n.i18n.getTranslation("no_results_found"))}var i=n(0),o=n.n(i),a=n(13),s=(n.n(a),n(33));a.config.i18n.strings.add("no_results_found"),t.a=n.i(s.a)(r)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(21),c=(n.n(u),n(61)),l=n(43),p=n.n(l),f=n(171),d=n(46),h=n.n(d),m=n(987),y=n.n(m),b=n(984),v=n.n(b),g=n(40),w=(n.n(g),n(13)),O=(n.n(w),n(33)),S=n(700),_=n(14),E=(n.n(_),n(15)),x=n.n(E),T=n(201),P=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();w.config.i18n.strings.add("app_search_placeholder");var C=function(e){function t(){var e;r(this,t);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var s=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o)));return s.state={searchValue:""},s._setSearchValue=s._setSearchValue.bind(s),s._focusSearchField=s._focusSearchField.bind(s),s._onFocus=s._onFocus.bind(s),s._onBlur=s._onBlur.bind(s),s.clearSearchField=s.clearSearchField.bind(s),s}return o(t,e),P(t,[{key:"componentDidMount",value:function(){var e=function(e){return e.ctrlKey},t=function(e){return 32===e.keyCode||"Space"===e.key};this.disposable=_.Observable.fromEvent(window,"keyup").filter(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.map(function(t){return t(e)}).every(function(e){return!0===e})}}(e,t)).subscribe(this._focusSearchField,x.a.error)}},{key:"componentWillUnmount",value:function(){this.disposable&&this.disposable.unsubscribe&&this.disposable.unsubscribe()}},{key:"render",value:function(){return s.a.createElement("div",{style:c.a.searchField},s.a.createElement("div",{style:Object.assign({width:this.state.hasFocus?"100%":"50%"},c.a.searchFieldInnerWrap)},s.a.createElement(p.a,{fullWidth:!0,value:this.props.searchValue||"",onChange:this._setSearchValue,onFocus:this._onFocus,onBlur:this._onBlur,hintText:this.context.d2.i18n.getTranslation("app_search_placeholder"),hintStyle:c.a.searchFieldHintText,inputStyle:c.a.searchFieldInput,onKeyUp:this._onKeyUp,ref:"searchBox",underlineFocusStyle:{borderColor:g.white}}),this.props.searchValue?s.a.createElement(v.a,{style:c.a.clearIcon,color:g.white,onClick:this.clearSearchField}):""),s.a.createElement(h.a,{onClick:this._focusSearchField},s.a.createElement(y.a,{color:g.white})),s.a.createElement(S.a,null))}},{key:"_focusSearchField",value:function(){var e=n.i(u.findDOMNode)(this.refs.searchBox);e&&e!==document.activeElement&&e.querySelector("input").focus()}},{key:"clearSearchField",value:function(){this.state.hasFocus&&this._focusSearchField(),n.i(f.a)("")}},{key:"_setSearchValue",value:function(e){this.setState({hasValue:Boolean(e.target.value)}),n.i(f.a)(e.target.value)}},{key:"_onFocus",value:function(){this.setState({hasFocus:!0}),n.i(f.b)(!0)}},{key:"_onBlur",value:function(){this.setState({hasFocus:!1}),n.i(f.c)()}},{key:"_onKeyUp",value:function(e){n.i(f.d)(e,Math.floor(e.currentTarget.clientWidth/c.c))}}]),t}(a.Component);t.a=n.i(T.a)(f.e,n.i(O.a)(C))},function(e,t,n){"use strict";function r(e,t){var r=t.d2,i=(e.searchResults||[]).map(function(e){return o.a.createElement(c.a,g({key:e.label},e))}),a=o.a.createElement(y.a,{style:d.a.moreAppsButton,href:w(r)+"/dhis-web-menu-management"},r.i18n.getTranslation("manage_my_apps")),l=i.length?o.a.createElement(u.a,null,i):o.a.createElement(h.a,null),p=Object.assign({},d.a.searchResults,{display:"flex",flexDirection:"column",height:e.open?n.i(d.d)():0,overflow:e.open?void 0:"hidden"});return o.a.createElement(s.a,{style:p,onMouseEnter:function(){return n.i(f.f)(!0)},onMouseLeave:function(){return n.i(f.f)(!1)}},o.a.createElement("div",{style:{flex:1,overflow:"auto",padding:"1rem"}},l),o.a.createElement("div",{style:d.a.moreAppsButtonWrap},a))}var i=n(0),o=n.n(i),a=n(30),s=n.n(a),u=n(701),c=n(362),l=n(201),p=n(33),f=n(171),d=n(61),h=n(698),m=n(34),y=n.n(m),b=n(13),v=(n.n(b),n(110)),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};b.config.i18n.strings.add("manage_my_apps");var w=v.a,O=n.i(l.a)(f.e,n.i(p.a)(r));t.a=O},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(61),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),c(t,[{key:"render",value:function(){return s.a.createElement("div",{style:u.a.searchResultList},this.props.children)}}]),t}(a.Component);t.a=l,l.propTypes={children:a.PropTypes.array.isRequired}},function(e,t,n){"use strict";function r(e){u.config.i18n.strings.add(e)}function i(e){var t=a.Observable.of(g(b));return a.Observable.combineLatest(s.c,t,s.d).flatMap(function(e){return a.Observable.fromPromise(n.i(u.getInstance)().then(function(t){return n.i(s.e)(n.i(s.f)(t),e)}))}).map(function(t){return[].concat(e,t)})}t.a=i;var o=n(11),a=(n.n(o),n(14)),s=(n.n(a),n(132)),u=n(13),c=(n.n(u),n(82)),l=n.n(c),p=n(703),f=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=n.i(p.a)();n.i(o.map)(r,n.i(o.map)(l.a,n.i(o.flatten)(n.i(o.map)("items",d))));var h=n.i(o.curry)(function(e,t){return{name:l()(t),defaultAction:"/dhis-web-maintenance/#/list/"+e+"/"+t,icon:"/icons/dhis-web-maintenance.png",description:"",parentApp:"dhis-web-maintenance"}}),m=function(e){var t=f(e,2);t[0];return t[1].length},y=n.i(o.mapValues)("items",d),b=n.i(o.filter)(m,function(e){return Object.keys(e).map(function(t){return[t,e[t]]})}(y)),v=function(e){var t=f(e,2),r=t[0],i=t[1];return n.i(o.map)(h(r),i)},g=n.i(o.compose)(o.flatten,n.i(o.map)(v))},function(e,t,n){"use strict";function r(){return{all:{items:[]},dataElementSection:{items:["categoryOption","category","categoryCombo","categoryOptionCombo","categoryOptionGroup","categoryOptionGroupSet","dataElement","dataElementGroup","dataElementGroupSet"]},dataSetSection:{items:["dataSet"]},indicatorSection:{items:["indicator","indicatorType","indicatorGroup","indicatorGroupSet"]},organisationUnitSection:{items:["organisationUnit","organisationUnitGroup","organisationUnitGroupSet","organisationUnitLevel"]},trackerSection:{items:["trackedEntityAttribute","trackedEntityAttributeGroup","relationshipType","trackedEntity"]},otherSection:{items:["constant","attribute","optionSet","legendSet","predictor","pushAnalysis","externalMapLayer"]}}}t.a=r},function(e,t,n){"use strict";function r(e){c.config.i18n.strings.add(e)}function i(e){var t=a.Observable.of(f);return a.Observable.combineLatest(u.c,t,u.d).flatMap(function(e){return a.Observable.fromPromise(n.i(c.getInstance)().then(function(t){return n.i(u.e)(n.i(s.a)(t),e)}))}).map(function(t){return[].concat(e,t)})}t.a=i;var o=n(11),a=(n.n(o),n(14)),s=(n.n(a),n(110)),u=n(132),c=n(13),l=(n.n(c),n(705));n.i(o.map)(r,Object.keys(l.a).map(function(e){return l.a[e].pageLabel}));var p=function(e){return{name:l.a[e].pageLabel,defaultAction:"/dhis-web-settings/#/"+e,icon:"/icons/dhis-web-settings.png",description:"",parentApp:"dhis-web-settings"}},f=Object.keys(l.a).map(p)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={general:{label:"general",icon:"settings",pageLabel:"general_settings",settings:["keyAnalyticsMaxLimit","infrastructuralIndicators","infrastructuralDataElements","infrastructuralPeriodType","keyAnalysisRelativePeriod","feedbackRecipients","offlineOrganisationUnitLevel","factorDeviation","phoneNumberAreaCode","multiOrganisationUnitForms","keyAnalyticsMaintenanceMode"]},server:{label:"server",icon:"business",pageLabel:"server_settings",settings:["keyCacheStrategy","keyDatabaseServerCpus","keySystemNotificationsEmail","keyInstanceBaseUrl","googleAnalyticsUA"]},appearance:{label:"appearance",icon:"looks",pageLabel:"appearance_settings",settings:["localizedText","keyStyle","startModule","helpPageLink","keyFlag","keyUiLocale","keyDbLocale","keyAnalysisDisplayProperty","keyAnalysisDigitGroupSeparator","keyRequireAddToView","keyUseCustomLogoFront","keyUseCustomLogoBanner"]},email:{label:"email",icon:"email",pageLabel:"email_settings",settings:["keyEmailHostName","keyEmailPort","keyEmailUsername","keyEmailPassword","keyEmailTls","keyEmailSender","emailTestButton"]},messaging:{label:"messaging",icon:"message",pageLabel:"messaging_settings",settings:["keyMessageEmailNotification","keyMessageSmsNotification"]},access:{label:"access",icon:"lock_open",pageLabel:"access_settings",settings:["selfRegistrationRole","selfRegistrationOrgUnit","keySelfRegistrationNoRecaptcha","keyAccountRecovery","keyCanGrantOwnUserAuthorityGroups","keyAllowObjectAssignment","credentialsExpires","keyOpenIdProvider","keyOpenIdProviderLabel","corsWhitelist","keyMapzenSearchApiKey","keyGoogleMapsApiKey"]},approval:{label:"approval",icon:"spellcheck",pageLabel:"approval_settings",settings:["keyHideUnapprovedDataInAnalytics","keyAcceptanceRequiredForApproval","dataApprovalLevels"]},calendar:{label:"calendar",icon:"date_range",pageLabel:"calendar_settings",settings:["keyCalendar","keyDateFormat"]},import:{label:"import",icon:"system_update_alt",pageLabel:"import_settings",settings:["keyDataImportStrictPeriods","keyDataImportStrictCategoryOptionCombos","keyDataImportStrictOrganisationUnits","keyDataImportStrictAttributeOptionCombos","keyDataImportRequireCategoryOptionCombo","keyDataImportRequireAttributeOptionCombo"]},sync:{label:"synchronization",icon:"sync",pageLabel:"synchronization_settings",settings:["keyRemoteInstanceUrl","keyRemoteInstanceUsername","keyRemoteInstancePassword","keyMetadataDataVersioning"]},oauth2:{label:"oauth2_clients",icon:"vpn_lock",pageLabel:"oauth2_clients",authority:"F_OAUTH2_CLIENT_MANAGE",settings:["oauth2clients"]}}},function(e,t,n){"use strict";var r=n(23),i=n(361),o=n(14),a=(n.n(o),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),s=r.a.create();!function(e){s.setState(Object.assign({},s.getState()||{},{grid:e}))}({x:3,y:3}),t.a=o.Observable.combineLatest(i.b,s,function(e,t){return a({},t,{gridOptions:[{x:3,y:3},{x:5,y:4},{x:8,y:3}].concat(e?[{x:Math.ceil(e.length/4),y:4}]:[])})})},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(15),a=n.n(o);t.a=i.a.createClass({displayName:"AppWithD2.component",propTypes:{children:i.a.PropTypes.element,d2:i.a.PropTypes.shape({then:i.a.PropTypes.func.isRequired})},childContextTypes:{d2:i.a.PropTypes.object},getChildContext:function(){return{d2:this.state.d2}},getInitialState:function(){return{}},componentDidMount:function(){var e=this;if(!this.props.d2)return a.a.error("D2 is a required prop to <AppWithD2 />");this.props.d2.then(function(t){return e.setState({d2:t})}).catch(function(e){return a.a.error(e)})},render:function(){var e=this;return i.a.createElement("div",null,function(){return e.props.children?i.a.Children.map(e.props.children,function(e){return i.a.cloneElement(e)}):null}())}})},function(e,t,n){"use strict";function r(e,t){return e.contextTypes=e.contextTypes||{},Object.assign(e.contextTypes,t),e}t.a=r},function(e,t,n){"use strict";function r(e,t){e.actions[t].apply(e.actions,[e.activeItem]),e.onRequestClose&&e.onRequestClose()}function i(e,t){var n=Object.keys(e.actions).filter(function(t){return"function"==typeof e.actions[t]}),i={position:"fixed"};return a.a.createElement(h.a,v({},e,{open:Boolean(e.activeItem),anchorEl:e.target,anchorOrigin:{horizontal:"middle",vertical:"center"},animated:!1,style:i,animation:y.a}),a.a.createElement(u.a,{className:"data-table__context-menu",desktop:!0},n.map(function(n){var i=e.icons[n]?e.icons[n]:n;return a.a.createElement(l.a,{key:n,"data-object-id":e.activeItem&&e.activeItem.id,className:"data-table__context-menu__item",onClick:function(){return r(e,n)},primaryText:t.d2.i18n.getTranslation(n),leftIcon:a.a.createElement(f.a,{className:"material-icons"},i)})})))}var o=n(0),a=n.n(o),s=n(267),u=n.n(s),c=n(90),l=n.n(c),p=n(51),f=n.n(p),d=n(73),h=n.n(d),m=n(30),y=n.n(m),b=n(33),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};i.defaultProps={icons:{},actions:{}},i.propTypes={actions:o.PropTypes.objectOf(o.PropTypes.func),activeItem:o.PropTypes.object,icons:o.PropTypes.object,target:o.PropTypes.object,onRequestClose:o.PropTypes.func},t.a=n.i(b.a)(i)},function(e,t,n){"use strict";var r=n(82),i=n.n(r),o=n(0),a=n.n(o),s=n(155),u=n.n(s),c=n(100),l=a.a.createClass({displayName:"DataTableHeader",propTypes:{isOdd:a.a.PropTypes.bool,name:a.a.PropTypes.string},mixins:[c.a],render:function(){var e=u()("data-table__headers__header",{"data-table__headers__header--even":!this.props.isOdd,"data-table__headers__header--odd":this.props.isOdd});return a.a.createElement("div",{className:e},this.props.name?this.getTranslation(i()(this.props.name)):null)}});t.a=l},function(e,t,n){"use strict";function r(e,t){return e&&e.modelDefinition&&e.modelDefinition.modelValidations&&e.modelDefinition.modelValidations[t]&&e.modelDefinition.modelValidations[t].type}var i=n(0),o=n.n(i),a=n(155),s=n.n(a),u=n(11),c=(n.n(u),n(46)),l=n.n(c),p=n(997),f=n.n(p),d=n(33),h=n(519),m=n.i(d.a)(o.a.createClass({displayName:"DataTableRow",propTypes:{columns:o.a.PropTypes.arrayOf(o.a.PropTypes.string).isRequired,dataSource:o.a.PropTypes.object,isEven:o.a.PropTypes.bool,isOdd:o.a.PropTypes.bool,itemClicked:o.a.PropTypes.func.isRequired,primaryClick:o.a.PropTypes.func.isRequired},render:function(){var e=this,t=s()("data-table__rows__row",{"data-table__rows__row--even":!this.props.isOdd,"data-table__rows__row--odd":this.props.isOdd}),i=this.props.columns.map(function(t,i){var a={valueType:r(e.props.dataSource,t),value:e.props.dataSource[t],columnName:t},s=n.i(h.a)(a);return o.a.createElement("div",{key:i,className:"data-table__rows__row__column",onContextMenu:e.handleContextClick,onClick:e.handleClick},o.a.createElement(s,a))});return o.a.createElement("div",{className:t},i,o.a.createElement("div",{className:"data-table__rows__row__column",style:{width:"1%"}},o.a.createElement(l.a,{tooltip:this.context.d2.i18n.getTranslation("actions"),onClick:this.iconMenuClick},o.a.createElement(f.a,null))))},iconMenuClick:function(e){this.props.itemClicked(e,this.props.dataSource)},handleContextClick:function(e){e&&e.preventDefault(),this.props.itemClicked(e,this.props.dataSource)},handleClick:function(e){this.props.primaryClick(this.props.dataSource,e)}}));t.a=m},function(e,t,n){"use strict";function r(e){var t=(e.color,e.value),r={color:{backgroundColor:t,color:n.i(a.a)(t).l<70?"#FFF":"#000",textAlign:"center",position:"relative",width:90,height:36,lineHeight:2.5,boxShadow:"0 1px 6px rgba(0,0,0,0.12),0 1px 4px rgba(0,0,0,0.12)"}};return o.a.createElement("div",{style:r.color},t)}t.a=r;var i=n(0),o=n.n(i),a=n(499)},function(e,t,n){"use strict";var r=n(370),i=n(363),o=n(241),a=n(14),s=(n.n(a),n(288)),u=(n.n(s),a.Observable.fromPromise(n.i(o.a)("constant")).map(function(e){return{source:e.map(function(e){return{value:e.id,label:e.displayName}}),onItemDoubleClick:function(e){var t=["C{",e,"}"].join("");n.i(s.isFunction)(this.onSelect)&&this.onSelect(t)}}}));t.a=n.i(i.a)(u,r.a)},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(724),a=n(45),s=n.n(a),u=n(102),c=n.n(u),l=n(504),p=n(100),f=n(23),d=n(719),h=n(13);n.n(h);h.config.i18n.strings.add("search_by_name");var m=i.a.createClass({displayName:"DataElementOperandSelector",propTypes:{dataElementOperandSelectorActions:i.a.PropTypes.object,dataElementOperandStore:i.a.PropTypes.object,onItemDoubleClick:i.a.PropTypes.func.isRequired,listStyle:i.a.PropTypes.object},mixins:[p.a],getDefaultProps:function(){return{dataElementOperandSelectorActions:n.i(d.a)(),dataElementOperandStore:f.a.create()}},getInitialState:function(){return{isLoading:!0,pager:{hasNextPage:function(){return!1},hasPreviousPage:function(){return!1}}}},componentWillMount:function(){var e=this;this.actionSubscriptions=n.i(d.b)(this.props.dataElementOperandSelectorActions,this.props.dataElementOperandStore),this.props.dataElementOperandSelectorActions&&this.props.dataElementOperandSelectorActions.loadList(),this.storeObservable=this.props.dataElementOperandStore.do(function(t){return e.setState({pager:t.pager})}).map(function(e){return e.toArray()}).map(function(e){return e.map(function(e){return{label:e.displayName,value:e.id}})}).do(function(t){return e.setState({isLoading:!1}),t}),this.disposable=this.storeObservable.map(function(e){return e.pager}).filter(function(e){return Boolean(e)}).subscribe(function(t){e.setState({pager:t})})},componentWillUnmount:function(){this.disposable&&this.disposable.unsubscribe(),this.actionSubscriptions.forEach(function(e){return e.unsubscribe()})},getNextPage:function(){this.setState({isLoading:!0}),this.props.dataElementOperandSelectorActions.getNextPage(this.state.pager,this.state.searchValue)},getPreviousPage:function(){this.setState({isLoading:!0}),this.props.dataElementOperandSelectorActions.getPreviousPage(this.state.pager,this.state.searchValue)},render:function(){var e=this;return i.a.createElement("div",{className:"data-element-operand-selector"},i.a.createElement("div",{style:{float:"right"}},i.a.createElement(l.a,{hasNextPage:function(){return e.state.pager.hasNextPage()},hasPreviousPage:function(){return e.state.pager.hasPreviousPage()},onNextPageClick:this.getNextPage,onPreviousPageClick:this.getPreviousPage})),i.a.createElement(s.a,{style:{marginLeft:"1rem"},hintText:this.getTranslation("search_by_name"),onChange:this.searchDataElement}),this.state.isLoading?i.a.createElement(c.a,{mode:"indeterminate"}):null,i.a.createElement(o.a,{size:12,onItemDoubleClick:this.props.onItemDoubleClick,source:this.storeObservable,listStyle:this.props.listStyle}))},searchDataElement:function(e){var t=this,n=e.target.value;this.props.dataElementOperandSelectorActions.search(n).subscribe(function(){t.setState({isLoading:!1,searchValue:n})}),this.setState({isLoading:!0})}});t.a=m},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var i=n(0),o=n.n(i),a=n(45),s=n.n(a),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=o.a.createClass({displayName:"ExpressionDescription",propTypes:{descriptionLabel:o.a.PropTypes.string,descriptionValue:o.a.PropTypes.string,onDescriptionChange:o.a.PropTypes.func.isRequired,errorText:o.a.PropTypes.string},render:function(){var e=this.props,t=(e.descriptionLabel,e.descriptionValue,e.onDescriptionChange,r(e,["descriptionLabel","descriptionValue","onDescriptionChange"]));return o.a.createElement("div",{className:"expression-description"},o.a.createElement(s.a,u({},t,{value:this.props.descriptionValue,floatingLabelText:this.props.descriptionLabel,onChange:this.handleDescriptionChange,fullWidth:!0,errorText:this.props.errorText})))},handleDescriptionChange:function(e){var t=e.target.value;this.props.onDescriptionChange(t)}});t.a=c},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(155),a=n.n(o),s=n(68),u=n.n(s),c=i.a.createClass({displayName:"ExpressionOperators",propTypes:{operatorClicked:i.a.PropTypes.func.isRequired},render:function(){var e=a()("expression-operators"),t={minWidth:50};return i.a.createElement("div",{className:e},i.a.createElement(u.a,{style:t,onClick:this.createOperatorClick("(")},"("),i.a.createElement(u.a,{style:t,onClick:this.createOperatorClick(")")},")"),i.a.createElement(u.a,{style:t,onClick:this.createOperatorClick(" * ")},"*"),i.a.createElement(u.a,{style:t,onClick:this.createOperatorClick(" / ")},"/"),i.a.createElement(u.a,{style:t,onClick:this.createOperatorClick(" + ")},"+"),i.a.createElement(u.a,{style:t,onClick:this.createOperatorClick(" - ")},"-"),i.a.createElement(u.a,{style:t,onClick:this.createOperatorClick(" [days] ")},"Days"))},createOperatorClick:function(e){return function(){this.props.operatorClicked(e)}.bind(this)}});t.a=c},function(e,t,n){"use strict";var r=n(370),i=n(363),o=n(241),a=n(14),s=(n.n(a),n(288)),u=(n.n(s),a.Observable.fromPromise(n.i(o.a)("organisationUnitGroup")).map(function(e){return{source:e.map(function(e){return{value:e.id,label:e.displayName}}),onItemDoubleClick:function(e){var t=["OUG{",e,"}"].join("");n.i(s.isFunction)(this.onSelect)&&this.onSelect(t)}}}));t.a=n.i(i.a)(u,r.a)},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),u=n.n(s),c=n(158),l=n.n(c),p=n(123),f=n.n(p),d=n(243),h=n(13),m=(n.n(h),n(100)),y=n(15),b=n.n(y),v=n(83),g=n(365),w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();h.config.i18n.strings.add("please_select_a_program"),h.config.i18n.strings.add("no_tracked_entity_attributes"),h.config.i18n.strings.add("no_program_indicators"),h.config.i18n.strings.add("no_program_data_elements");var S=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.state={isLoading:!0,options:[]},r}return a(t,e),O(t,[{key:"componentDidMount",value:function(){var e=this;this.getSchema().list({paging:!1,fields:"displayName,id"}).then(function(e){return e.toArray()}).then(function(t){return e.setState({options:t,isLoading:!1})}).catch(function(){return e.setState({isLoading:!1})})}},{key:"getSchema",value:function(){var e=this,t=this.context.d2;if(function(){return e.props.schema&&t.models[e.props.schema]}())return t.models[this.props.schema];throw new Error(this.props.schema+" is not a valid schema name on the d2.models object. Perhaps you forgot to load the schema or the schema does not exist.")}},{key:"render",value:function(){var e=this.props,t=(e.schema,r(e,["schema"]));return this.isLoading?u.a.createElement(v.a,null):u.a.createElement(g.a,w({menuItems:this.state.options},t))}}]),t}(s.Component);S.propTypes={schema:s.PropTypes.string.isRequired},S.contextTypes={d2:s.PropTypes.object},t.a=u.a.createClass({displayName:"ProgramOperandSelector",propTypes:{programOperandSelected:u.a.PropTypes.func.isRequired},mixins:[m.a],getInitialState:function(){return{programTrackedEntityAttributeOptions:[],programIndicatorOptions:[],programDataElementOptions:[],programMenuItems:[]}},componentDidMount:function(){var e=this;this.context.d2.models.program.list({paging:!1,fields:"id,displayName,programTrackedEntityAttributes[id,displayName,dimensionItem],programIndicators[id,displayName,dimensionItem]"}).then(function(e){return e.toArray()}).then(function(t){var n=t.map(function(e){return{payload:e.id,text:e.displayName}}).sort(function(e,t){return e.text.localeCompare(t.text.toLowerCase())});e.setState({programMenuItems:n,programAttributes:new Map(t.map(function(e){return[e.id,Array.from(e.programTrackedEntityAttributes.values()).map(function(e){return{value:e.dimensionItem,label:e.displayName}}).sort(function(e,t){return e.label.toLowerCase().localeCompare(t.label.toLowerCase())})]})),programIndicators:new Map(t.map(function(e){return[e.id,Array.from(e.programIndicators.values()).map(function(e){return{value:e.dimensionItem,label:e.displayName}}).sort(function(e,t){return e.label.toLowerCase().localeCompare(t.label.toLowerCase())})]}))})}).catch(function(e){return b.a.error(e)})},renderTabs:function(){var e={width:"100%",outline:"none",border:"none",padding:"0rem 1rem"},t={padding:"1rem"};return u.a.createElement(l.a,{tabItemContainerStyle:{backgroundColor:"#FFF"}},u.a.createElement(f.a,{label:this.getTranslation("program_data_elements"),style:{color:"#333"}},this.state.programDataElementOptions.length?u.a.createElement(d.a,{onItemDoubleClick:this._programDataElementSelected,source:this.state.programDataElementOptions,listStyle:e,size:10}):u.a.createElement("div",{style:t},this.getTranslation("no_program_data_elements"))),u.a.createElement(f.a,{label:this.getTranslation("program_tracked_entity_attributes"),style:{color:"#333"}},this.state.programTrackedEntityAttributeOptions.length?u.a.createElement(d.a,{onItemDoubleClick:this._programTrackedEntityAttributeSelected,source:this.state.programTrackedEntityAttributeOptions,listStyle:e,size:10}):u.a.createElement("div",{style:t},this.getTranslation("no_tracked_entity_attributes"))),u.a.createElement(f.a,{label:this.getTranslation("program_indicators"),style:{color:"#333"}},this.state.programIndicatorOptions.length?u.a.createElement(d.a,{onItemDoubleClick:this._programIndicatorSelected,source:this.state.programIndicatorOptions,listStyle:e,size:10}):u.a.createElement("div",{style:t},this.getTranslation("no_program_indicators"))))},render:function(){return u.a.createElement("div",null,u.a.createElement("div",{style:{margin:"0 1rem"}},u.a.createElement(S,{schema:"program",value:this.state.selectedProgram,fullWidth:!0,onChange:this._loadProgramDataOperands,hintText:this.getTranslation("please_select_a_program")})),this.state.selectedProgram?this.renderTabs():null)},_loadProgramDataOperands:function(e){var t=this,n=this.context.d2.Api.getApi(),r=e.target.value;n.get("programDataElements",{program:r,fields:"id,displayName,dimensionItem",paging:!1,order:"displayName:asc"}).then(function(e){t.setState({selectedProgram:r,programDataElementOptions:e.programDataElements.map(function(e){return{value:e.dimensionItem,label:e.displayName}}),programIndicatorOptions:t.state.programIndicators.get(r)||[],programTrackedEntityAttributeOptions:t.state.programAttributes.get(r)||[]})}).catch(function(e){return b.a.error(e)})},_programTrackedEntityAttributeSelected:function(e){var t=["A{",e,"}"].join("");this.props.programOperandSelected(t)},_programIndicatorSelected:function(e){var t=["I{",e,"}"].join("");this.props.programOperandSelected(t)},_programDataElementSelected:function(e){var t=["D{",e,"}"].join("");this.props.programOperandSelected(t)}})},function(e,t,n){"use strict";function r(e,t){var r=e.loadList.subscribe(function(){n.i(o.getInstance)().then(function(e){return e.Api.getApi().get("dataElementOperands",{fields:"id,displayName",totals:!0,filter:["dataElement.domainType:eq:AGGREGATE"]})}).then(p).then(function(e){return t.setState(e)})}),i=e.search.debounceTime(500).distinctUntilChanged(function(e,t){return e===t},function(e){return e.data}).map(function(e){var t=n.i(o.getInstance)().then(function(t){return e.data?t.Api.getApi().get("dataElementOperands",{fields:"id,displayName",totals:!0,filter:["dataElement.domainType:eq:AGGREGATE","name:ilike:"+e.data]}):t.Api.getApi().get("dataElementOperands",{fields:"id,displayName",totals:!0,filter:["dataElement.domainType:eq:AGGREGATE"]})}).then(p).then(function(t){return{complete:e.complete,error:e.error,collection:t}});return c.Observable.fromPromise(t)}).concatAll().subscribe(function(e){t.setState(e.collection),e.complete()}),a=e.getNextPage.subscribe(function(e){var n=l(e.data,2),r=n[0],i=n[1];r.pagingHandler.searchValue=i,r.getNextPage().then(p).then(function(t){return{complete:e.complete,error:e.error,collection:t}}).then(function(e){t.setState(e.collection),e.complete()})}),s=e.getPreviousPage.subscribe(function(e){var n=l(e.data,2),r=n[0],i=n[1];r.pagingHandler.searchValue=i,r.getPreviousPage().then(p).then(function(t){return{complete:e.complete,error:e.error,collection:t}}).then(function(e){t.setState(e.collection),e.complete()})}),u=[];return u.push(r),u.push(i),u.push(a),u.push(s),u}function i(){return u.a.createActionsFromNames(["search","loadList","getNextPage","getPreviousPage"])}t.b=r,t.a=i;var o=n(13),a=(n.n(o),n(385)),s=n.n(a),u=n(37),c=n(14),l=(n.n(c),function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()),p=function(e){return{pager:new s.a(e.pager,{list:function(e){var t=this;return n.i(o.getInstance)().then(function(n){return t.searchValue?n.Api.getApi().get("dataElementOperands",{page:e.page,fields:"id,displayName",filter:["dataElement.domainType:eq:AGGREGATE","name:ilike:"+t.searchValue],totals:!0}):n.Api.getApi().get("dataElementOperands",{page:e.page,fields:"id,displayName",totals:!0,filter:["dataElement.domainType:eq:AGGREGATE"]})})}}),toArray:function(){return e.dataElementOperands}}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return Promise.all(e.map(function(e){return e.call(null,t)})).then(function(){return{isValid:!0}}).catch(function(e){return{isValid:!1,message:e}})}var o=n(14),a=(n.n(o),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),s=function(){function e(t){r(this,e),this.scheduler=t,this.validatorPipeline=new o.Subject,this.debounceTimeInMs=400}return a(e,[{key:"run",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2];return this.validatorPipeline.next({fieldName:e,asyncValidators:t,value:n}),this}},{key:"listenToValidatorsFor",value:function(e){return this.validatorPipeline.filter(function(t){return t.fieldName===e}).debounceTime(this.debounceTimeInMs,this.scheduler).map(function(e){return o.Observable.fromPromise(i(e.asyncValidators,e.value)).map(function(t){return Object.assign(t,{fieldName:e.fieldName,value:e.value})})}).concatAll()}}],[{key:"create",value:function(t){return new e(t)}}]),e}();t.a=s},function(e,t,n){"use strict";function r(e){return e.imgSrc?o.a.createElement(a.a,e):o.a.createElement(u.a,{onClick:e.onIconClicked},o.a.createElement(c.a,null,"select"))}t.a=r;var i=n(0),o=n.n(i),a=n(366),s=n(68),u=n.n(s),c=n(71)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return e.replace(/\/+?$/,"")}function s(e,t){return t?[a(e),t].filter(function(e){return e}).join("/"):""}var u=n(0),c=n.n(u),l=n(73),p=n.n(l),f=n(366),d=n(721),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=function(e){function t(){var e;r(this,t);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var s=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o)));return s.state={showOptions:!1},s._currentIconClicked=s._currentIconClicked.bind(s),s._closeOptions=s._closeOptions.bind(s),s._onIconSelected=s._onIconSelected.bind(s),s}return o(t,e),m(t,[{key:"render",value:function(){var e=this,t={iconPopover:{paddingTop:"1rem",width:"50%"},iconPickerLabel:{transformOrigin:"left top 0px",pointerEvents:"none",color:"rgba(0, 0, 0, 0.498039)",padding:"1rem 0 .5rem",transition:"all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms",transform:"scale(.75)",fontSize:"16px"}},n=this.props.options.map(function(t,n){var r={value:t,imgSrc:[a(e.props.imgPath),t].join("/")};return c.a.createElement(f.a,h({key:n},r,{onIconClicked:e._onIconSelected}))});return c.a.createElement("div",null,c.a.createElement("div",{className:"icon-picker__label-text",style:t.iconPickerLabel},this.props.labelText),c.a.createElement(d.a,{imgSrc:s(this.props.imgPath,this.props.value),onIconClicked:this._currentIconClicked}),c.a.createElement(p.a,{open:this.state.showOptions,anchorEl:this.state.anchorEl,onRequestClose:this._closeOptions,style:Object.assign(t.iconPopover,this.props.iconPopoverStyle)},n))}},{key:"_currentIconClicked",value:function(e){this.setState({anchorEl:e.currentTarget,showOptions:!this.state.showOptions})}},{key:"_closeOptions",value:function(){this.setState({showOptions:!1})}},{key:"_onIconSelected",value:function(e,t){var n=this;this.setState({showOptions:!1},function(){n.props.onChange(t)})}}]),t}(c.a.Component);y.propTypes={imgPath:c.a.PropTypes.string,options:c.a.PropTypes.array,labelText:c.a.PropTypes.string,onChange:c.a.PropTypes.func,value:c.a.PropTypes.any,iconPopoverStyle:c.a.PropTypes.object},y.defaultProps={imgPath:"",options:[],labelText:"Icon picker",onChange:function(){}},t.a=y},function(e,t,n){"use strict";function r(e){var t={marginBottom:"4rem",width:"100%"};return o.a.createElement("div",{style:t},e.children)}var i=n(0),o=n.n(i);r.propTypes={children:o.a.PropTypes.oneOfType([o.a.PropTypes.array.isRequired,o.a.PropTypes.object.isRequired])},t.a=r},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(243),a=n(14),s=(n.n(a),n(15)),u=n.n(s),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=i.a.createClass({displayName:"ListSelectAsync",propTypes:{source:i.a.PropTypes.instanceOf(a.Observable),onItemDoubleClick:i.a.PropTypes.func.isRequired,listStyle:i.a.PropTypes.object},getInitialState:function(){return{listSource:[]}},componentWillMount:function(){var e=this;this.props.source&&(this.subscription=this.props.source.subscribe(function(t){return e.setState({listSource:t})},function(e){return u.a.error(e)}))},componentWillUnmount:function(){this.subscription&&this.subscription.unsubscribe()},render:function(){return i.a.createElement(o.a,c({},this.props,{onItemDoubleClick:this.props.onItemDoubleClick,source:this.state.listSource,listStyle:this.props.listStyle}))}});t.a=l},function(e,t,n){"use strict";var r=n(0),i=(n.n(r),n(726)),o=n(532),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.a=n.i(o.a)(function(e){return a({style:{color:"red"}},e)},i.a)},function(e,t,n){"use strict";function r(e){var t=e.style,n=e.message,r=Object.assign({},a,t);return o.a.createElement("div",{style:r},n)}t.a=r;var i=n(0),o=n.n(i),a={padding:"0.5rem 0"};r.propTypes={style:i.PropTypes.object,message:i.PropTypes.string}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(15),c=n.n(u),l=n(116),p=n.n(l),f=n(244),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h={button:{position:"relative",top:3,marginLeft:16},progress:{height:2,backgroundColor:"rgba(0,0,0,0)",top:46}};h.button1=Object.assign({},h.button,{marginLeft:0});var m=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.state={loading:!1,cache:null},o.addToSelection=f.a.bind(o),o.removeFromSelection=f.b.bind(o),o.handleSelectAll=o.handleSelectAll.bind(o),o.handleDeselectAll=o.handleDeselectAll.bind(o),o.getTranslation=n.d2.i18n.getTranslation.bind(n.d2.i18n),o}return o(t,e),d(t,[{key:"handleSelectAll",value:function(){var e=this;this.props.currentRoot?(this.setState({loading:!0}),this.getDescendantOrgUnits().then(function(t){e.setState({loading:!1}),e.addToSelection(t)})):Array.isArray(this.state.cache)?this.props.onUpdateSelection(this.state.cache.slice()):(this.setState({loading:!0}),this.context.d2.models.organisationUnits.list({fields:"id,path",paging:!1}).then(function(t){var n=t.toArray().map(function(e){return e.path});e.setState({cache:n,loading:!1}),e.props.onUpdateSelection(n.slice())}).catch(function(t){e.setState({loading:!1}),c.a.error("Failed to load all org units:",t)}))}},{key:"getDescendantOrgUnits",value:function(){return this.context.d2.models.organisationUnits.list({root:this.props.currentRoot.id,paging:!1,includeDescendants:!0,fields:"id,path"})}},{key:"handleDeselectAll",value:function(){var e=this;this.props.currentRoot?(this.setState({loading:!0}),this.getDescendantOrgUnits().then(function(t){e.setState({loading:!1}),e.removeFromSelection(t)})):this.props.onUpdateSelection([])}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(p.a,{style:h.button1,label:this.getTranslation("select_all"),onClick:this.handleSelectAll,disabled:this.state.loading}),s.a.createElement(p.a,{style:h.button,label:this.getTranslation("deselect_all"),onClick:this.handleDeselectAll,disabled:this.state.loading}))}}]),t}(s.a.Component);m.propTypes={selected:s.a.PropTypes.array.isRequired,onUpdateSelection:s.a.PropTypes.func.isRequired,currentRoot:s.a.PropTypes.object},m.contextTypes={d2:s.a.PropTypes.object.isRequired},t.a=m},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(15),c=n.n(u),l=n(244),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.state={loading:!1,selection:void 0},o.groupCache={},o.addToSelection=l.a.bind(o),o.removeFromSelection=l.b.bind(o),o.handleChangeSelection=l.c.bind(o),o.renderControls=l.d.bind(o),o.getOrgUnitsForGroup=o.getOrgUnitsForGroup.bind(o),o.handleSelect=o.handleSelect.bind(o),o.handleDeselect=o.handleDeselect.bind(o),o.getTranslation=n.d2.i18n.getTranslation.bind(n.d2.i18n),o}return o(t,e),p(t,[{key:"getOrgUnitsForGroup",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.context.d2;return new Promise(function(i){if(t.props.currentRoot)c.a.debug("Loading org units for group "+e+" within "+t.props.currentRoot.displayName),t.setState({loading:!0}),r.models.organisationUnits.list({root:t.props.currentRoot.id,paging:!1,includeDescendants:!0,fields:"id,path",filter:"organisationUnitGroups.id:eq:"+e}).then(function(e){return e.toArray()}).then(function(n){c.a.debug("Loaded "+n.length+" org units for group "+e+" within "+t.props.currentRoot.displayName),t.setState({loading:!1}),i(n.slice())});else if(!n&&t.groupCache.hasOwnProperty(e))i(t.groupCache[e].slice());else{c.a.debug("Loading org units for group "+e),t.setState({loading:!0});var o=t.context.d2;o.models.organisationUnitGroups.get(e,{fields:"organisationUnits[id,path]"}).then(function(e){return e.organisationUnits.toArray()}).then(function(n){c.a.debug("Loaded "+n.length+" org units for group "+e),t.setState({loading:!1}),t.groupCache[e]=n,i(n.slice())}).catch(function(n){t.setState({loading:!1}),c.a.error("Failed to load org units in group "+e+":",n)})}})}},{key:"handleSelect",value:function(){this.getOrgUnitsForGroup(this.state.selection).then(this.addToSelection)}},{key:"handleDeselect",value:function(){this.getOrgUnitsForGroup(this.state.selection).then(this.removeFromSelection)}},{key:"render",value:function(){var e=Array.isArray(this.props.groups)&&this.props.groups||this.props.groups.toArray();return l.e.call(this,e,"organisation_unit_group")}}]),t}(s.a.Component);f.propTypes={groups:s.a.PropTypes.oneOfType([s.a.PropTypes.object,s.a.PropTypes.array]).isRequired,selected:s.a.PropTypes.array.isRequired,onUpdateSelection:s.a.PropTypes.func.isRequired,currentRoot:s.a.PropTypes.object},f.contextTypes={d2:s.a.PropTypes.any.isRequired},t.a=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(15),c=n.n(u),l=n(244),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.state={loading:!1,selection:void 0},o.levelCache={},o.addToSelection=l.a.bind(o),o.removeFromSelection=l.b.bind(o),o.handleChangeSelection=l.c.bind(o),o.renderControls=l.d.bind(o),o.getOrgUnitsForLevel=o.getOrgUnitsForLevel.bind(o),o.handleSelect=o.handleSelect.bind(o),o.handleDeselect=o.handleDeselect.bind(o),o.getTranslation=n.d2.i18n.getTranslation.bind(n.d2.i18n),o}return o(t,e),p(t,[{key:"getOrgUnitsForLevel",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.context.d2;return new Promise(function(i){if(t.props.currentRoot){var o=t.props.currentRoot.level||t.props.currentRoot.path?t.props.currentRoot.path.match(/\//g).length:NaN,a=e-o;if(isNaN(a)||a<0)return c.a.info("Unable to select org unit levels higher up in the hierarchy than the current root"),i([]);r.models.organisationUnits.list({paging:!1,level:e-o,fields:"id,path",root:t.props.currentRoot.id}).then(function(e){return e.toArray()}).then(function(e){c.a.debug("Loaded "+e.length+" org units for level "+a+" under "+t.props.currentRoot.displayName),t.setState({loading:!1}),i(e)})}else!n&&t.levelCache.hasOwnProperty(e)?i(t.levelCache[e].slice()):(c.a.debug("Loading org units for level "+e),t.setState({loading:!0}),r.models.organisationUnits.list({paging:!1,level:e,fields:"id,path"}).then(function(e){return e.toArray()}).then(function(n){c.a.debug("Loaded "+n.length+" org units for level "+e),t.setState({loading:!1}),t.levelCache[e]=n,i(n.slice())}).catch(function(n){t.setState({loading:!1}),c.a.error("Failed to load org units in level "+e+":",n)}))})}},{key:"handleSelect",value:function(){var e=this;this.getOrgUnitsForLevel(this.state.selection).then(function(t){e.addToSelection(t)})}},{key:"handleDeselect",value:function(){var e=this;this.getOrgUnitsForLevel(this.state.selection).then(function(t){e.removeFromSelection(t)})}},{key:"render",value:function(){var e=this.props.currentRoot,t=e?e.level||e.path.match(/\//g).length:1,n=(Array.isArray(this.props.levels)&&this.props.levels||this.props.levels.toArray()).filter(function(e){return e.level>=t}).map(function(e){return{id:e.level,displayName:e.displayName}});return l.e.call(this,n,"organisation_unit_level")}}]),t}(s.a.Component);f.propTypes={levels:s.a.PropTypes.oneOfType([s.a.PropTypes.object,s.a.PropTypes.array]).isRequired,selected:s.a.PropTypes.array.isRequired,onUpdateSelection:s.a.PropTypes.func.isRequired,currentRoot:function(e,t,n){if(e[t]){if(!e[t].hasOwnProperty("id"))return new Error("currentRoot must have an `id` property");if(!e[t].hasOwnProperty("level")&&!e[t].hasOwnProperty("path"))return new Error("currentRoot must have either a `level` or a `path` property")}}},f.contextTypes={d2:s.a.PropTypes.any.isRequired},t.a=f},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),u=n.n(s),c=n(15),l=n.n(c),p=n(184),f=n.n(p),d=n(90),h=n.n(d),m=n(212),y=n.n(m),b=n(386),v=(n.n(b),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),g={datePicker:{width:"100%"},year:{width:55,marginRight:16},month:{width:105},week:{width:105},biMonth:{width:200},quarter:{width:200},sixMonth:{width:200},line:{marginTop:0}},w=function(e){return new Date(e).getFullYear()},O=function(e){return("0"+(new Date(e).getMonth()+1)).slice(-2)},S=function(e){return("0"+new Date(e).getDate()).slice(-2)},_=function(e){return""+w(e)+O(e)+S(e)},E=function(e){var t=new Date(e);return t.setDate(t.getDate()-(e.getDay()+6)%7+3),t.getFullYear()},x=function(e,t){return!n.i(b.is53WeekISOYear)(e)&&53!==Number(t)},T=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.state={},r.getTranslation=n.d2.i18n.getTranslation.bind(n.d2.i18n),r}return a(t,e),v(t,[{key:"getPeriod",value:function(){var e=this.state.year&&this.state.week&&n.i(b.getFirstDateOfWeek)(this.state.year,this.state.week);switch(this.props.periodType){case"Daily":return this.state.date&&_(this.state.date);case"Weekly":return e&&this.setState({invalidWeek:!x(e,this.state.week)}),e&&x(e,this.state.week)&&E(e)+"W"+this.state.week;case"WeeklyWednesday":return e&&this.setState({invalidWeek:!x(e,this.state.week)}),e&&x(e,this.state.week)&&E(e)+"WedW"+this.state.week;case"WeeklyThursday":return e&&this.setState({invalidWeek:!x(e,this.state.week)}),e&&x(e,this.state.week)&&E(e)+"ThuW"+this.state.week;case"WeeklySaturday":return e&&this.setState({invalidWeek:!x(e,this.state.week)}),e&&x(e,this.state.week)&&E(e)+"SatW"+this.state.week;case"WeeklySunday":return e&&this.setState({invalidWeek:!x(e,this.state.week)}),e&&x(e,this.state.week)&&E(e)+"SunW"+this.state.week;case"Monthly":return this.state.year&&this.state.month&&""+this.state.year+this.state.month;case"BiMonthly":return this.state.year&&this.state.biMonth&&this.state.year+"0"+this.state.biMonth+"B";case"Quarterly":return this.state.year&&this.state.quarter&&this.state.year+"Q"+this.state.quarter;case"SixMonthly":return this.state.year&&this.state.sixMonth&&this.state.year+"S"+this.state.sixMonth;case"SixMonthlyApril":return this.state.year&&this.state.sixMonth&&this.state.year+"AprilS"+this.state.sixMonth;case"Yearly":return this.state.year;case"FinancialApril":return this.state.year&&this.state.year+"April";case"FinancialJuly":return this.state.year&&this.state.year+"July";case"FinancialOct":return this.state.year&&this.state.year+"Oct";default:return l.a.error("Unknown period type: "+this.props.periodType),!1}}},{key:"handleChange",value:function(){this.getPeriod()&&(this.props.onPickPeriod(this.getPeriod()),this.setState({date:void 0,week:void 0,month:void 0,biMonth:void 0,quarter:void 0,sixMonth:void 0}))}},{key:"renderOptionPicker",value:function(e,t){var n=this,i=function(t,i,o){return n.setState(r({},e,o),n.handleChange)},o="week"===e&&this.state.invalidWeek;return u.a.createElement(f.a,{value:this.state[e],onChange:i,style:g[e],floatingLabelText:this.getTranslation(e),floatingLabelStyle:o?{color:"red"}:{}},u.a.createElement(h.a,{key:"",value:this.state[e],primaryText:""}),Object.keys(t).sort().map(function(e,r){return u.a.createElement(h.a,{key:r,value:e,primaryText:/[^0-9]/.test(t[e])?n.getTranslation(t[e]):t[e]})}))}},{key:"renderYearPicker",value:function(){for(var e={},t=(new Date).getFullYear(),n=2014;n<t+5;n++)e[n]=n;return this.renderOptionPicker("year",e)}},{key:"renderMonthPicker",value:function(){var e={"01":"jan","02":"feb","03":"mar","04":"apr","05":"may","06":"jun","07":"jul","08":"aug","09":"sep",10:"oct",11:"nov",12:"dec"};return this.renderOptionPicker("month",e)}},{key:"renderWeekPicker",value:function(){for(var e={},t=1;t<=53;t++)e[("0"+t).substr(-2)]=t;return this.renderOptionPicker("week",e)}},{key:"renderBiMonthPicker",value:function(){var e={1:"jan-feb",2:"mar-apr",3:"may-jun",4:"jul-aug",5:"sep-oct",6:"nov-dec"};return this.renderOptionPicker("biMonth",e)}},{key:"renderQuarterPicker",value:function(){var e={1:"Q1",2:"Q2",3:"Q3",4:"Q4"};return this.renderOptionPicker("quarter",e)}},{key:"render",value:function(){var e=this,t=function(t,n){var r=w(n),i=O(n);e.setState({date:n,year:r,month:i},e.handleChange)};switch(this.props.periodType){case"Daily":return u.a.createElement(y.a,{floatingLabelText:this.getTranslation("day"),onChange:t,autoOk:!0,container:"inline",style:g.datePicker});case"Weekly":case"WeeklyWednesday":case"WeeklyThursday":case"WeeklySaturday":case"WeeklySunday":return u.a.createElement("div",{style:g.line},this.renderYearPicker(),this.renderWeekPicker());case"Monthly":return u.a.createElement("div",{style:g.line},this.renderYearPicker(),this.renderMonthPicker());case"BiMonthly":return u.a.createElement("div",{style:g.line},this.renderYearPicker(),this.renderBiMonthPicker());case"Quarterly":return u.a.createElement("div",{style:g.line},this.renderYearPicker(),this.renderQuarterPicker());case"SixMonthly":return u.a.createElement("div",{style:g.line},this.renderYearPicker(),this.renderOptionPicker("sixMonth",{1:"jan-jun",2:"jul-dec"}));case"SixMonthlyApril":return u.a.createElement("div",{style:g.line},this.renderYearPicker(),this.renderOptionPicker("sixMonth",{1:"apr-sep",2:"oct-mar"}));case"Yearly":case"FinancialApril":case"FinancialJuly":case"FinancialOct":return u.a.createElement("div",{style:g.line},this.renderYearPicker());default:return null}}}]),t}(u.a.Component);T.propTypes={periodType:u.a.PropTypes.oneOf(["Daily","Weekly","WeeklyWednesday","WeeklyThursday","WeeklySaturday","WeeklySunday","Monthly","BiMonthly","Quarterly","SixMonthly","SixMonthlyApril","Yearly","FinancialApril","FinancialJuly","FinancialOct"]).isRequired,onPickPeriod:u.a.PropTypes.func.isRequired},T.contextTypes={d2:u.a.PropTypes.object.isRequired},t.a=T},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(181),a=n.n(o),s=n(182),u=n.n(s),c=n(43),l=n.n(c),p=n(51),f=n.n(p),d={container:{padding:"16px 32px 0 24px",position:"relative",flex:1},closeButton:{position:"absolute",cursor:"pointer",top:"2rem",right:".75rem",fontSize:"1rem",color:"#AAA"},list:{paddingTop:0,paddingBottom:0,backgroundColor:"transparent",marginTop:16},item:{fontSize:14,borderRadius:5,margin:"0 8px"},activeItem:{fontSize:14,fontWeight:700,color:"#2196f3",backgroundColor:"#e0e0e0",borderRadius:5,margin:"0 8px"},sidebar:{backgroundColor:"#f3f3f3",overflowY:"auto",width:295}},h=i.a.createClass({displayName:"Sidebar",propTypes:{sections:i.a.PropTypes.arrayOf(i.a.PropTypes.shape({key:i.a.PropTypes.string,label:i.a.PropTypes.string,icon:i.a.PropTypes.oneOfType([i.a.PropTypes.string,i.a.PropTypes.element])})).isRequired,currentSection:i.a.PropTypes.string,onChangeSection:i.a.PropTypes.func.isRequired,onSectionClick:i.a.PropTypes.func,showSearchField:i.a.PropTypes.bool,searchFieldLabel:i.a.PropTypes.string,onChangeSearchText:i.a.PropTypes.func,sideBarButtons:i.a.PropTypes.element,styles:i.a.PropTypes.shape({leftBar:i.a.PropTypes.object})},contextTypes:{d2:i.a.PropTypes.object,muiTheme:i.a.PropTypes.object},getDefaultProps:function(){return{showSearchField:!1,styles:{leftBar:{}},onSectionClick:function(){}}},getInitialState:function(){return{currentSection:this.props.currentSection||this.props.sections[0]&&this.props.sections[0].key,searchText:""}},componentWillReceiveProps:function(e){var t=this;e.currentSection&&this.setState({currentSection:e.currentSection}),e.searchText&&e.searchText!==this.state.searchText&&this.setState({searchText:e.searchText},function(){t.changeSearchText()})},setSection:function(e){this.props.onSectionClick(e),e!==this.state.currentSection&&(this.setState({currentSection:e}),this.props.onChangeSection(e))},changeSearchText:function(){var e=this;this.setState({searchText:this.searchBox.getValue()},function(){e.props.onChangeSearchText&&e.props.onChangeSearchText(e.state.searchText)})},_clear:function(){var e=this;this.setState({searchText:""},function(){e.props.onChangeSearchText&&e.props.onChangeSearchText(e.state.searchText)})},clearSearchBox:function(){this.setState({searchText:""})},renderSidebarButtons:function(){return this.props.sideBarButtons?i.a.createElement("div",{style:{padding:"1rem 0 0"}},this.props.sideBarButtons):null},renderSearchField:function(){var e=this,t=this.context.d2;return this.props.showSearchField?i.a.createElement("div",{style:d.container},i.a.createElement(l.a,{hintText:this.props.searchFieldLabel?this.props.searchFieldLabel:t.i18n.getTranslation("search"),style:{width:"100%"},value:this.state.searchText,onChange:this.changeSearchText,ref:function(t){e.searchBox=t}}),this.state.searchText?i.a.createElement(f.a,{style:d.closeButton,className:"material-icons",onClick:this._clear},"clear"):void 0):null},renderSections:function(){var e=this;return i.a.createElement(a.a,{style:d.list},this.props.sections.map(function(t){var n=t.key!==e.state.currentSection||e.state.searchText?d.item:d.activeItem,r="string"==typeof t.icon||t.icon instanceof String?i.a.createElement(f.a,{className:"material-icons"},t.icon):t.icon;return i.a.createElement(u.a,{key:t.key,primaryText:t.label,onClick:e.setSection.bind(e,t.key),style:n,leftIcon:r})}))},render:function(){return i.a.createElement("div",{style:Object.assign(d.sidebar,this.props.styles.leftBar),className:"left-bar"},this.renderSidebarButtons(),this.renderSearchField(),this.renderSections())}});t.a=h},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(379),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=n(25),u=function(){function e(){r(this,e)}return i(e,null,[{key:"create",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.filter(function(e){return e}).every(function(e){return(0,s.isType)(e,"object")}))throw new Error("Expected Config parameter to have type object");return Object.assign.apply(Object,[{},a.default].concat(t))}},{key:"processConfigForD2",value:function(e,t){var n=t.Api.getApi();t.model.ModelDefinition.prototype.api=n,t.models=t.model.ModelDefinitions.getModelDefinitions(),(0,s.isString)(e.baseUrl)?n.setBaseUrl(e.baseUrl):n.setBaseUrl("/api/25"),e.i18n&&e.i18n.sources&&Array.from(e.i18n.sources).forEach(function(e){return t.i18n.addSource(e)}),e.i18n&&e.i18n.strings&&t.i18n.addStrings(Array.from(e.i18n.strings))}}]),e}();t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){var t=void 0;return t=e.userCredentials?Object.assign({},e.userCredentials,e):Object.assign({},e),Object.keys(t).reduce(function(e,n){return h.has(n)?t[n].map&&(e[y[n]]=t[n].map(function(e){return e.id})):e[n]=t[n],e},{})}function a(e){return e&&f.noCreateAllowedFor.has(e.name)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(757),c=r(u),l=n(758),p=r(l),f=n(379),d=Symbol("models"),h=new Set(["userCredentials","userGroups","userRoles","organisationUnits","dataViewOrganisationUnits"]),m={READ:["READ"],CREATE:["CREATE","CREATE_PUBLIC","CREATE_PRIVATE"],CREATE_PUBLIC:["CREATE_PUBLIC"],CREATE_PRIVATE:["CREATE_PRIVATE"],DELETE:["DELETE"],UPDATE:["UPDATE"],EXTERNALIZE:["EXTERNALIZE"]},y=Array.from(h).reduce(function(e,t){return e[t]=Symbol(t),e},{}),b=function(){function e(t,n,r,a){i(this,e),Object.assign(this,o(t)),this.authorities=n,this[d]=r,this.userSettings=a}return s(e,[{key:"getUserGroups",value:function(){var e=this[y.userGroups];return this[d].userGroup.get({filter:["id:in:["+e.join(",")+"]"]})}},{key:"getUserRoles",value:function(){var e=this[y.userRoles];return this[d].userRole.get({filter:["id:in:["+e.join(",")+"]"]})}},{key:"getOrganisationUnits",value:function(e){var t=this[y.organisationUnits];return this[d].organisationUnit.list(Object.assign({fields:":all,displayName,path,children[id,displayName,path,children::isNotEmpty]"},e,{filter:["id:in:["+t.join(",")+"]"]}))}},{key:"getDataViewOrganisationUnits",value:function(e){var t=this[y.dataViewOrganisationUnits];return this[d].organisationUnit.list(Object.assign({fields:":all,displayName,path,children[id,displayName,path,children::isNotEmpty]"},e,{filter:["id:in:["+t.join(",")+"]"]}))}},{key:"checkAuthorityForType",value:function(e,t){var n=this;return!(!t||!Array.isArray(t.authorities))&&t.authorities.filter(function(t){return e.some(function(e){return e===t.type})}).some(function(e){return e.authorities.some(function(e){return n.authorities.has(e)})})}},{key:"checkCreateAuthorityForType",value:function(e,t){return!a(t)&&this.checkAuthorityForType(e,t)}},{key:"canCreate",value:function(e){return this.checkCreateAuthorityForType(m.CREATE,e)}},{key:"canCreatePublic",value:function(e){return this.checkCreateAuthorityForType(m.CREATE_PUBLIC,e)}},{key:"canCreatePrivate",value:function(e){return this.checkCreateAuthorityForType(m.CREATE_PRIVATE,e)}},{key:"canDelete",value:function(e){return this.checkAuthorityForType(m.DELETE,e)}},{key:"canUpdate",value:function(e){return!!this.checkAuthorityForType(m.UPDATE,e)||this.checkAuthorityForType(m.CREATE,e)}}],[{key:"create",value:function(t,n,r,i){return new e(t,c.default.create(n),r,new p.default(i))}}]),e}();t.default=b},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=Symbol("authorities"),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];r(this,e),this[o]=new Set(t)}return i(e,[{key:"has",value:function(e){return!!this[o].has("ALL")||this[o].has(e)}}],[{key:"create",value:function(t){return new e(t)}}]),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(52),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=n(25),u=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.default.getApi();r(this,e),this.api=n,t&&(this.settings=t)}return i(e,[{key:"all",value:function(){var e=this;return this.settings?Promise.resolve(this.settings):this.api.get("userSettings").then(function(t){return e.settings=t,Promise.resolve(e.settings)})}},{key:"get",value:function(e){function t(e){try{return JSON.parse(e)}catch(t){return e}}var n=this;return this.settings&&this.settings[e]?Promise.resolve(this.settings[e]):new Promise(function(r,i){if(!(0,s.isString)(e))throw new TypeError('A "key" parameter should be specified when calling get() on userSettings');n.api.get(["userSettings",e].join("/")).then(function(o){var a=t(o);n[e]=a,a&&r(a),i(new Error("The requested userSetting has no value or does not exist."))})})}},{key:"set",value:function(e,t){delete this.settings;var n=["userSettings",e].join("/");return null===t||0===(""+t).length?this.api.delete(n):this.api.post(n,t,{headers:{"Content-Type":"text/plain"}})}}]),e}();t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(25),s=n(760),u=r(s),c=n(52),l=r(c),p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.getApi();i(this,e),this.endPoint="dataStore",this.api=t}return o(e,[{key:"get",value:function(e){return arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?new Promise(function(t){t(new u.default(e))}):this.api.get([this.endPoint,e].join("/")).then(function(t){if(t&&(0,a.isArray)(t))return new u.default(e,t);throw new Error("The requested namespace has no keys or does not exist.")}).catch(function(t){if(404===t.httpStatusCode)return new u.default(e);throw t})}},{key:"getAll",value:function(){return this.api.get(this.endPoint).then(function(e){if(e&&(0,a.isArray)(e))return e;throw new Error("No namespaces exist.")})}},{key:"delete",value:function(e){return this.api.delete([this.endPoint,e].join("/"))}}],[{key:"getDataStore",value:function(){return e.getDataStore.dataStore||(e.getDataStore.dataStore=new e),e.getDataStore.dataStore}}]),e}();t.default=p},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(52),s=function(e){return e&&e.__esModule?e:{default:e}}(a),u=n(25),c=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.default.getApi();if(i(this,e),!(0,u.isString)(t))throw new Error("DataStoreNamespaces must be called with a string to identify the Namespace");this.api=r,this.namespace=t,this.keys=n||[],this.endPoint="dataStore"}return o(e,[{key:"getKeys",value:function(){var e=this;return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.api.get([this.endPoint,this.namespace].join("/")).then(function(t){if(t&&(0,u.isArray)(t))return e.keys=t,t;throw new Error("The requested namespace has no keys or does not exist.")}):Promise.resolve(this.keys)}},{key:"get",value:function(e){return this.api.get([this.endPoint,this.namespace,e].join("/"))}},{key:"getMetaData",value:function(e){return this.api.get([this.endPoint,this.namespace,e,"metaData"].join("/"))}},{key:"set",value:function(e,t){var n=this;return arguments.length>2&&void 0!==arguments[2]&&arguments[2]||!this.keys.includes(e)?this.api.post([this.endPoint,this.namespace,e].join("/"),t).then(function(){n.keys=[].concat(r(n.keys),[e])}):this.update(e,t)}},{key:"delete",value:function(e){var t=this.keys.indexOf(e);return t>-1&&(this.keys=[].concat(r(this.keys.slice(0,t)),r(this.keys.slice(t+1)))),this.api.delete([this.endPoint,this.namespace,e].join("/"))}},{key:"update",value:function(e,t){return this.api.update([this.endPoint,this.namespace,e].join("/"),t)}}]),e}();t.default=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(52),s=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.default.getApi();r(this,e),this.sources=t,this.api=n,this.strings=new Set,this.translations=void 0}return o(e,[{key:"addSource",value:function(e){this.sources.push(e)}},{key:"addStrings",value:function(e){var t=this;"string"==typeof e&&e.trim().length>0?this.strings.add(e.trim()):Array.from(e).filter(function(e){return e&&(""+e).trim().length>0}).forEach(function(e){return t.strings.add(e)})}},{key:"load",value:function(){function e(e){return e.split("\n").reduce(function(e,t){var n=t.split("=").map(function(e){return e.trim()}),r=i(n,2),o=r[0],a=r[1];return void 0===o||void 0===a||e.hasOwnProperty(o)||(e[o]=a.replace(/\\u([0-9a-f]{4})/gi,function(e,t){return String.fromCharCode(parseInt(t,16))})),e},{})}var t=this,n=this;n.translations={};var r=[];return this.sources.forEach(function(t){r.push(n.api.request("GET",t).then(function(t){return Promise.resolve(e(t))},function(){return Promise.resolve({})}))}),Promise.all(r).then(function(e){return e.forEach(function(e){Object.keys(e).forEach(function(r){n.translations.hasOwnProperty(r)||(n.translations[r]=e[r]),t.strings.delete(r)})}),t.strings.size>0?n.api.post("i18n",Array.from(n.strings)).then(function(e){return Object.keys(e).filter(function(t){return t!==e[t]}).forEach(function(t){n.translations[t]=e[t],n.strings.delete(t)}),Promise.resolve(n.translations)}):Promise.resolve(n.translations)})}},{key:"getTranslation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===this.translations)throw new Error("Tried to translate before loading translations!");var n=this.translations.hasOwnProperty(e)?this.translations[e]:"** "+e+" **";return Object.keys(t).length?n.replace(/\$\$(.+?)\$\$/gi,function(e,n){return t[n]||""}):n}},{key:"isTranslated",value:function(e){if(void 0===this.translations)throw new Error("Tried to translate before loading translations!");return this.translations.hasOwnProperty(e)}},{key:"getUntranslatedStrings",value:function(){return this.translations?Array.from(this.strings):void 0}}],[{key:"getI18n",value:function(){return new e}}]),e}();t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(133),a=n(25),s=function(){function e(){r(this,e)}return i(e,[{key:"getTypes",value:function(){return["TEXT","NUMBER","INTEGER","BOOLEAN","EMAIL","PASSWORD","URL","PHONENUMBER","GEOLOCATION","COLOR","COMPLEX","COLLECTION","REFERENCE","DATE","COMPLEX","IDENTIFIER","CONSTANT"]}},{key:"typeLookup",value:function(e){return this.getTypes().indexOf(e)>=0&&(0,a.isString)(e)?e:(0,o.throwError)(['Type from schema "',e,'" not found available type list.'].join(""))}}]),e}();t.default=new s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(25),a={equals:"eq",like:"like",ilike:"ilike",notEqual:"ne"},s=function(){function e(t){r(this,e),this.filters=t,this.propertyName="name",this.comparator="like",this.filterValue=void 0}return i(e,[{key:"on",value:function(e){return(0,o.checkDefined)(e,"Property name to filter on"),this.propertyName=e,this}},{key:"getQueryParamFormat",value:function(){return[this.propertyName,this.comparator,this.filterValue].join(":")}}],[{key:"getFilter",value:function(t){return new e(t)}}]),e}();Object.keys(a).forEach(function(e){Object.defineProperty(s.prototype,e,{value:function(t){return(0,o.checkDefined)(t,"filterValue"),this.comparator=a[e],this.filterValue=t,this.filters.add(this),this.filters.getReturn()}})}),t.default=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(25),a=n(763),s=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(){function e(t){r(this,e),this.filters=[],this.modelDefinition=t}return i(e,[{key:"on",value:function(e){return s.default.getFilter(this).on(e)}},{key:"add",value:function(e){if(!(0,o.isType)(e,s.default))throw new TypeError("filter should be an instance of Filter");this.filters.push(e)}},{key:"list",value:function(){return this.modelDefinition.list()}},{key:"getFilters",value:function(){return this.filters.map(function(e){return e.getQueryParamFormat()})}},{key:"getReturn",value:function(){return this.modelDefinition}}],[{key:"getFilters",value:function(t){return new e(t)}}]),e}();t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},c=n(52),l=r(c),p=n(216),f=r(p),d=function(e){function t(e,n,r,a){i(this,t);var s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r,void 0));return s.dirty=!1,s.added=new Set,s.removed=new Set,s.api=a,s.parentModel=e,s}return a(t,e),s(t,[{key:"add",value:function(e){return this.valuesContainerMap.has(e.id)?this:(u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e),this.removed.has(e.id)?this.removed.delete(e.id):this.added.add(e.id),this.updateDirty(),this)}},{key:"remove",value:function(e){return f.default.throwIfContainsOtherThanModelObjects([e]),f.default.throwIfContainsModelWithoutUid([e]),this.delete(e.id)&&(this.added.has(e.id)?this.added.delete(e.id):this.removed.add(e.id)),this.updateDirty(),this}},{key:"updateDirty",value:function(){return this.dirty=this.added.size>0||this.removed.size>0,this.dirty}},{key:"resetDirtyState",value:function(){this.dirty=!1,this.added=new Set,this.removed=new Set}},{key:"isDirty",value:function(){return this.dirty}},{key:"save",value:function(){var e=this;if(!this.isDirty())return Promise.resolve({});var t=[this.parentModel.href,this.modelDefinition.plural].join("/"),n={additions:Array.from(this.added).map(function(e){return{id:e}}),deletions:Array.from(this.removed).map(function(e){return{id:e}})};return this.api.post(t,n).then(function(){return e.resetDirtyState(),Promise.resolve({})}).catch(function(e){return Promise.reject("Failed to alter collection:",e)})}}],[{key:"create",value:function(e,n,r){return new t(e,n,r,l.default.getApi())}}]),t}(f.default);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={dataDimension:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={dataDimension:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={aggregationType:"SUM",valueType:"NUMBER"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={dataDimension:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={expiryDays:0,openFuturePeriods:0,timelyDays:15,periodType:"Monthly"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={mapService:"WMS",imageFormat:"PNG",mapLayerPosition:"BASEMAP"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={dataDimension:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={version:0,completeEventsExpiryDays:0,expiryDays:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={notificationTrigger:"COMPLETION",notificationRecipient:"USERS_AT_ORGANISATION_UNIT"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={notificationRecipient:"ORGANISATION_UNIT_CONTACT",deliveryChannels:[],notifyUsersInHierarchyOnly:!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={importance:"MEDIUM",periodType:"Monthly",operator:"not_equal_to",leftSide:{missingValueStrategy:"NEVER_SKIP",description:"",expression:""},rightSide:{missingValueStrategy:"NEVER_SKIP",description:"",expression:""}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(248),o=r(i),a=n(134),s=r(a),u=n(381),c=r(u),l=n(382),p=r(l),f=n(383),d=r(f);t.default={ModelBase:o.default,Model:s.default,ModelDefinition:c.default,ModelDefinitions:p.default,ModelValidation:d.default}},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return o(t,i).format(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.toLocaleDayFormat=r;var i={year:"numeric",month:"long",day:"numeric"},o=function(){var e=new Map;return function(t,n){if(e.has(t)&&e.get(t).has(n))return e.get(t).get(n);var r=new Intl.DateTimeFormat(t,n);return e.set(t,new Map([[n,r]])),r}}()},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",n=Object.keys(a).filter(function(t){return a[t].test(e)&&u.hasOwnProperty(t)}).map(function(n){return u[n](e.match(a[n]),t)})[0];if(!n)throw new Error("Invalid period format");return n}Object.defineProperty(t,"__esModule",{value:!0}),t.getPeriodFromPeriodId=r;var i=n(386),o=n(778),a={Daily:/^([0-9]{4})([0-9]{2})([0-9]{2})$/,Weekly:/^([0-9]{4})()W([0-9]{1,2})$/,WeeklyWednesday:/^([0-9]{4})(Wed)W([0-9]{1,2})$/,WeeklyThursday:/^([0-9]{4})(Thu)W([0-9]{1,2})$/,WeeklySaturday:/^([0-9]{4})(Sat)W([0-9]{1,2})$/,WeeklySunday:/^([0-9]{4})(Sun)W([0-9]{1,2})$/,Monthly:/^([0-9]{4})([0-9]{2})$/,BiMonthly:/^([0-9]{4})([0-9]{2})B$/,Quarterly:/^([0-9]{4})Q([1234])$/,SixMonthly:/^([0-9]{4})S([12])$/,SixMonthlyApril:/^([0-9]{4})AprilS([12])$/,Yearly:/^([0-9]{4})$/,FinancialApril:/^([0-9]{4})April$/,FinancialJuly:/^([0-9]{4})July$/,FinancialOct:/^([0-9]{4})Oct$/},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",n=parseInt(e[1],10),r=e[2],o=parseInt(e[3],10);if(o<1||o>53)throw new Error("Invalid week number");var a=(0,i.getMonthNamesForLocale)(t),s=0;switch(r){case"Wed":s=2;break;case"Thu":s=3;break;case"Sat":s=-2;break;case"Sun":s=-1}var u=(0,i.addDays)(s,(0,i.getFirstDateOfWeek)(n,o)),c=u.getMonth(),l=u.getFullYear(),p=a[c],f=u.getDate();53===o&&l!==n&&(o=1,n=l);var d=""+n+r+"W"+o,h=(0,i.addDays)(6,u),m=h.getMonth(),y=h.getDate(),b=a[m];return{id:d,name:c===m?n+" W"+o+" "+p+" "+f+" - "+y:n+" W"+o+" "+p+" "+f+" - "+b+" "+y,startDate:(0,i.formatAsISODate)(u),endDate:(0,i.formatAsISODate)(h)}},u={Daily:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",n=parseInt(e[1],10),r=parseInt(e[2],10)-1,a=parseInt(e[3],10);if(r>11||r<0||a>31||a<1||n<1e3||n>5e3)throw new Error("Invalid Daily period");var s=new Date(e[1],e[2]-1,e[3]);return{id:""+s.getFullYear()+("0"+(s.getMonth()+1)).substr(-2)+("0"+s.getDate()).substr(-2),name:(0,o.toLocaleDayFormat)(s,t),startDate:(0,i.formatAsISODate)(s),endDate:(0,i.formatAsISODate)(s)}},Weekly:s,WeeklyWednesday:s,WeeklyThursday:s,WeeklySaturday:s,WeeklySunday:s,Monthly:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",n=e[0],r=parseInt(e[1],10),o=parseInt(e[2],10)-1;if(o>11||o<0)throw new Error("Invalid month number");var a=("0"+(o+1)).substr(-2),s=(0,i.getMonthNamesForLocale)(t),u=(0,i.getLastDateOfMonth)(r,o);return{id:n,name:s[o]+" "+r,startDate:r+"-"+a+"-01",endDate:(0,i.formatAsISODate)(u)}},BiMonthly:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",n=e[0],r=parseInt(e[1],10),o=parseInt(e[2],10);if(o<1||o>6)throw new Error("Invalid BiMonth number");var a=2*(o-1),s=("0"+(a+1)).substr(-2),u=a+1,c=(0,i.getMonthNamesForLocale)(t);return{id:n,name:c[a]+" - "+c[u]+" "+r,startDate:r+"-"+s+"-01",endDate:(0,i.formatAsISODate)((0,i.getLastDateOfMonth)(r,u))}},Quarterly:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",n=e[0],r=parseInt(e[1],10),o=parseInt(e[2],10),a=3*(o-1),s=3*o-1,u=(0,i.getMonthNamesForLocale)(t);return{id:n,name:u[a]+" - "+u[s]+" "+r,startDate:(0,i.formatAsISODate)((0,i.getFirstDateOfQuarter)(r,o)),endDate:(0,i.formatAsISODate)((0,i.getLastDateOfQuarter)(r,o))}},SixMonthly:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",n=e[0],r=e[1],o=parseInt(e[2],10)-1,a=6*o,s=6*o+6,u=("0"+s).substr(-2),c=(0,i.getMonthNamesForLocale)(t);return{id:n,name:c[a]+" - "+c[s-1]+" "+r,startDate:r+"-0"+(a+1)+"-01",endDate:r+"-"+u+"-"+(0===o?"30":"31")}},SixMonthlyApril:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",n=e[0],r=parseInt(e[1],10),o=parseInt(e[2],10)-1,a=0===o?4:10,s=("0"+a).substr(-2),u=0===o?9:3,c=("0"+u).substr(-2),l=(0,i.getMonthNamesForLocale)(t);return{id:n,name:0===o?l[a-1]+" - "+l[u-1]+" "+r:l[a-1]+" "+r+" - "+l[u-1]+" "+(r+1),startDate:r+"-"+s+"-01",endDate:r+o+"-"+c+"-"+(0===o?"30":"31")}},Yearly:function(e){return{id:e[0],name:e[1],startDate:e[1]+"-01-01",endDate:e[1]+"-12-31"}},FinancialApril:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",n=parseInt(e[1],10),r=(0,i.getMonthNamesForLocale)(t);return{id:e[0],name:r[3]+" "+n+" - "+r[2]+" "+(n+1),startDate:n+"-04-01",endDate:n+1+"-03-31"}},FinancialJuly:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",n=parseInt(e[1],10),r=(0,i.getMonthNamesForLocale)(t);return{id:e[0],name:r[6]+" "+n+" - "+r[5]+" "+(n+1),startDate:n+"-07-01",endDate:n+1+"-06-30"}},FinancialOct:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",n=parseInt(e[1],10),r=(0,i.getMonthNamesForLocale)(t);return{id:e[0],name:r[9]+" "+n+" - "+r[8]+" "+(n+1),startDate:n+"-10-01",endDate:n+1+"-09-30"}}};t.default=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(52),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.default.getApi();r(this,e),this.api=t,this.configuration=void 0,this.configPromise=null}return i(e,[{key:"all",value:function(e){var t=this;return null!==this.configPromise&&!0!==e||(this.configPromise=this.api.get("configuration").then(function(e){return t.configuration=e,t.configuration})),this.configPromise}},{key:"get",value:function(e,t){return this.all(t).then(function(t){return t.hasOwnProperty(e)?Promise.resolve(t[e]):Promise.reject("Unknown config option: "+e)})}},{key:"set",value:function(e,t){var n=this,r=void 0;return"systemId"===e?Promise.reject("The system ID can't be changed"):(r="feedbackRecipients"!==e&&"selfRegistrationOrgUnit"!==e&&"selfRegistrationRole"!==e||"null"!==t&&null!==t?"corsWhitelist"===e?this.api.post(["configuration",e].join("/"),t.trim().split("\n")):this.api.post(["configuration",e].join("/"),t,{dataType:"text",contentType:"text/plain"}):this.api.delete(["configuration",e].join("/")),r.then(function(){return n.configuration=void 0,Promise.resolve()}).catch(function(){return Promise.reject("No configuration found for "+e)}))}}]),e}();t.default=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(25),a=n(52),s=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.default.getApi();r(this,e),this.api=t}return i(e,[{key:"all",value:function(){var e=this;return this.settings?Promise.resolve(this.settings):this.api.get("systemSettings").then(function(t){return e.settings=t,Promise.resolve(e.settings)})}},{key:"get",value:function(e){function t(e){try{return JSON.parse(e)}catch(t){return e}}var n=this;return this.settings&&this.settings[e]?Promise.resolve(this.settings[e]):new Promise(function(r,i){if(!(0,o.isString)(e))throw new TypeError('A "key" parameter should be specified when calling get() on systemSettings');var a={headers:{accept:"text/plain"}};n.api.get(["systemSettings",e].join("/"),void 0,a).then(function(e){e&&r(t(e)),i(new Error("The requested systemSetting has no value or does not exist."))})})}},{key:"set",value:function(e,t){delete this.settings;var n=["systemSettings",e].join("/");return null===t||0===(""+t).length?this.api.delete(n):this.api.post(n,t,{headers:{"Content-Type":"text/plain"}})}}]),e}();t.default=u},function(e,t,n){"use strict";function r(e){if(e instanceof o)return new o(e.h,e.s,e.l,e.opacity);e instanceof s.a||(e=n.i(s.b)(e));var t=e.r/255,r=e.g/255,i=e.b/255,a=(y*i+h*t-m*r)/(y+h-m),c=i-a,l=(d*(r-a)-p*c)/f,b=Math.sqrt(l*l+c*c)/(d*a*(1-a)),v=b?Math.atan2(l,c)*u.a-120:NaN;return new o(v<0?v+360:v,b,a,e.opacity)}function i(e,t,n,i){return 1===arguments.length?r(e):new o(e,t,n,null==i?1:i)}function o(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}t.a=i;var a=n(250),s=n(249),u=n(388),c=-.14861,l=1.78277,p=-.29227,f=-.90649,d=1.97294,h=d*f,m=d*l,y=l*p-f*c;n.i(a.a)(o,i,n.i(a.b)(s.c,{brighter:function(e){return e=null==e?s.d:Math.pow(s.d,e),new o(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?s.e:Math.pow(s.e,e),new o(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*u.b,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new s.a(255*(t+n*(c*r+l*i)),255*(t+n*(p*r+f*i)),255*(t+n*(d*r)),this.opacity)}}))},function(e,t,n){"use strict";function r(e){if(e instanceof o)return new o(e.l,e.a,e.b,e.opacity);if(e instanceof f){var t=e.h*m.b;return new o(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof h.a||(e=n.i(h.b)(e));var r=c(e.r),i=c(e.g),s=c(e.b),u=a((.4124564*r+.3575761*i+.1804375*s)/y),l=a((.2126729*r+.7151522*i+.072175*s)/b);return new o(116*l-16,500*(u-l),200*(l-a((.0193339*r+.119192*i+.9503041*s)/v)),e.opacity)}function i(e,t,n,i){return 1===arguments.length?r(e):new o(e,t,n,null==i?1:i)}function o(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function a(e){return e>S?Math.pow(e,1/3):e/O+g}function s(e){return e>w?e*e*e:O*(e-g)}function u(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function c(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function l(e){if(e instanceof f)return new f(e.h,e.c,e.l,e.opacity);e instanceof o||(e=r(e));var t=Math.atan2(e.b,e.a)*m.a;return new f(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function p(e,t,n,r){return 1===arguments.length?l(e):new f(e,t,n,null==r?1:r)}function f(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}t.b=i,t.a=p;var d=n(250),h=n(249),m=n(388),y=.95047,b=1,v=1.08883,g=4/29,w=6/29,O=3*w*w,S=w*w*w;n.i(d.a)(o,i,n.i(d.b)(h.c,{brighter:function(e){return new o(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new o(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return e=b*s(e),t=y*s(t),n=v*s(n),new h.a(u(3.2404542*t-1.5371385*e-.4985314*n),u(-.969266*t+1.8760108*e+.041556*n),u(.0556434*t-.2040259*e+1.0572252*n),this.opacity)}})),n.i(d.a)(f,p,n.i(d.b)(h.c,{brighter:function(e){return new f(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new f(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return r(this).rgb()}}))},,function(e,t,n){"use strict";var r={};e.exports=r},function(e,t,n){"use strict";t.__esModule=!0;t.loopAsync=function(e,t,n){var r=0,i=!1,o=!1,a=!1,s=void 0,u=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(i=!0,o)return void(s=t);n.apply(void 0,t)};!function c(){if(!i&&(a=!0,!o)){for(o=!0;!i&&r<e&&a;)a=!1,t(r++,c,u);if(o=!1,i)return void n.apply(void 0,s);r>=e&&a&&(i=!0,n())}}()}},function(e,t,n){"use strict";t.__esModule=!0,t.replaceLocation=t.pushLocation=t.startListener=t.getCurrentLocation=t.go=t.getUserConfirmation=void 0;var r=n(252);Object.defineProperty(t,"getUserConfirmation",{enumerable:!0,get:function(){return r.getUserConfirmation}}),Object.defineProperty(t,"go",{enumerable:!0,get:function(){return r.go}});var i=n(22),o=(function(e){e&&e.__esModule}(i),n(112)),a=n(174),s=n(390),u=n(78),c=function(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)},l=function(e){return window.location.hash=e},p=function(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)},f=t.getCurrentLocation=function(e,t){var n=e.decodePath(c()),r=(0,u.getQueryStringValueFromPath)(n,t),i=void 0;r&&(n=(0,u.stripQueryStringValueFromPath)(n,t),i=(0,s.readState)(r));var a=(0,u.parsePath)(n);return a.state=i,(0,o.createLocation)(a,void 0,r)},d=void 0,h=(t.startListener=function(e,t,n){var r=function(){var r=c(),i=t.encodePath(r);if(r!==i)p(i);else{var o=f(t,n);if(d&&o.key&&d.key===o.key)return;d=o,e(o)}},i=c(),o=t.encodePath(i);return i!==o&&p(o),(0,a.addEventListener)(window,"hashchange",r),function(){return(0,a.removeEventListener)(window,"hashchange",r)}},function(e,t,n,r){var i=e.state,o=e.key,a=t.encodePath((0,u.createPath)(e));void 0!==i&&(a=(0,u.addQueryStringValueToPath)(a,n,o),(0,s.saveState)(o,i)),d=e,r(a)});t.pushLocation=function(e,t,n){return h(e,t,n,function(e){c()!==e&&l(e)})},t.replaceLocation=function(e,t,n){return h(e,t,n,function(e){c()!==e&&p(e)})}},function(e,t,n){"use strict";t.__esModule=!0,t.replaceLocation=t.pushLocation=t.getCurrentLocation=t.go=t.getUserConfirmation=void 0;var r=n(252);Object.defineProperty(t,"getUserConfirmation",{enumerable:!0,get:function(){return r.getUserConfirmation}}),Object.defineProperty(t,"go",{enumerable:!0,get:function(){return r.go}});var i=n(112),o=n(78);t.getCurrentLocation=function(){return(0,i.createLocation)(window.location)},t.pushLocation=function(e){return window.location.href=(0,o.createPath)(e),!1},t.replaceLocation=function(e){return window.location.replace((0,o.createPath)(e)),!1}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(24),s=i(a),u=n(253),c=n(252),l=r(c),p=n(788),f=r(p),d=n(174),h=n(254),m=i(h),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u.canUseDOM||(0,s.default)(!1);var t=e.forceRefresh||!(0,d.supportsHistory)(),n=t?f:l,r=n.getUserConfirmation,i=n.getCurrentLocation,a=n.pushLocation,c=n.replaceLocation,p=n.go,h=(0,m.default)(o({getUserConfirmation:r},e,{getCurrentLocation:i,pushLocation:a,replaceLocation:c,go:p})),y=0,b=void 0,v=function(e,t){1==++y&&(b=l.startListener(h.transitionTo));var n=t?h.listenBefore(e):h.listen(e);return function(){n(),0==--y&&b()}};return o({},h,{listenBefore:function(e){return v(e,!0)},listen:function(e){return v(e,!1)}})};t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(22),a=(r(o),n(24)),s=r(a),u=n(253),c=n(174),l=n(787),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),f=n(254),d=r(f),h=function(e){return"/"===e.charAt(0)?e:"/"+e},m={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!"+e},decodePath:function(e){return"!"===e.charAt(0)?e.substring(1):e}},noslash:{encodePath:function(e){return"/"===e.charAt(0)?e.substring(1):e},decodePath:h},slash:{encodePath:h,decodePath:h}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u.canUseDOM||(0,s.default)(!1);var t=e.queryKey,n=e.hashType;"string"!=typeof t&&(t="_k"),null==n&&(n="slash"),n in m||(n="slash");var r=m[n],o=p.getUserConfirmation,a=function(){return p.getCurrentLocation(r,t)},l=function(e){return p.pushLocation(e,r,t)},f=function(e){return p.replaceLocation(e,r,t)},h=(0,d.default)(i({getUserConfirmation:o},e,{getCurrentLocation:a,pushLocation:l,replaceLocation:f,go:p.go})),y=0,b=void 0,v=function(e,n){1==++y&&(b=p.startListener(h.transitionTo,r,t));var i=n?h.listenBefore(e):h.listen(e);return function(){i(),0==--y&&b()}},g=function(e){return v(e,!0)},w=function(e){return v(e,!1)};(0,c.supportsGoWithoutReloadUsingHash)();return i({},h,{listenBefore:g,listen:w,go:function(e){h.go(e)},createHref:function(e){return"#"+r.encodePath(h.createHref(e))}})};t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(22),a=(r(o),n(24)),s=r(a),u=n(112),c=n(78),l=n(254),p=r(l),f=n(173),d=function(e){return e.filter(function(e){return e.state}).reduce(function(e,t){return e[t.key]=t.state,e},{})},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Array.isArray(e)?e={entries:e}:"string"==typeof e&&(e={entries:[e]});var t=function(){var e=m[y],t=(0,c.createPath)(e),n=void 0,r=void 0;e.key&&(n=e.key,r=g(n));var o=(0,c.parsePath)(t);return(0,u.createLocation)(i({},o,{state:r}),void 0,n)},n=function(e){var t=y+e;return t>=0&&t<m.length},r=function(e){if(e&&n(e)){y+=e;var r=t();l.transitionTo(i({},r,{action:f.POP}))}},o=function(e){y+=1,y<m.length&&m.splice(y),m.push(e),v(e.key,e.state)},a=function(e){m[y]=e,v(e.key,e.state)},l=(0,p.default)(i({},e,{getCurrentLocation:t,pushLocation:o,replaceLocation:a,go:r})),h=e,m=h.entries,y=h.current;"string"==typeof m?m=[m]:Array.isArray(m)||(m=["/"]),m=m.map(function(e){return(0,u.createLocation)(e)}),null==y?y=m.length-1:y>=0&&y<m.length||(0,s.default)(!1);var b=d(m),v=function(e,t){return b[e]=t},g=function(e){return b[e]};return i({},l,{canGo:n})};t.default=h},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return null==e?void 0===e?u:s:c&&c in Object(e)?n.i(o.a)(e):n.i(a.a)(e)}var i=n(396),o=n(815),a=n(816),s="[object Null]",u="[object Undefined]",c=i.a?i.a.toStringTag:void 0;t.a=r},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(t,n(28))},function(e,t,n){"use strict";var r=n(817),i=n.i(r.a)(Object.getPrototypeOf,Object);t.a=i},function(e,t,n){"use strict";function r(e){var t=a.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[u]=n:delete e[u]),i}var i=n(396),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,u=i.a?i.a.toStringTag:void 0;t.a=r},function(e,t,n){"use strict";function r(e){return o.call(e)}var i=Object.prototype,o=i.toString;t.a=r},function(e,t,n){"use strict";function r(e,t){return function(n){return e(t(n))}}t.a=r},function(e,t,n){"use strict";var r=n(813),i="object"==typeof self&&self&&self.Object===Object&&self,o=r.a||i||Function("return this")();t.a=o},function(e,t,n){"use strict";function r(e){return null!=e&&"object"==typeof e}t.a=r},,,,function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e){return"number"==typeof e||n(e)&&a.call(e)==i}var i="[object Number]",o=Object.prototype,a=o.toString;e.exports=r},,,,,function(e,t,n){var r=n(95),i=n(58),o=r(i,"DataView");e.exports=o},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(862),o=n(863),a=n(864),s=n(865),u=n(866);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,e.exports=r},function(e,t,n){var r=n(95),i=n(58),o=r(i,"Promise");e.exports=o},function(e,t,n){var r=n(95),i=n(58),o=r(i,"WeakMap");e.exports=o},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}e.exports=n},function(e,t,n){var r=n(854),i=r();e.exports=i},function(e,t){function n(e,t){return null!=e&&t in Object(e)}e.exports=n},function(e,t,n){function r(e){return o(e)&&i(e)==a}var i=n(121),o=n(120),a="[object Arguments]";e.exports=r},function(e,t,n){function r(e,t,n,r,y,v){var g=c(e),w=c(t),O=g?h:u(e),S=w?h:u(t);O=O==d?m:O,S=S==d?m:S;var _=O==m,E=S==m,x=O==S;if(x&&l(e)){if(!l(t))return!1;g=!0,_=!1}if(x&&!_)return v||(v=new i),g||p(e)?o(e,t,n,r,y,v):a(e,t,O,n,r,y,v);if(!(n&f)){var T=_&&b.call(e,"__wrapped__"),P=E&&b.call(t,"__wrapped__");if(T||P){var C=T?e.value():e,j=P?t.value():t;return v||(v=new i),y(C,j,n,r,v)}}return!!x&&(v||(v=new i),s(e,t,n,r,y,v))}var i=n(318),o=n(401),a=n(856),s=n(857),u=n(544),c=n(57),l=n(320),p=n(407),f=1,d="[object Arguments]",h="[object Array]",m="[object Object]",y=Object.prototype,b=y.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t,n,r){var u=n.length,c=u,l=!r;if(null==e)return!c;for(e=Object(e);u--;){var p=n[u];if(l&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++u<c;){p=n[u];var f=p[0],d=e[f],h=p[1];if(l&&p[2]){if(void 0===d&&!(f in e))return!1}else{var m=new i;if(r)var y=r(d,h,f,e,t,m);if(!(void 0===y?o(h,d,a|s,r,m):y))return!1}}return!0}var i=n(318),o=n(399),a=1,s=2;e.exports=r},function(e,t,n){function r(e){return!(!a(e)||o(e))&&(i(e)?h:c).test(s(e))}var i=n(406),o=n(869),a=n(119),s=n(405),u=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,l=Function.prototype,p=Object.prototype,f=l.toString,d=p.hasOwnProperty,h=RegExp("^"+f.call(d).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},function(e,t,n){function r(e){return a(e)&&o(e.length)&&!!s[i(e)]}var i=n(121),o=n(263),a=n(120),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=r},function(e,t,n){function r(e){if(!i(e))return o(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}var i=n(507),o=n(881),a=Object.prototype,s=a.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){var t=o(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}var i=n(837),o=n(858),a=n(404);e.exports=r},function(e,t,n){function r(e,t){return s(e)&&u(t)?c(l(e),t):function(n){var r=o(n,e);return void 0===r&&r===t?a(n,e):i(t,r,p|f)}}var i=n(399),o=n(898),a=n(899),s=n(261),u=n(403),c=n(404),l=n(179),p=1,f=2;e.exports=r},function(e,t,n){function r(e,t,n){var r=-1;t=i(t.length?t:[l],u(o));var p=a(e,function(e,n,o){return{criteria:i(t,function(t){return t(e)}),index:++r,value:e}});return s(p,function(e,t){return c(e,t,n)})}var i=n(298),o=n(217),a=n(542),s=n(847),u=n(303),c=n(851),l=n(162);e.exports=r},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},function(e,t,n){function r(e){return function(t){return i(t,e)}}var i=n(398);e.exports=r},function(e,t,n){var r=n(895),i=n(522),o=n(162),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},function(e,t){function n(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}e.exports=n},function(e,t,n){function r(e){if("string"==typeof e)return e;if(a(e))return o(e,r)+"";if(s(e))return l?l.call(e):"";var t=e+"";return"0"==t&&1/e==-u?"-0":t}var i=n(124),o=n(298),a=n(57),s=n(135),u=1/0,c=i?i.prototype:void 0,l=c?c.toString:void 0;e.exports=r},function(e,t,n){function r(e,t){if(e!==t){var n=void 0!==e,r=null===e,o=e===e,a=i(e),s=void 0!==t,u=null===t,c=t===t,l=i(t);if(!u&&!l&&!a&&e>t||a&&s&&c&&!u&&!l||r&&s&&c||!n&&c||!o)return 1;if(!r&&!a&&!l&&e<t||l&&n&&o&&!r&&!a||u&&n&&o||!s&&o||!c)return-1}return 0}var i=n(135);e.exports=r},function(e,t,n){function r(e,t,n){for(var r=-1,o=e.criteria,a=t.criteria,s=o.length,u=n.length;++r<s;){var c=i(o[r],a[r]);if(c){if(r>=u)return c;return c*("desc"==n[r]?-1:1)}}return e.index-t.index}var i=n(850);e.exports=r},function(e,t,n){var r=n(58),i=r["__core-js_shared__"];e.exports=i},function(e,t,n){function r(e,t){return function(n,r){if(null==n)return n;if(!i(n))return e(n,r);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==r(s[a],a,s););return n}}var i=n(122);e.exports=r},function(e,t){function n(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}e.exports=n},function(e,t,n){function r(e){return function(t,n,r){var s=Object(t);if(!o(t)){var u=i(n,3);t=a(t),n=function(e){return u(s[e],e,s)}}var c=e(t,n,r);return c>-1?s[u?t[c]:c]:void 0}}var i=n(217),o=n(122),a=n(156);e.exports=r},function(e,t,n){function r(e,t,n,r,i,_,x){switch(n){case S:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case O:return!(e.byteLength!=t.byteLength||!_(new o(e),new o(t)));case f:case d:case y:return a(+e,+t);case h:return e.name==t.name&&e.message==t.message;case b:case g:return e==t+"";case m:var T=u;case v:var P=r&l;if(T||(T=c),e.size!=t.size&&!P)return!1;var C=x.get(e);if(C)return C==t;r|=p,x.set(e,t);var j=s(T(e),T(t),r,i,_,x);return x.delete(e),j;case w:if(E)return E.call(e)==E.call(t)}return!1}var i=n(124),o=n(535),a=n(206),s=n(401),u=n(546),c=n(508),l=1,p=2,f="[object Boolean]",d="[object Date]",h="[object Error]",m="[object Map]",y="[object Number]",b="[object RegExp]",v="[object Set]",g="[object String]",w="[object Symbol]",O="[object ArrayBuffer]",S="[object DataView]",_=i?i.prototype:void 0,E=_?_.valueOf:void 0;e.exports=r},function(e,t,n){function r(e,t,n,r,a,u){var c=n&o,l=i(e),p=l.length;if(p!=i(t).length&&!c)return!1;for(var f=p;f--;){var d=l[f];if(!(c?d in t:s.call(t,d)))return!1}var h=u.get(e);if(h&&u.get(t))return h==t;var m=!0;u.set(e,t),u.set(t,e);for(var y=c;++f<p;){d=l[f];var b=e[d],v=t[d];if(r)var g=c?r(v,b,d,t,e,u):r(b,v,d,e,t,u);if(!(void 0===g?b===v||a(b,v,n,r,u):g)){m=!1;break}y||(y="constructor"==d)}if(m&&!y){var w=e.constructor,O=t.constructor;w!=O&&"constructor"in e&&"constructor"in t&&!("function"==typeof w&&w instanceof w&&"function"==typeof O&&O instanceof O)&&(m=!1)}return u.delete(e),u.delete(t),m}var i=n(543),o=1,a=Object.prototype,s=a.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){for(var t=o(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,i(a)]}return t}var i=n(403),o=n(156);e.exports=r},function(e,t,n){function r(e){var t=a.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[u]=n:delete e[u]),i}var i=n(124),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,u=i?i.toStringTag:void 0;e.exports=r},function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},function(e,t,n){function r(e,t,n){t=i(t,e);for(var r=-1,l=t.length,p=!1;++r<l;){var f=c(t[r]);if(!(p=null!=e&&n(e,f)))break;e=e[f]}return p||++r!=l?p:!!(l=null==e?0:e.length)&&u(l)&&s(f,l)&&(a(e)||o(e))}var i=n(400),o=n(262),a=n(57),s=n(260),u=n(263),c=n(179);e.exports=r},function(e,t,n){function r(){this.__data__=i?i(null):{},this.size=0}var i=n(178);e.exports=r},function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},function(e,t,n){function r(e){var t=this.__data__;if(i){var n=t[e];return n===o?void 0:n}return s.call(t,e)?t[e]:void 0}var i=n(178),o="__lodash_hash_undefined__",a=Object.prototype,s=a.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){var t=this.__data__;return i?void 0!==t[e]:a.call(t,e)}var i=n(178),o=Object.prototype,a=o.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?o:t,this}var i=n(178),o="__lodash_hash_undefined__";e.exports=r},function(e,t,n){function r(e){return a(e)||o(e)||!!(s&&e&&e[s])}var i=n(124),o=n(262),a=n(57),s=i?i.isConcatSpreadable:void 0;e.exports=r},function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},function(e,t,n){function r(e){return!!o&&o in e}var i=n(852),o=function(){var e=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=r},function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},function(e,t,n){function r(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}var i=n(176),o=Array.prototype,a=o.splice;e.exports=r},function(e,t,n){function r(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}var i=n(176);e.exports=r},function(e,t,n){function r(e){return i(this.__data__,e)>-1}var i=n(176);e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var i=n(176);e.exports=r},function(e,t,n){function r(){this.size=0,this.__data__={hash:new i,map:new(a||o),string:new i}}var i=n(829),o=n(175),a=n(258);e.exports=r},function(e,t,n){function r(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}var i=n(177);e.exports=r},function(e,t,n){function r(e){return i(this,e).get(e)}var i=n(177);e.exports=r},function(e,t,n){function r(e){return i(this,e).has(e)}var i=n(177);e.exports=r},function(e,t,n){function r(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var i=n(177);e.exports=r},function(e,t,n){function r(e){var t=i(e,function(e){return n.size===o&&n.clear(),e}),n=t.cache;return t}var i=n(547),o=500;e.exports=r},function(e,t,n){var r=n(524),i=r(Object.keys,Object);e.exports=i},function(e,t,n){(function(e){var r=n(402),i="object"==typeof t&&t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a&&r.process,u=function(){try{return s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=u}).call(t,n(104)(e))},function(e,t){function n(e){return i.call(e)}var r=Object.prototype,i=r.toString;e.exports=n},function(e,t,n){function r(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var r=arguments,a=-1,s=o(r.length-t,0),u=Array(s);++a<s;)u[a]=r[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=r[a];return c[t]=n(u),i(e,this,c)}}var i=n(536),o=Math.max;e.exports=r},function(e,t){function n(e){return this.__data__.set(e,r),this}var r="__lodash_hash_undefined__";e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t,n){var r=n(846),i=n(888),o=i(r);e.exports=o},function(e,t){function n(e){var t=0,n=0;return function(){var a=o(),s=i-(a-n);if(n=a,s>0){if(++t>=r)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var r=800,i=16,o=Date.now;e.exports=n},function(e,t,n){function r(){this.__data__=new i,this.size=0}var i=n(175);e.exports=r},function(e,t){function n(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}e.exports=n},function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t,n){function r(e,t){var n=this.__data__;if(n instanceof i){var r=n.__data__;if(!o||r.length<s-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(r)}return n.set(e,t),this.size=n.size,this}var i=n(175),o=n(258),a=n(259),s=200;e.exports=r},function(e,t,n){var r=n(880),i=/^\./,o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,s=r(function(e){var t=[];return i.test(e)&&t.push(""),e.replace(o,function(e,n,r,i){t.push(r?i.replace(a,"$1"):n||e)}),t});e.exports=s},function(e,t){function n(e){return function(){return e}}e.exports=n},function(e,t,n){var r=n(855),i=n(897),o=r(i);e.exports=o},function(e,t,n){function r(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var u=null==n?0:a(n);return u<0&&(u=s(r+u,0)),i(e,o(t,3),u)}var i=n(539),o=n(217),a=n(904),s=Math.max;e.exports=r},function(e,t,n){function r(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}var i=n(398);e.exports=r},function(e,t,n){function r(e,t){return null!=e&&o(e,t,i)}var i=n(834),o=n(861);e.exports=r},function(e,t,n){function r(e){return a(e)?i(s(e)):o(e)}var i=n(844),o=n(845),a=n(261),s=n(179);e.exports=r},function(e,t,n){var r=n(521),i=n(843),o=n(500),a=n(545),s=o(function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])});e.exports=s},function(e,t){function n(){return!1}e.exports=n},function(e,t,n){function r(e){if(!e)return 0===e?e:0;if((e=i(e))===o||e===-o){return(e<0?-1:1)*a}return e===e?e:0}var i=n(549),o=1/0,a=1.7976931348623157e308;e.exports=r},function(e,t,n){function r(e){var t=i(e),n=t%1;return t===t?n?t-n:t:0}var i=n(903);e.exports=r},function(e,t,n){function r(e){return null==e?"":i(e)}var i=n(849);e.exports=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(19),s=r(a),u=n(20),c=r(u),l=function(e){return o.default.createElement(c.default,e,o.default.createElement("path",{d:"M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"}))};l=(0,s.default)(l),l.displayName="ActionBuild",l.muiName="SvgIcon",t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(19),s=r(a),u=n(20),c=r(u),l=function(e){return o.default.createElement(c.default,e,o.default.createElement("path",{d:"M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"}))};l=(0,s.default)(l),l.displayName="ActionInfoOutline",l.muiName="SvgIcon",t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(19),s=r(a),u=n(20),c=r(u),l=function(e){return o.default.createElement(c.default,e,o.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}))};l=(0,s.default)(l),l.displayName="ActionInfo",l.muiName="SvgIcon",t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(19),s=r(a),u=n(20),c=r(u),l=function(e){return o.default.createElement(c.default,e,o.default.createElement("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}))};l=(0,s.default)(l),l.displayName="ActionVisibilityOff",l.muiName="SvgIcon",t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(19),s=r(a),u=n(20),c=r(u),l=function(e){return o.default.createElement(c.default,e,o.default.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}))};l=(0,s.default)(l),l.displayName="ActionVisibility",l.muiName="SvgIcon",t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(19),s=r(a),u=n(20),c=r(u),l=function(e){return o.default.createElement(c.default,e,o.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31C15.55 19.37 13.85 20 12 20zm6.31-3.1L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9z"}))};l=(0,s.default)(l),l.displayName="AvNotInterested",l.muiName="SvgIcon",t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(19),s=r(a),u=n(20),c=r(u),l=function(e){return o.default.createElement(c.default,e,o.default.createElement("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}))};l=(0,s.default)(l),l.displayName="ContentAddCircleOutline",l.muiName="SvgIcon",t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(19),s=r(a),u=n(20),c=r(u),l=function(e){return o.default.createElement(c.default,e,o.default.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}))};l=(0,s.default)(l),l.displayName="ContentClear",l.muiName="SvgIcon",t.default=l},,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(19),s=r(a),u=n(20),c=r(u),l=function(e){return o.default.createElement(c.default,e,o.default.createElement("path",{d:"M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"}))};l=(0,s.default)(l),l.displayName="NavigationApps",l.muiName="SvgIcon",t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(19),s=r(a),u=n(20),c=r(u),l=function(e){return o.default.createElement(c.default,e,o.default.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}))};l=(0,s.default)(l),l.displayName="NavigationArrowBack",l.muiName="SvgIcon",t.default=l},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(19),s=r(a),u=n(20),c=r(u),l=function(e){return o.default.createElement(c.default,e,o.default.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}))};l=(0,s.default)(l),l.displayName="NavigationArrowForward",l.muiName="SvgIcon",t.default=l},,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(19),s=r(a),u=n(20),c=r(u),l=function(e){return o.default.createElement(c.default,e,o.default.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}))};l=(0,s.default)(l),l.displayName="NavigationMoreVert",l.muiName="SvgIcon",t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(19),s=r(a),u=n(20),c=r(u),l=function(e){return o.default.createElement(c.default,e,o.default.createElement("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}))};l=(0,s.default)(l),l.displayName="NavigationRefresh",l.muiName="SvgIcon",t.default=l},,,,,,,,,,,,,function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(p===clearTimeout)return clearTimeout(e);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function a(){m&&d&&(m=!1,d.length?h=d.concat(h):y=-1,h.length&&s())}function s(){if(!m){var e=i(a);m=!0;for(var t=h.length;t;){for(d=h,h=[];++y<t;)d&&d[y].run();y=-1,t=h.length}d=null,m=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,p,f=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{p="function"==typeof clearTimeout?clearTimeout:r}catch(e){p=r}}();var d,h=[],m=!1,y=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new u(e,t)),1!==h.length||m||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},,,function(e,t,n){"use strict";function r(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[o(t,e),"[",r,"]"].join(""):[o(t,e),"[",o(r,e),"]=",o(n,e)].join("")};case"bracket":return function(t,n){return null===n?o(t,e):[o(t,e),"[]=",o(n,e)].join("")};default:return function(t,n){return null===n?o(t,e):[o(t,e),"=",o(n,e)].join("")}}}function i(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){if(t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),!t)return void(r[e]=n);void 0===r[e]&&(r[e]={}),r[e][t[1]]=n};case"bracket":return function(e,n,r){return t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0===r[e]?void(r[e]=[n]):void(r[e]=[].concat(r[e],n)):void(r[e]=n)};default:return function(e,t,n){if(void 0===n[e])return void(n[e]=t);n[e]=[].concat(n[e],t)}}}function o(e,t){return t.encode?t.strict?s(e):encodeURIComponent(e):e}function a(e){return Array.isArray(e)?e.sort():"object"==typeof e?a(Object.keys(e)).sort(function(e,t){return Number(e)-Number(t)}).map(function(t){return e[t]}):e}var s=n(1332),u=n(440);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){t=u({arrayFormat:"none"},t);var n=i(t),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),i=t.shift(),o=t.length>0?t.join("="):void 0;o=void 0===o?null:decodeURIComponent(o),n(decodeURIComponent(i),o,r)}),Object.keys(r).sort().reduce(function(e,t){var n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=a(n):e[t]=n,e},Object.create(null))):r},t.stringify=function(e,t){t=u({encode:!0,strict:!0,arrayFormat:"none"},t);var n=r(t);return e?Object.keys(e).sort().map(function(r){var i=e[r];if(void 0===i)return"";if(null===i)return o(r,t);if(Array.isArray(i)){var a=[];return i.slice().forEach(function(e){void 0!==e&&a.push(n(r,e,a.length))}),a.join("&")}return o(r,t)+"="+o(i,t)}).filter(function(e){return e.length>0}).join("&"):""}},,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=(n.n(a),n(2)),u=n.n(s),c=n(443);n(274);t.a=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1],s=n||t+"Subscription",l=function(e){function n(o,a){r(this,n);var s=i(this,e.call(this,o,a));return s[t]=o.store,s}return o(n,e),n.prototype.getChildContext=function(){var e;return e={},e[t]=this[t],e[s]=null,e},n.prototype.render=function(){return a.Children.only(this.props.children)},n}(a.Component);return l.propTypes={store:c.a.isRequired,children:u.a.element.isRequired},l.childContextTypes=(e={},e[t]=c.a.isRequired,e[s]=c.b,e),l.displayName="Provider",l}()},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function o(e,t){return e===t}var a=n(441),s=n(1025),u=n(1019),c=n(1020),l=n(1021),p=n(1022),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connectHOC,n=void 0===t?a.a:t,d=e.mapStateToPropsFactories,h=void 0===d?c.a:d,m=e.mapDispatchToPropsFactories,y=void 0===m?u.a:m,b=e.mergePropsFactories,v=void 0===b?l.a:b,g=e.selectorFactory,w=void 0===g?p.a:g;return function(e,t,a){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=u.pure,l=void 0===c||c,p=u.areStatesEqual,d=void 0===p?o:p,m=u.areOwnPropsEqual,b=void 0===m?s.a:m,g=u.areStatePropsEqual,O=void 0===g?s.a:g,S=u.areMergedPropsEqual,_=void 0===S?s.a:S,E=r(u,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),x=i(e,h,"mapStateToProps"),T=i(t,y,"mapDispatchToProps"),P=i(a,v,"mergeProps");return n(w,f({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:x,initMapDispatchToProps:T,initMergeProps:P,pure:l,areStatesEqual:d,areOwnPropsEqual:b,areStatePropsEqual:O,areMergedPropsEqual:_},E))}}()},function(e,t,n){"use strict";function r(e){return"function"==typeof e?n.i(s.a)(e,"mapDispatchToProps"):void 0}function i(e){return e?void 0:n.i(s.b)(function(e){return{dispatch:e}})}function o(e){return e&&"object"==typeof e?n.i(s.b)(function(t){return n.i(a.a)(e,t)}):void 0}var a=n(38),s=n(442);t.a=[r,i,o]},function(e,t,n){"use strict";function r(e){return"function"==typeof e?n.i(o.a)(e,"mapStateToProps"):void 0}function i(e){return e?void 0:n.i(o.b)(function(){return{}})}var o=n(442);t.a=[r,i]},function(e,t,n){"use strict";function r(e,t,n){return s({},n,e,t)}function i(e){return function(t,n){var r=(n.displayName,n.pure),i=n.areMergedPropsEqual,o=!1,a=void 0;return function(t,n,s){var u=e(t,n,s);return o?r&&i(u,a)||(a=u):(o=!0,a=u),a}}}function o(e){return"function"==typeof e?i(e):void 0}function a(e){return e?void 0:function(){return r}}var s=(n(444),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e});t.a=[o,a]},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function o(e,t,n,r,i){function o(i,o){return h=i,m=o,y=e(h,m),b=t(r,m),v=n(y,b,m),d=!0,v}function a(){return y=e(h,m),t.dependsOnOwnProps&&(b=t(r,m)),v=n(y,b,m)}function s(){return e.dependsOnOwnProps&&(y=e(h,m)),t.dependsOnOwnProps&&(b=t(r,m)),v=n(y,b,m)}function u(){var t=e(h,m),r=!f(t,y);return y=t,r&&(v=n(y,b,m)),v}function c(e,t){var n=!p(t,m),r=!l(e,h);return h=e,m=t,n&&r?a():n?s():r?u():v}var l=i.areStatesEqual,p=i.areOwnPropsEqual,f=i.areStatePropsEqual,d=!1,h=void 0,m=void 0,y=void 0,b=void 0,v=void 0;return function(e,t){return d?c(e,t):o(e,t)}}function a(e,t){var n=t.initMapStateToProps,a=t.initMapDispatchToProps,s=t.initMergeProps,u=r(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),c=n(e,u),l=a(e,u),p=s(e,u);return(u.pure?o:i)(c,l,p,e,u)}t.a=a;n(1023)},function(e,t,n){"use strict";n(274)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){var e=[],t=[];return{clear:function(){t=o,e=o},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==o&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}}n.d(t,"a",function(){return s});var o=null,a={notify:function(){}},s=function(){function e(t,n,i){r(this,e),this.store=t,this.parentSub=n,this.onStateChange=i,this.unsubscribe=null,this.listeners=a}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=i())},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=a)},e}()},function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function i(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!o.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}t.a=i;var o=Object.prototype.hasOwnProperty},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(60),a=n.n(o),s=n(445),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};a()({displayName:"IndexLink",render:function(){return i.a.createElement(s.a,u({},this.props,{onlyActiveOnIndex:!0}))}})},function(e,t,n){"use strict";var r=n(60),i=n.n(r),o=n(2),a=(n.n(o),n(115),n(24)),s=n.n(a),u=n(447),c=n(139),l=i()({displayName:"IndexRedirect",statics:{createRouteFromReactElement:function(e,t){t&&(t.indexRoute=u.a.createRouteFromReactElement(e))}},propTypes:{to:o.string.isRequired,query:o.object,state:o.object,onEnter:c.c,children:c.c},render:function(){s()(!1)}});t.a=l},function(e,t,n){"use strict";var r=n(60),i=n.n(r),o=n(2),a=(n.n(o),n(115),n(24)),s=n.n(a),u=n(79),c=n(139),l=i()({displayName:"IndexRoute",statics:{createRouteFromReactElement:function(e,t){t&&(t.indexRoute=n.i(u.c)(e))}},propTypes:{path:c.c,component:c.a,components:c.b,getComponent:o.func,getComponents:o.func},render:function(){s()(!1)}});t.a=l},function(e,t,n){"use strict";var r=n(60),i=n.n(r),o=n(2),a=(n.n(o),n(24)),s=n.n(a),u=n(79),c=n(139),l=i()({displayName:"Route",statics:{createRouteFromReactElement:u.c},propTypes:{path:o.string,component:c.a,components:c.b,getComponent:o.func,getComponents:o.func},render:function(){s()(!1)}});t.a=l},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var i=n(24),o=n.n(i),a=n(0),s=n.n(a),u=n(60),c=n.n(u),l=n(2),p=(n.n(l),n(451)),f=n(139),d=n(278),h=n(79),m=n(448),y=(n(115),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),b={history:l.object,children:f.d,routes:f.d,render:l.func,createElement:l.func,onError:l.func,onUpdate:l.func,matchContext:l.object},v=c()({displayName:"Router",propTypes:b,getDefaultProps:function(){return{render:function(e){return s.a.createElement(d.a,e)}}},getInitialState:function(){return{location:null,routes:null,params:null,components:null}},handleError:function(e){if(!this.props.onError)throw e;this.props.onError.call(this,e)},createRouterObject:function(e){var t=this.props.matchContext;if(t)return t.router;var r=this.props.history;return n.i(m.a)(r,this.transitionManager,e)},createTransitionManager:function(){var e=this.props.matchContext;if(e)return e.transitionManager;var t=this.props.history,r=this.props,i=r.routes,a=r.children;return t.getCurrentLocation||o()(!1),n.i(p.a)(t,n.i(h.b)(i||a))},componentWillMount:function(){var e=this;this.transitionManager=this.createTransitionManager(),this.router=this.createRouterObject(this.state),this._unlisten=this.transitionManager.listen(function(t,r){t?e.handleError(t):(n.i(m.b)(e.router,r),e.setState(r,e.props.onUpdate))})},componentWillReceiveProps:function(e){},componentWillUnmount:function(){this._unlisten&&this._unlisten()},render:function(){var e=this.state,t=e.location,n=e.routes,i=e.params,o=e.components,a=this.props,s=a.createElement,u=a.render,c=r(a,["createElement","render"]);return null==t?null:(Object.keys(b).forEach(function(e){return delete c[e]}),u(y({},c,{router:this.router,location:t,routes:n,params:i,components:o,createElement:s})))}});t.a=v},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){function e(e,t,n,r){var i=e.length<n,o=function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];if(e.apply(t,r),i){(0,r[r.length-1])()}};return r.add(o),o}function t(t){return t.reduce(function(t,n){return n.onEnter&&t.push(e(n.onEnter,n,3,l)),t},[])}function r(t){return t.reduce(function(t,n){return n.onChange&&t.push(e(n.onChange,n,4,p)),t},[])}function i(e,t,r){function i(e){a=e}if(!e)return void r();var a=void 0;n.i(o.b)(e,function(e,n,r){t(e,i,function(e){e||a?r(e,a):n()})},r)}function s(e,n,r){l.clear();var o=t(e);return i(o.length,function(e,t,r){var i=function(){l.has(o[e])&&(r.apply(void 0,arguments),l.remove(o[e]))};o[e](n,t,i)},r)}function u(e,t,n,o){p.clear();var a=r(e);return i(a.length,function(e,r,i){var o=function(){p.has(a[e])&&(i.apply(void 0,arguments),p.remove(a[e]))};a[e](t,n,r,o)},o)}function c(e,t){for(var n=0,r=e.length;n<r;++n)e[n].onLeave&&e[n].onLeave.call(e[n],t)}var l=new a,p=new a;return{runEnterHooks:s,runChangeHooks:u,runLeaveHooks:c}}t.a=i;var o=n(275),a=function e(){var t=this;r(this,e),this.hooks=[],this.add=function(e){return t.hooks.push(e)},this.remove=function(e){return t.hooks=t.hooks.filter(function(t){return t!==e})},this.has=function(e){return-1!==t.hooks.indexOf(e)},this.clear=function(){return t.hooks=[]}}},function(e,t,n){"use strict";var r=n(0);n.n(r),n(278),n(115),Object.assign},function(e,t,n){"use strict";var r=n(789),i=n.n(r),o=n(450);n.i(o.a)(i.a)},function(e,t,n){"use strict";function r(e,t,r){return!!e.path&&n.i(o.a)(e.path).some(function(e){return t.params[e]!==r.params[e]})}function i(e,t){var n=e&&e.routes,i=t.routes,o=void 0,a=void 0,s=void 0;if(n){var u=!1;o=n.filter(function(n){if(u)return!0;var o=-1===i.indexOf(n)||r(n,e,t);return o&&(u=!0),o}),o.reverse(),s=[],a=[],i.forEach(function(e){var t=-1===n.indexOf(e),r=-1!==o.indexOf(e);t||r?s.push(e):a.push(e)})}else o=[],a=[],s=i;return{leaveRoutes:o,changeRoutes:a,enterRoutes:s}}var o=n(114);t.a=i},function(e,t,n){"use strict";function r(e,t,r){if(t.component||t.components)return void r(null,t.component||t.components);var i=t.getComponent||t.getComponents;if(i){var o=i.call(t,e,r);n.i(a.a)(o)&&o.then(function(e){return r(null,e)},r)}else r()}function i(e,t){n.i(o.a)(e.routes,function(t,n,i){r(e,t,i)},t)}var o=n(275),a=n(446);t.a=i},function(e,t,n){"use strict";function r(e,t){var r={};return e.path?(n.i(i.a)(e.path).forEach(function(e){Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])}),r):r}var i=n(114);t.a=r},function(e,t,n){"use strict";var r=n(790),i=n.n(r),o=n(450);t.a=n.i(o.a)(i.a)},function(e,t,n){"use strict";function r(e,t){if(e==t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(e,n){return r(e,t[n])});if("object"===(void 0===e?"undefined":c(e))){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))if(void 0===e[n]){if(void 0!==t[n])return!1}else{if(!Object.prototype.hasOwnProperty.call(t,n))return!1;if(!r(e[n],t[n]))return!1}return!0}return String(e)===String(t)}function i(e,t){return"/"!==t.charAt(0)&&(t="/"+t),"/"!==e.charAt(e.length-1)&&(e+="/"),"/"!==t.charAt(t.length-1)&&(t+="/"),t===e}function o(e,t,r){for(var i=e,o=[],a=[],s=0,c=t.length;s<c;++s){var l=t[s],p=l.path||"";if("/"===p.charAt(0)&&(i=e,o=[],a=[]),null!==i&&p){var f=n.i(u.b)(p,i);if(f?(i=f.remainingPathname,o=[].concat(o,f.paramNames),a=[].concat(a,f.paramValues)):i=null,""===i)return o.every(function(e,t){return String(a[t])===String(r[e])})}}return!1}function a(e,t){return null==t?null==e:null==e||r(e,t)}function s(e,t,n,r,s){var u=e.pathname,c=e.query;return null!=n&&("/"!==u.charAt(0)&&(u="/"+u),!!(i(u,n.pathname)||!t&&o(u,r,s))&&a(c,n.query))}t.a=s;var u=n(114),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}},function(e,t,n){"use strict";var r=n(173),i=(n.n(r),n(24));n.n(i),n(449),n(451),n(79),n(448),Object.assign},function(e,t,n){"use strict";function r(e,t,r,i,o){if(e.childRoutes)return[null,e.childRoutes];if(!e.getChildRoutes)return[];var s=!0,u=void 0,c={location:t,params:a(r,i)},p=e.getChildRoutes(c,function(e,t){if(t=!e&&n.i(f.b)(t),s)return void(u=[e,t]);o(e,t)});return n.i(l.a)(p)&&p.then(function(e){return o(null,n.i(f.b)(e))},o),s=!1,u}function i(e,t,o,s,u){if(e.indexRoute)u(null,e.indexRoute);else if(e.getIndexRoute){var p={location:t,params:a(o,s)},d=e.getIndexRoute(p,function(e,t){u(e,!e&&n.i(f.b)(t)[0])});n.i(l.a)(d)&&d.then(function(e){return u(null,n.i(f.b)(e)[0])},u)}else if(e.childRoutes||e.getChildRoutes){var h=function(e,r){if(e)return void u(e);var a=r.filter(function(e){return!e.path});n.i(c.b)(a.length,function(e,n,r){i(a[e],t,o,s,function(t,i){if(t||i){var o=[a[e]].concat(Array.isArray(i)?i:[i]);r(t,o)}else n()})},function(e,t){u(null,t)})},m=r(e,t,o,s,h);m&&h.apply(void 0,m)}else u()}function o(e,t,n){return t.reduce(function(e,t,r){var i=n&&n[r];return Array.isArray(e[t])?e[t].push(i):e[t]=t in e?[e[t],i]:i,e},e)}function a(e,t){return o({},e,t)}function s(e,t,o,s,c,l){var f=e.path||"";if("/"===f.charAt(0)&&(o=t.pathname,s=[],c=[]),null!==o&&f){try{var d=n.i(p.b)(f,o);d?(o=d.remainingPathname,s=[].concat(s,d.paramNames),c=[].concat(c,d.paramValues)):o=null}catch(e){l(e)}if(""===o){var h={routes:[e],params:a(s,c)};return void i(e,t,s,c,function(e,t){if(e)l(e);else{if(Array.isArray(t)){var n;(n=h.routes).push.apply(n,t)}else t&&h.routes.push(t);l(null,h)}})}}if(null!=o||e.childRoutes){var m=function(n,r){n?l(n):r?u(r,t,function(t,n){t?l(t):n?(n.routes.unshift(e),l(null,n)):l()},o,s,c):l()},y=r(e,t,s,c,m);y&&m.apply(void 0,y)}else l()}function u(e,t,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];void 0===i&&("/"!==t.pathname.charAt(0)&&(t=d({},t,{pathname:"/"+t.pathname})),i=t.pathname),n.i(c.b)(e.length,function(n,r,u){s(e[n],t,i,o,a,function(e,t){e||t?u(e,t):r()})},r)}t.a=u;var c=n(275),l=n(446),p=n(114),f=(n(115),n(79)),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";var r=n(24),i=(n.n(r),n(0)),o=(n.n(i),n(60)),a=(n.n(o),n(205));n.n(a),n(276),n(277),Object.assign},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(896),s=r(a),u=n(901),c=r(u),l=function(){function e(){i(this,e),this.refs={}}return o(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var n=this.getIndex(e,t);-1!==n&&this.refs[e].splice(n,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return(0,s.default)(this.refs[this.active.collection],function(t){return t.node.sortableInfo.index==e.active.index})}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return(0,c.default)(this.refs[e],function(e){return e.node.sortableInfo.index})}}]),e}();t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(e){o(this,n);var t=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handleStart=function(e){var n=t.props,r=n.distance,i=n.shouldCancelStart;if(2===e.button||i(e))return!1;t._touched=!0,t._pos={x:e.clientX,y:e.clientY};var o=(0,O.closest)(e.target,function(e){return null!=e.sortableInfo});if(o&&o.sortableInfo&&t.nodeIsChild(o)&&!t.state.sorting){var a=t.props.useDragHandle,s=o.sortableInfo,u=s.index,c=s.collection;if(a&&!(0,O.closest)(e.target,function(e){return null!=e.sortableHandle}))return;t.manager.active={index:u,collection:c},"a"===e.target.tagName.toLowerCase()&&e.preventDefault(),r||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout(function(){return t.handlePress(e)},t.props.pressDelay))}},t.nodeIsChild=function(e){return e.sortableInfo.manager===t.manager},t.handleMove=function(e){var n=t.props,r=n.distance,i=n.pressThreshold;if(!t.state.sorting&&t._touched){t._delta={x:t._pos.x-e.clientX,y:t._pos.y-e.clientY};var o=Math.abs(t._delta.x)+Math.abs(t._delta.y);r||i&&!(i&&o>=i)?r&&o>=r&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}},t.handleEnd=function(){var e=t.props.distance;t._touched=!1,e||t.cancel()},t.cancel=function(){t.state.sorting||(clearTimeout(t.pressTimer),t.manager.active=null)},t.handlePress=function(e){var n=t.manager.getActive();if(n){var r=t.props,o=r.axis,a=r.getHelperDimensions,s=r.helperClass,u=r.hideSortableGhost,c=r.onSortStart,l=r.useWindowAsScrollContainer,p=n.node,f=n.collection,d=p.sortableInfo.index,h=(0,O.getElementMargin)(p),m=t.container.getBoundingClientRect(),y=a({index:d,node:p,collection:f});t.node=p,t.margin=h,t.width=y.width,t.height=y.height,t.marginOffset={x:t.margin.left+t.margin.right,y:Math.max(t.margin.top,t.margin.bottom)},t.boundingClientRect=p.getBoundingClientRect(),t.containerBoundingRect=m,t.index=d,t.newIndex=d,t.axis={x:o.indexOf("x")>=0,y:o.indexOf("y")>=0},t.offsetEdge=t.getEdgeOffset(p),t.initialOffset=t.getOffset(e),t.initialScroll={top:t.scrollContainer.scrollTop,left:t.scrollContainer.scrollLeft};var b=p.querySelectorAll("input, textarea, select"),v=p.cloneNode(!0);if([].concat(i(v.querySelectorAll("input, textarea, select"))).forEach(function(e,t){return e.value=b[t]&&b[t].value}),t.helper=t.document.body.appendChild(v),t.helper.style.position="fixed",t.helper.style.top=t.boundingClientRect.top-h.top+"px",t.helper.style.left=t.boundingClientRect.left-h.left+"px",t.helper.style.width=t.width+"px",t.helper.style.height=t.height+"px",t.helper.style.boxSizing="border-box",t.helper.style.pointerEvents="none",u&&(t.sortableGhost=p,p.style.visibility="hidden",p.style.opacity=0),t.minTranslate={},t.maxTranslate={},t.axis.x&&(t.minTranslate.x=(l?0:m.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(l?t.contentWindow.innerWidth:m.left+m.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(l?0:m.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(l?t.contentWindow.innerHeight:m.top+m.height)-t.boundingClientRect.top-t.height/2),s){var g;(g=t.helper.classList).add.apply(g,i(s.split(" ")))}t.listenerNode=e.touches?p:t.contentWindow,O.events.move.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)}),O.events.end.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}),t.setState({sorting:!0,sortingIndex:d}),c&&c({node:p,index:d,collection:f},e)}},t.handleSortMove=function(e){var n=t.props.onSortMove;e.preventDefault(),t.updatePosition(e),t.animateNodes(),t.autoscroll(),n&&n(e)},t.handleSortEnd=function(e){var n=t.props,r=n.hideSortableGhost,i=n.onSortEnd,o=t.manager.active.collection;t.listenerNode&&(O.events.move.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)}),O.events.end.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})),t.helper.parentNode.removeChild(t.helper),r&&t.sortableGhost&&(t.sortableGhost.style.visibility="",t.sortableGhost.style.opacity="");for(var a=t.manager.refs[o],s=0,u=a.length;s<u;s++){var c=a[s],l=c.node;c.edgeOffset=null,l.style[O.vendorPrefix+"Transform"]="",l.style[O.vendorPrefix+"TransitionDuration"]=""}clearInterval(t.autoscrollInterval),t.autoscrollInterval=null,t.manager.active=null,t.setState({sorting:!1,sortingIndex:null}),"function"==typeof i&&i({oldIndex:t.index,newIndex:t.newIndex,collection:o},e),t._touched=!1},t.autoscroll=function(){var e=t.translate,n={x:0,y:0},r={x:1,y:1},i={x:10,y:10};e.y>=t.maxTranslate.y-t.height/2?(n.y=1,r.y=i.y*Math.abs((t.maxTranslate.y-t.height/2-e.y)/t.height)):e.x>=t.maxTranslate.x-t.width/2?(n.x=1,r.x=i.x*Math.abs((t.maxTranslate.x-t.width/2-e.x)/t.width)):e.y<=t.minTranslate.y+t.height/2?(n.y=-1,r.y=i.y*Math.abs((e.y-t.height/2-t.minTranslate.y)/t.height)):e.x<=t.minTranslate.x+t.width/2&&(n.x=-1,r.x=i.x*Math.abs((e.x-t.width/2-t.minTranslate.x)/t.width)),t.autoscrollInterval&&(clearInterval(t.autoscrollInterval),t.autoscrollInterval=null,t.isAutoScrolling=!1),0===n.x&&0===n.y||(t.autoscrollInterval=setInterval(function(){t.isAutoScrolling=!0;var e={left:1*r.x*n.x,top:1*r.y*n.y};t.scrollContainer.scrollTop+=e.top,t.scrollContainer.scrollLeft+=e.left,t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()},5))},t.manager=new w.default,t.events={start:t.handleStart,move:t.handleMove,end:t.handleEnd},(0,v.default)(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time."),t.state={},t}return s(n,t),p(n,[{key:"getChildContext",value:function(){return{manager:this.manager}}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.contentWindow,r=t.getContainer,i=t.useWindowAsScrollContainer;this.container="function"==typeof r?r(this.getWrappedInstance()):(0,y.findDOMNode)(this),this.document=this.container.ownerDocument||document,this.scrollContainer=i?this.document.body:this.container,this.contentWindow="function"==typeof n?n():n;for(var o in this.events)!function(t){e.events.hasOwnProperty(t)&&O.events[t].forEach(function(n){return e.container.addEventListener(n,e.events[t],!1)})}(o)}},{key:"componentWillUnmount",value:function(){var e=this;for(var t in this.events)!function(t){e.events.hasOwnProperty(t)&&O.events[t].forEach(function(n){return e.container.removeEventListener(n,e.events[t])})}(t)}},{key:"getEdgeOffset",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{top:0,left:0};if(e){var n={top:t.top+e.offsetTop,left:t.left+e.offsetLeft};return e.parentNode!==this.container?this.getEdgeOffset(e.parentNode,n):n}}},{key:"getOffset",value:function(e){return{x:e.touches?e.touches[0].clientX:e.clientX,y:e.touches?e.touches[0].clientY:e.clientY}}},{key:"getLockPixelOffsets",value:function(){var e=this.props.lockOffset;Array.isArray(e)||(e=[e,e]),(0,v.default)(2===e.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",e);var t=e,n=l(t,2),r=n[0],i=n[1];return[this.getLockPixelOffset(r),this.getLockPixelOffset(i)]}},{key:"getLockPixelOffset",value:function(e){var t=e,n=e,r="px";if("string"==typeof e){var i=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(e);(0,v.default)(null!==i,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',e),t=n=parseFloat(e),r=i[1]}return(0,v.default)(isFinite(t)&&isFinite(n),"lockOffset value should be a finite. Given %s",e),"%"===r&&(t=t*this.width/100,n=n*this.height/100),{x:t,y:n}}},{key:"updatePosition",value:function(e){var t=this.props,n=t.lockAxis,r=t.lockToContainerEdges,i=this.getOffset(e),o={x:i.x-this.initialOffset.x,y:i.y-this.initialOffset.y};if(this.translate=o,r){var a=this.getLockPixelOffsets(),s=l(a,2),u=s[0],c=s[1],p={x:this.width/2-u.x,y:this.height/2-u.y},f={x:this.width/2-c.x,y:this.height/2-c.y};o.x=(0,O.limit)(this.minTranslate.x+p.x,this.maxTranslate.x-f.x,o.x),o.y=(0,O.limit)(this.minTranslate.y+p.y,this.maxTranslate.y-f.y,o.y)}"x"===n?o.y=0:"y"===n&&(o.x=0),this.helper.style[O.vendorPrefix+"Transform"]="translate3d("+o.x+"px,"+o.y+"px, 0)"}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,n=e.hideSortableGhost,r=this.manager.getOrderedRefs(),i={left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top},o={left:this.offsetEdge.left+this.translate.x+i.left,top:this.offsetEdge.top+this.translate.y+i.top};this.newIndex=null;for(var a=0,s=r.length;a<s;a++){var u=r[a].node,c=u.sortableInfo.index,l=u.offsetWidth,p=u.offsetHeight,f={width:this.width>l?l/2:this.width/2,height:this.height>p?p/2:this.height/2},d={x:0,y:0},h=r[a].edgeOffset;h||(r[a].edgeOffset=h=this.getEdgeOffset(u));var m=a<r.length-1&&r[a+1],y=a>0&&r[a-1];m&&!m.edgeOffset&&(m.edgeOffset=this.getEdgeOffset(m.node)),c!==this.index?(t&&(u.style[O.vendorPrefix+"TransitionDuration"]=t+"ms"),this.axis.x?this.axis.y?c<this.index&&(o.left-f.width<=h.left&&o.top<=h.top+f.height||o.top+f.height<=h.top)?(d.x=this.width+this.marginOffset.x,h.left+d.x>this.containerBoundingRect.width-f.width&&(d.x=m.edgeOffset.left-h.left,d.y=m.edgeOffset.top-h.top),null===this.newIndex&&(this.newIndex=c)):c>this.index&&(o.left+f.width>=h.left&&o.top+f.height>=h.top||o.top+f.height>=h.top+p)&&(d.x=-(this.width+this.marginOffset.x),h.left+d.x<this.containerBoundingRect.left+f.width&&(d.x=y.edgeOffset.left-h.left,d.y=y.edgeOffset.top-h.top),this.newIndex=c):c>this.index&&o.left+f.width>=h.left?(d.x=-(this.width+this.marginOffset.x),this.newIndex=c):c<this.index&&o.left<=h.left+f.width&&(d.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=c)):this.axis.y&&(c>this.index&&o.top+f.height>=h.top?(d.y=-(this.height+this.marginOffset.y),this.newIndex=c):c<this.index&&o.top<=h.top+f.height&&(d.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=c))),u.style[O.vendorPrefix+"Transform"]="translate3d("+d.x+"px,"+d.y+"px,0)"):n&&(this.sortableGhost=u,u.style.visibility="hidden",u.style.opacity=0)}null==this.newIndex&&(this.newIndex=this.index)}},{key:"getWrappedInstance",value:function(){return(0,v.default)(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=r.withRef?"wrappedInstance":null;return d.default.createElement(e,c({ref:t},(0,O.omit)(this.props,"contentWindow","useWindowAsScrollContainer","distance","helperClass","hideSortableGhost","transitionDuration","useDragHandle","pressDelay","pressThreshold","shouldCancelStart","onSortStart","onSortMove","onSortEnd","axis","lockAxis","lockOffset","lockToContainerEdges","getContainer","getHelperDimensions")))}}]),n}(f.Component),t.displayName=(0,O.provideDisplayName)("sortableList",e),t.defaultProps={axis:"y",transitionDuration:300,pressDelay:0,pressThreshold:5,distance:0,useWindowAsScrollContainer:!1,hideSortableGhost:!0,contentWindow:"undefined"!=typeof window?window:null,shouldCancelStart:function(e){if(-1!==["input","textarea","select","option","button"].indexOf(e.target.tagName.toLowerCase()))return!0},lockToContainerEdges:!1,lockOffset:"50%",getHelperDimensions:function(e){var t=e.node;return{width:t.offsetWidth,height:t.offsetHeight}}},t.propTypes={axis:m.default.oneOf(["x","y","xy"]),distance:m.default.number,lockAxis:m.default.string,helperClass:m.default.string,transitionDuration:m.default.number,contentWindow:m.default.any,onSortStart:m.default.func,onSortMove:m.default.func,onSortEnd:m.default.func,shouldCancelStart:m.default.func,pressDelay:m.default.number,useDragHandle:m.default.bool,useWindowAsScrollContainer:m.default.bool,hideSortableGhost:m.default.bool,lockToContainerEdges:m.default.bool,lockOffset:m.default.oneOfType([m.default.number,m.default.string,m.default.arrayOf(m.default.oneOfType([m.default.number,m.default.string]))]),getContainer:m.default.func,getHelperDimensions:m.default.func},t.childContextTypes={manager:m.default.object.isRequired},n}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=u;var f=n(0),d=r(f),h=n(2),m=r(h),y=n(21),b=n(24),v=r(b),g=n(1042),w=r(g),O=n(188)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){return i(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return a(n,t),c(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.collection,n=e.disabled,r=e.index;n||this.setDraggable(t,r)}},{key:"componentWillReceiveProps",value:function(e){if(this.props.index!==e.index&&this.node&&(this.node.sortableInfo.index=e.index),this.props.disabled!==e.disabled){var t=e.collection,n=e.disabled,r=e.index;n?this.removeDraggable(t):this.setDraggable(t,r)}else this.props.collection!==e.collection&&(this.removeDraggable(this.props.collection),this.setDraggable(e.collection,e.index))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.collection;e.disabled||this.removeDraggable(t)}},{key:"setDraggable",value:function(e,t){var n=this.node=(0,h.findDOMNode)(this);n.sortableInfo={index:t,collection:e,manager:this.context.manager},this.ref={node:n},this.context.manager.add(e,this.ref)}},{key:"removeDraggable",value:function(e){this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return(0,y.default)(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=r.withRef?"wrappedInstance":null;return p.default.createElement(e,u({ref:t},(0,b.omit)(this.props,"collection","disabled","index")))}}]),n}(l.Component),t.displayName=(0,b.provideDisplayName)("sortableElement",e),t.contextTypes={manager:d.default.object.isRequired},t.propTypes={index:d.default.number.isRequired,collection:d.default.oneOfType([d.default.number,d.default.string]),disabled:d.default.bool},t.defaultProps={collection:0},n}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=s;var l=n(0),p=r(l),f=n(2),d=r(f),h=n(21),m=n(24),y=r(m),b=n(188)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){return i(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return a(n,t),c(n,[{key:"componentDidMount",value:function(){(0,f.findDOMNode)(this).sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return(0,h.default)(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=r.withRef?"wrappedInstance":null;return p.default.createElement(e,u({ref:t},this.props))}}]),n}(l.Component),t.displayName=(0,m.provideDisplayName)("sortableHandle",e),n}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=s;var l=n(0),p=r(l),f=n(21),d=n(24),h=r(d),m=n(188)},,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(0),c=n(54),l=(r(c),n(44)),p=(r(l),n(53)),f=r(p),d=function(e){return function(t){var n=(0,f.default)(t),r=function(t){function r(){i(this,r);for(var n=arguments.length,a=Array(n),s=0;s<n;s++)a[s]=arguments[s];var u=o(this,t.call.apply(t,[this].concat(a)));return Object.assign(u,e),u}return a(r,t),r.prototype.render=function(){return n(s({},this.props,this.state))},r}(u.Component);return r}};t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}t.__esModule=!0;var o=n(53),a=r(o),s=n(280),u=(r(s),function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map(a.default),o=function(e){var t=i(e,[]),n=e.children;return r.reduceRight(function(e,n){return n(t,e)},n)};return o});t.default=u},,,,function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}n.d(t,"a",function(){return o});var i=n(466),o=(n.n(i),function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return i.merge.apply(void 0,r(t.map(function(e){var t=e.apply(void 0,n);if(!t)throw new TypeError('combineEpics: one of the provided Epics "'+(e.name||"<anonymous>")+"\" does not return a stream. Double check you're not missing a return statement!");return t})))}})},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;if("function"!=typeof e)throw new TypeError("You must provide a root Epic to createEpicMiddleware");t=c({},p,t);var n=new i.Subject,r=t.adapter.input(new s.a(n)),l=new i.Subject,f=void 0,d=function(i){return f=i,function(i){var s;return(s=o.map.call(l,function(e){var n="dependencies"in t?e(r,f,t.dependencies):e(r,f);if(!n)throw new TypeError('Your root Epic "'+(e.name||"<anonymous>")+"\" does not return a stream. Double check you're not missing a return statement!");return n}),a.switchMap).call(s,function(e){return t.adapter.output(e)}).subscribe(f.dispatch),l.next(e),function(e){var t=i(e);return n.next(e),t}}};return d.replaceEpic=function(e){f.dispatch({type:u.a}),l.next(e)},d}t.a=r;var i=n(26),o=(n.n(i),n(191)),a=(n.n(o),n(475)),s=(n.n(a),n(453)),u=n(454),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l={input:function(e){return e},output:function(e){return e}},p={adapter:l}},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,a){var s=e(n,r,a),u=s.dispatch,c=[],l={getState:s.getState,dispatch:function(e){return u(e)}};return c=t.map(function(e){return e(l)}),u=i.a.apply(void 0,c)(s.dispatch),o({},s,{dispatch:u})}}}t.a=r;var i=n(455),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";function r(e,t){return function(){return t(e.apply(void 0,arguments))}}function i(e,t){if("function"==typeof e)return r(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),i={},o=0;o<n.length;o++){var a=n[o],s=e[a];"function"==typeof s&&(i[a]=r(s,t))}return i}t.a=i},function(e,t,n){"use strict";function r(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function i(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:a.a.INIT}))throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+a.a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.')})}function o(e){for(var t=Object.keys(e),n={},o=0;o<t.length;o++){var a=t[o];"function"==typeof e[a]&&(n[a]=e[a])}var s,u=Object.keys(n);try{i(n)}catch(e){s=e}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(s)throw s;for(var i=!1,o={},a=0;a<u.length;a++){var c=u[a],l=n[c],p=e[c],f=l(p,t);if(void 0===f){var d=r(c,t);throw new Error(d)}o[c]=f,i=i||f!==p}return i?o:e}}t.a=o;var a=n(456);n(257),n(457)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(12),o=function(e){function t(t,n,r){e.call(this),this.parent=t,this.outerValue=n,this.outerIndex=r,this.index=0}return r(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(i.Subscriber);t.InnerSubscriber=o},function(e,t,n){"use strict";var r=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=Date.now?Date.now:function(){return+new Date},e}();t.Scheduler=r},function(e,t,n){"use strict";var r=n(1),i=n(1207);r.Observable.bindCallback=i.bindCallback},function(e,t,n){"use strict";var r=n(1),i=n(1208);r.Observable.bindNodeCallback=i.bindNodeCallback},function(e,t,n){"use strict";var r=n(1),i=n(1209);r.Observable.combineLatest=i.combineLatest},function(e,t,n){"use strict";var r=n(1),i=n(1210);r.Observable.concat=i.concat},function(e,t,n){"use strict";var r=n(1),i=n(1211);r.Observable.defer=i.defer},function(e,t,n){"use strict";var r=n(1),i=n(1213);r.Observable.ajax=i.ajax},function(e,t,n){"use strict";var r=n(1),i=n(1214);r.Observable.webSocket=i.webSocket},function(e,t,n){"use strict";var r=n(1),i=n(1215);r.Observable.empty=i.empty},function(e,t,n){"use strict";var r=n(1),i=n(1216);r.Observable.forkJoin=i.forkJoin},function(e,t,n){"use strict";var r=n(1),i=n(465);r.Observable.from=i.from},function(e,t,n){"use strict";var r=n(1),i=n(1217);r.Observable.fromEvent=i.fromEvent},function(e,t,n){"use strict";var r=n(1),i=n(1218);r.Observable.fromEventPattern=i.fromEventPattern},function(e,t,n){"use strict";var r=n(1),i=n(1219);r.Observable.fromPromise=i.fromPromise},function(e,t,n){"use strict";var r=n(1),i=n(1197);r.Observable.generate=i.GenerateObservable.create},function(e,t,n){"use strict";var r=n(1),i=n(1220);r.Observable.if=i._if},function(e,t,n){"use strict";var r=n(1),i=n(1221);r.Observable.interval=i.interval},function(e,t,n){"use strict";var r=n(1),i=n(466);r.Observable.merge=i.merge},function(e,t,n){"use strict";var r=n(1),i=n(1222);r.Observable.never=i.never},function(e,t,n){"use strict";var r=n(1),i=n(467);r.Observable.of=i.of},function(e,t,n){"use strict";var r=n(1),i=n(473);r.Observable.onErrorResumeNext=i.onErrorResumeNextStatic},function(e,t,n){"use strict";var r=n(1),i=n(1223);r.Observable.pairs=i.pairs},function(e,t,n){"use strict";var r=n(1),i=n(474);r.Observable.race=i.raceStatic},function(e,t,n){"use strict";var r=n(1),i=n(1224);r.Observable.range=i.range},function(e,t,n){"use strict";var r=n(1),i=n(1225);r.Observable.throw=i._throw},function(e,t,n){"use strict";var r=n(1),i=n(1226);r.Observable.timer=i.timer},function(e,t,n){"use strict";var r=n(1),i=n(1227);r.Observable.using=i.using},function(e,t,n){"use strict";var r=n(1),i=n(1228);r.Observable.zip=i.zip},function(e,t,n){"use strict";var r=n(1),i=n(1229);r.Observable.prototype.audit=i.audit},function(e,t,n){"use strict";var r=n(1),i=n(1230);r.Observable.prototype.auditTime=i.auditTime},function(e,t,n){"use strict";var r=n(1),i=n(1231);r.Observable.prototype.buffer=i.buffer},function(e,t,n){"use strict";var r=n(1),i=n(1232);r.Observable.prototype.bufferCount=i.bufferCount},function(e,t,n){"use strict";var r=n(1),i=n(1233);r.Observable.prototype.bufferTime=i.bufferTime},function(e,t,n){"use strict";var r=n(1),i=n(1234);r.Observable.prototype.bufferToggle=i.bufferToggle},function(e,t,n){"use strict";var r=n(1),i=n(1235);r.Observable.prototype.bufferWhen=i.bufferWhen},function(e,t,n){"use strict";var r=n(1),i=n(1236);r.Observable.prototype.catch=i._catch,r.Observable.prototype._catch=i._catch},function(e,t,n){"use strict";var r=n(1),i=n(1237);r.Observable.prototype.combineAll=i.combineAll},function(e,t,n){"use strict";var r=n(1),i=n(282);r.Observable.prototype.combineLatest=i.combineLatest},function(e,t,n){"use strict";var r=n(1),i=n(283);r.Observable.prototype.concat=i.concat},function(e,t,n){"use strict";var r=n(1),i=n(1238);r.Observable.prototype.concatAll=i.concatAll},function(e,t,n){"use strict";var r=n(1),i=n(1239);r.Observable.prototype.concatMap=i.concatMap},function(e,t,n){"use strict";var r=n(1),i=n(1240);r.Observable.prototype.concatMapTo=i.concatMapTo},function(e,t,n){"use strict";var r=n(1),i=n(1241);r.Observable.prototype.count=i.count},function(e,t,n){"use strict";var r=n(1),i=n(1242);r.Observable.prototype.debounce=i.debounce},function(e,t,n){"use strict";var r=n(1),i=n(1243);r.Observable.prototype.debounceTime=i.debounceTime},function(e,t,n){"use strict";var r=n(1),i=n(1244);r.Observable.prototype.defaultIfEmpty=i.defaultIfEmpty},function(e,t,n){"use strict";var r=n(1),i=n(1245);r.Observable.prototype.delay=i.delay},function(e,t,n){"use strict";var r=n(1),i=n(1246);r.Observable.prototype.delayWhen=i.delayWhen},function(e,t,n){"use strict";var r=n(1),i=n(1247);r.Observable.prototype.dematerialize=i.dematerialize},function(e,t,n){"use strict";var r=n(1),i=n(1248);r.Observable.prototype.distinct=i.distinct},function(e,t,n){"use strict";var r=n(1),i=n(468);r.Observable.prototype.distinctUntilChanged=i.distinctUntilChanged},function(e,t,n){"use strict";var r=n(1),i=n(1249);r.Observable.prototype.distinctUntilKeyChanged=i.distinctUntilKeyChanged},function(e,t,n){"use strict";var r=n(1),i=n(1250);r.Observable.prototype.do=i._do,r.Observable.prototype._do=i._do},function(e,t,n){"use strict";var r=n(1),i=n(1251);r.Observable.prototype.elementAt=i.elementAt},function(e,t,n){"use strict";var r=n(1),i=n(1252);r.Observable.prototype.every=i.every},function(e,t,n){"use strict";var r=n(1),i=n(1253);r.Observable.prototype.exhaust=i.exhaust},function(e,t,n){"use strict";var r=n(1),i=n(1254);r.Observable.prototype.exhaustMap=i.exhaustMap},function(e,t,n){"use strict";var r=n(1),i=n(1255);r.Observable.prototype.expand=i.expand},function(e,t,n){"use strict";var r=n(1),i=n(284);r.Observable.prototype.filter=i.filter},function(e,t,n){"use strict";var r=n(1),i=n(1256);r.Observable.prototype.finally=i._finally,r.Observable.prototype._finally=i._finally},function(e,t,n){"use strict";var r=n(1),i=n(469);r.Observable.prototype.find=i.find},function(e,t,n){"use strict";var r=n(1),i=n(1257);r.Observable.prototype.findIndex=i.findIndex},function(e,t,n){"use strict";var r=n(1),i=n(1258);r.Observable.prototype.first=i.first},function(e,t,n){"use strict";var r=n(1),i=n(1259);r.Observable.prototype.groupBy=i.groupBy},function(e,t,n){"use strict";var r=n(1),i=n(1260);r.Observable.prototype.ignoreElements=i.ignoreElements},function(e,t,n){"use strict";var r=n(1),i=n(1261);r.Observable.prototype.isEmpty=i.isEmpty},function(e,t,n){"use strict";var r=n(1),i=n(1262);r.Observable.prototype.last=i.last},function(e,t,n){"use strict";var r=n(1),i=n(1263);r.Observable.prototype.let=i.letProto,r.Observable.prototype.letBind=i.letProto},function(e,t,n){"use strict";var r=n(1),i=n(191);r.Observable.prototype.map=i.map},function(e,t,n){"use strict";var r=n(1),i=n(1264);r.Observable.prototype.mapTo=i.mapTo},function(e,t,n){"use strict";var r=n(1),i=n(1265);r.Observable.prototype.materialize=i.materialize},function(e,t,n){"use strict";var r=n(1),i=n(1266);r.Observable.prototype.max=i.max},function(e,t,n){"use strict";var r=n(1),i=n(470);r.Observable.prototype.merge=i.merge},function(e,t,n){"use strict";var r=n(1),i=n(192);r.Observable.prototype.mergeAll=i.mergeAll},function(e,t,n){"use strict";var r=n(1),i=n(471);r.Observable.prototype.mergeMap=i.mergeMap,r.Observable.prototype.flatMap=i.mergeMap},function(e,t,n){"use strict";var r=n(1),i=n(472);r.Observable.prototype.flatMapTo=i.mergeMapTo,r.Observable.prototype.mergeMapTo=i.mergeMapTo},function(e,t,n){"use strict";var r=n(1),i=n(1267);r.Observable.prototype.mergeScan=i.mergeScan},function(e,t,n){"use strict";var r=n(1),i=n(1268);r.Observable.prototype.min=i.min},function(e,t,n){"use strict";var r=n(1),i=n(99);r.Observable.prototype.multicast=i.multicast},function(e,t,n){"use strict";var r=n(1),i=n(285);r.Observable.prototype.observeOn=i.observeOn},function(e,t,n){"use strict";var r=n(1),i=n(473);r.Observable.prototype.onErrorResumeNext=i.onErrorResumeNext},function(e,t,n){"use strict";var r=n(1),i=n(1269);r.Observable.prototype.pairwise=i.pairwise},function(e,t,n){"use strict";var r=n(1),i=n(1270);r.Observable.prototype.partition=i.partition},function(e,t,n){"use strict";var r=n(1),i=n(1271);r.Observable.prototype.pluck=i.pluck},function(e,t,n){"use strict";var r=n(1),i=n(1272);r.Observable.prototype.publish=i.publish},function(e,t,n){"use strict";var r=n(1),i=n(1273);r.Observable.prototype.publishBehavior=i.publishBehavior},function(e,t,n){"use strict";var r=n(1),i=n(1274);r.Observable.prototype.publishLast=i.publishLast},function(e,t,n){"use strict";var r=n(1),i=n(1275);r.Observable.prototype.publishReplay=i.publishReplay},function(e,t,n){"use strict";var r=n(1),i=n(474);r.Observable.prototype.race=i.race},function(e,t,n){"use strict";var r=n(1),i=n(286);r.Observable.prototype.reduce=i.reduce},function(e,t,n){"use strict";var r=n(1),i=n(1276);r.Observable.prototype.repeat=i.repeat},function(e,t,n){"use strict";var r=n(1),i=n(1277);r.Observable.prototype.repeatWhen=i.repeatWhen},function(e,t,n){"use strict";var r=n(1),i=n(1278);r.Observable.prototype.retry=i.retry},function(e,t,n){"use strict";var r=n(1),i=n(1279);r.Observable.prototype.retryWhen=i.retryWhen},function(e,t,n){"use strict";var r=n(1),i=n(1280);r.Observable.prototype.sample=i.sample},function(e,t,n){"use strict";var r=n(1),i=n(1281);r.Observable.prototype.sampleTime=i.sampleTime},function(e,t,n){"use strict";var r=n(1),i=n(1282);r.Observable.prototype.scan=i.scan},function(e,t,n){"use strict";var r=n(1),i=n(1283);r.Observable.prototype.sequenceEqual=i.sequenceEqual},function(e,t,n){"use strict";var r=n(1),i=n(1284);r.Observable.prototype.share=i.share},function(e,t,n){"use strict";var r=n(1),i=n(1285);r.Observable.prototype.shareReplay=i.shareReplay},function(e,t,n){"use strict";var r=n(1),i=n(1286);r.Observable.prototype.single=i.single},function(e,t,n){"use strict";var r=n(1),i=n(1287);r.Observable.prototype.skip=i.skip},function(e,t,n){"use strict";var r=n(1),i=n(1288);r.Observable.prototype.skipLast=i.skipLast},function(e,t,n){"use strict";var r=n(1),i=n(1289);r.Observable.prototype.skipUntil=i.skipUntil},function(e,t,n){"use strict";var r=n(1),i=n(1290);r.Observable.prototype.skipWhile=i.skipWhile},function(e,t,n){"use strict";var r=n(1),i=n(1291);r.Observable.prototype.startWith=i.startWith},function(e,t,n){"use strict";var r=n(1),i=n(1292);r.Observable.prototype.subscribeOn=i.subscribeOn},function(e,t,n){"use strict";var r=n(1),i=n(1293);r.Observable.prototype.switch=i._switch,r.Observable.prototype._switch=i._switch},function(e,t,n){"use strict";var r=n(1),i=n(475);r.Observable.prototype.switchMap=i.switchMap},function(e,t,n){"use strict";var r=n(1),i=n(1294);r.Observable.prototype.switchMapTo=i.switchMapTo},function(e,t,n){"use strict";var r=n(1),i=n(1295);r.Observable.prototype.take=i.take},function(e,t,n){"use strict";var r=n(1),i=n(1296);r.Observable.prototype.takeLast=i.takeLast},function(e,t,n){"use strict";var r=n(1),i=n(1297);r.Observable.prototype.takeUntil=i.takeUntil},function(e,t,n){"use strict";var r=n(1),i=n(1298);r.Observable.prototype.takeWhile=i.takeWhile},function(e,t,n){"use strict";var r=n(1),i=n(476);r.Observable.prototype.throttle=i.throttle},function(e,t,n){"use strict";var r=n(1),i=n(1299);r.Observable.prototype.throttleTime=i.throttleTime},function(e,t,n){"use strict";var r=n(1),i=n(477);r.Observable.prototype.timeInterval=i.timeInterval},function(e,t,n){"use strict";var r=n(1),i=n(1300);r.Observable.prototype.timeout=i.timeout},function(e,t,n){"use strict";var r=n(1),i=n(1301);r.Observable.prototype.timeoutWith=i.timeoutWith},function(e,t,n){"use strict";var r=n(1),i=n(478);r.Observable.prototype.timestamp=i.timestamp},function(e,t,n){"use strict";var r=n(1),i=n(1302);r.Observable.prototype.toArray=i.toArray},function(e,t,n){"use strict";var r=n(1),i=n(1303);r.Observable.prototype.toPromise=i.toPromise},function(e,t,n){"use strict";var r=n(1),i=n(1304);r.Observable.prototype.window=i.window},function(e,t,n){"use strict";var r=n(1),i=n(1305);r.Observable.prototype.windowCount=i.windowCount},function(e,t,n){"use strict";var r=n(1),i=n(1306);r.Observable.prototype.windowTime=i.windowTime},function(e,t,n){"use strict";var r=n(1),i=n(1307);r.Observable.prototype.windowToggle=i.windowToggle},function(e,t,n){"use strict";var r=n(1),i=n(1308);r.Observable.prototype.windowWhen=i.windowWhen},function(e,t,n){"use strict";var r=n(1),i=n(1309);r.Observable.prototype.withLatestFrom=i.withLatestFrom},function(e,t,n){"use strict";var r=n(1),i=n(287);r.Observable.prototype.zip=i.zipProto},function(e,t,n){"use strict";var r=n(1),i=n(1310);r.Observable.prototype.zipAll=i.zipAll},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(1),o=n(281),a=n(81),s=function(e){function t(t,n){e.call(this),this.arrayLike=t,this.scheduler=n,n||1!==t.length||(this._isScalar=!0,this.value=t[0])}return r(t,e),t.create=function(e,n){var r=e.length;return 0===r?new a.EmptyObservable:1===r?new o.ScalarObservable(e[0],n):new t(e,n)},t.dispatch=function(e){var t=e.arrayLike,n=e.index,r=e.length,i=e.subscriber;if(!i.closed){if(n>=r)return void i.complete();i.next(t[n]),e.index=n+1,this.schedule(e)}},t.prototype._subscribe=function(e){var n=this,r=n.arrayLike,i=n.scheduler,o=r.length;if(i)return i.schedule(t.dispatch,0,{arrayLike:r,index:0,length:o,subscriber:e});for(var a=0;a<o&&!e.closed;a++)e.next(r[a]);e.complete()},t}(i.Observable);t.ArrayLikeObservable=s},function(e,t,n){"use strict";function r(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function i(e){var t=e.err;e.subject.error(t)}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=n(1),s=n(32),u=n(29),c=n(189),l=function(e){function t(t,n,r,i,o){e.call(this),this.callbackFunc=t,this.selector=n,this.args=r,this.context=i,this.scheduler=o}return o(t,e),t.create=function(e,n,r){return void 0===n&&(n=void 0),function(){for(var i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];return new t(e,n,i,this,r)}},t.prototype._subscribe=function(e){var n=this.callbackFunc,r=this.args,i=this.scheduler,o=this.subject;if(i)return i.schedule(t.dispatch,0,{source:this,subscriber:e,context:this.context});if(!o){o=this.subject=new c.AsyncSubject;var a=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=e.source,i=r.selector,o=r.subject;if(i){var a=s.tryCatch(i).apply(this,t);a===u.errorObject?o.error(u.errorObject.e):(o.next(a),o.complete())}else o.next(t.length<=1?t[0]:t),o.complete()};a.source=this;s.tryCatch(n).apply(this.context,r.concat(a))===u.errorObject&&o.error(u.errorObject.e)}return o.subscribe(e)},t.dispatch=function(e){var t=this,n=e.source,o=e.subscriber,a=e.context,l=n.callbackFunc,p=n.args,f=n.scheduler,d=n.subject;if(!d){d=n.subject=new c.AsyncSubject;var h=function e(){for(var n=[],o=0;o<arguments.length;o++)n[o-0]=arguments[o];var a=e.source,c=a.selector,l=a.subject;if(c){var p=s.tryCatch(c).apply(this,n);p===u.errorObject?t.add(f.schedule(i,0,{err:u.errorObject.e,subject:l})):t.add(f.schedule(r,0,{value:p,subject:l}))}else{var d=n.length<=1?n[0]:n;t.add(f.schedule(r,0,{value:d,subject:l}))}};h.source=n;s.tryCatch(l).apply(a,p.concat(h))===u.errorObject&&d.error(u.errorObject.e)}t.add(d.subscribe(o))},t}(a.Observable);t.BoundCallbackObservable=l},function(e,t,n){"use strict";function r(e){var t=this,n=e.source,r=e.subscriber,a=e.context,s=n,p=s.callbackFunc,f=s.args,d=s.scheduler,h=n.subject;if(!h){h=n.subject=new l.AsyncSubject;var m=function e(){for(var n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];var a=e.source,s=a.selector,l=a.subject,p=n.shift();if(p)t.add(d.schedule(o,0,{err:p,subject:l}));else if(s){var f=u.tryCatch(s).apply(this,n);f===c.errorObject?t.add(d.schedule(o,0,{err:c.errorObject.e,subject:l})):t.add(d.schedule(i,0,{value:f,subject:l}))}else{var h=n.length<=1?n[0]:n;t.add(d.schedule(i,0,{value:h,subject:l}))}};m.source=n;u.tryCatch(p).apply(a,f.concat(m))===c.errorObject&&t.add(d.schedule(o,0,{err:c.errorObject.e,subject:h}))}t.add(h.subscribe(r))}function i(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function o(e){var t=e.err;e.subject.error(t)}var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=n(1),u=n(32),c=n(29),l=n(189),p=function(e){function t(t,n,r,i,o){e.call(this),this.callbackFunc=t,this.selector=n,this.args=r,this.context=i,this.scheduler=o}return a(t,e),t.create=function(e,n,r){return void 0===n&&(n=void 0),function(){for(var i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];return new t(e,n,i,this,r)}},t.prototype._subscribe=function(e){var t=this.callbackFunc,n=this.args,i=this.scheduler,o=this.subject;if(i)return i.schedule(r,0,{source:this,subscriber:e,context:this.context});if(!o){o=this.subject=new l.AsyncSubject;var a=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=e.source,i=r.selector,o=r.subject,a=t.shift();if(a)o.error(a);else if(i){var s=u.tryCatch(i).apply(this,t);s===c.errorObject?o.error(c.errorObject.e):(o.next(s),o.complete())}else o.next(t.length<=1?t[0]:t),o.complete()};a.source=this;u.tryCatch(t).apply(this.context,n.concat(a))===c.errorObject&&o.error(c.errorObject.e)}return o.subscribe(e)},t}(s.Observable);t.BoundNodeCallbackObservable=p},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(1),o=n(18),a=n(17),s=function(e){function t(t){e.call(this),this.observableFactory=t}return r(t,e),t.create=function(e){return new t(e)},t.prototype._subscribe=function(e){return new u(e,this.observableFactory)},t}(i.Observable);t.DeferObservable=s;var u=function(e){function t(t,n){e.call(this,t),this.factory=n,this.tryDefer()}return r(t,e),t.prototype.tryDefer=function(){try{this._callFactory()}catch(e){this._error(e)}},t.prototype._callFactory=function(){var e=this.factory();e&&this.add(o.subscribeToResult(this,e))},t}(a.OuterSubscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(1),o=function(e){function t(t,n){e.call(this),this.error=t,this.scheduler=n}return r(t,e),t.create=function(e,n){return new t(e,n)},t.dispatch=function(e){var t=e.error;e.subscriber.error(t)},t.prototype._subscribe=function(e){var n=this.error,r=this.scheduler;if(r)return r.schedule(t.dispatch,0,{error:n,subscriber:e});e.error(n)},t}(i.Observable);t.ErrorObservable=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(1),o=n(81),a=n(65),s=n(18),u=n(17),c=function(e){function t(t,n){e.call(this),this.sources=t,this.resultSelector=n}return r(t,e),t.create=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];if(null===e||0===arguments.length)return new o.EmptyObservable;var r=null;return"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&a.isArray(e[0])&&(e=e[0]),0===e.length?new o.EmptyObservable:new t(e,r)},t.prototype._subscribe=function(e){return new l(e,this.sources,this.resultSelector)},t}(i.Observable);t.ForkJoinObservable=c;var l=function(e){function t(t,n,r){e.call(this,t),this.sources=n,this.resultSelector=r,this.completed=0,this.haveValues=0;var i=n.length;this.total=i,this.values=new Array(i);for(var o=0;o<i;o++){var a=n[o],u=s.subscribeToResult(this,a,null,o);u&&(u.outerIndex=o,this.add(u))}}return r(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.values[n]=t,i._hasValue||(i._hasValue=!0,this.haveValues++)},t.prototype.notifyComplete=function(e){var t=this.destination,n=this,r=n.haveValues,i=n.resultSelector,o=n.values,a=o.length;if(!e._hasValue)return void t.complete();if(++this.completed===a){if(r===a){var s=i?i.apply(this,o):o;t.next(s)}t.complete()}},t}(u.OuterSubscriber)},function(e,t,n){"use strict";function r(e){return!!e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}function i(e){return!!e&&"function"==typeof e.on&&"function"==typeof e.off}function o(e){return!!e&&"[object NodeList]"===h.call(e)}function a(e){return!!e&&"[object HTMLCollection]"===h.call(e)}function s(e){return!!e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}var u=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},c=n(1),l=n(32),p=n(198),f=n(29),d=n(27),h=Object.prototype.toString,m=function(e){function t(t,n,r,i){e.call(this),this.sourceObj=t,this.eventName=n,this.selector=r,this.options=i}return u(t,e),t.create=function(e,n,r,i){return p.isFunction(r)&&(i=r,r=void 0),new t(e,n,i,r)},t.setupSubscription=function(e,n,u,c,l){var p;if(o(e)||a(e))for(var f=0,h=e.length;f<h;f++)t.setupSubscription(e[f],n,u,c,l);else if(s(e)){var m=e;e.addEventListener(n,u,l),p=function(){return m.removeEventListener(n,u)}}else if(i(e)){var y=e;e.on(n,u),p=function(){return y.off(n,u)}}else{if(!r(e))throw new TypeError("Invalid event target");var b=e;e.addListener(n,u),p=function(){return b.removeListener(n,u)}}c.add(new d.Subscription(p))},t.prototype._subscribe=function(e){var n=this.sourceObj,r=this.eventName,i=this.options,o=this.selector,a=o?function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=l.tryCatch(o).apply(void 0,t);r===f.errorObject?e.error(f.errorObject.e):e.next(r)}:function(t){return e.next(t)};t.setupSubscription(n,r,a,e,i)},t}(c.Observable);t.FromEventObservable=m},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(198),o=n(1),a=n(27),s=function(e){function t(t,n,r){e.call(this),this.addHandler=t,this.removeHandler=n,this.selector=r}return r(t,e),t.create=function(e,n,r){return new t(e,n,r)},t.prototype._subscribe=function(e){var t=this,n=this.removeHandler,r=this.selector?function(){for(var n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];t._callSelector(e,n)}:function(t){e.next(t)},o=this._callAddHandler(r,e);i.isFunction(n)&&e.add(new a.Subscription(function(){n(r,o)}))},t.prototype._callSelector=function(e,t){try{var n=this.selector.apply(this,t);e.next(n)}catch(t){e.error(t)}},t.prototype._callAddHandler=function(e,t){try{return this.addHandler(e)||null}catch(e){t.error(e)}},t}(o.Observable);t.FromEventPatternObservable=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(1),o=n(66),a=function(e){return e},s=function(e){function t(t,n,r,i,o){e.call(this),this.initialState=t,this.condition=n,this.iterate=r,this.resultSelector=i,this.scheduler=o}return r(t,e),t.create=function(e,n,r,i,s){return 1==arguments.length?new t(e.initialState,e.condition,e.iterate,e.resultSelector||a,e.scheduler):void 0===i||o.isScheduler(i)?new t(e,n,r,a,i):new t(e,n,r,i,s)},t.prototype._subscribe=function(e){var n=this.initialState;if(this.scheduler)return this.scheduler.schedule(t.dispatch,0,{subscriber:e,iterate:this.iterate,condition:this.condition,resultSelector:this.resultSelector,state:n});for(var r=this,i=r.condition,o=r.resultSelector,a=r.iterate;;){if(i){var s=void 0;try{s=i(n)}catch(t){return void e.error(t)}if(!s){e.complete();break}}var u=void 0;try{u=o(n)}catch(t){return void e.error(t)}if(e.next(u),e.closed)break;try{n=a(n)}catch(t){return void e.error(t)}}},t.dispatch=function(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void t.error(e)}else e.needIterate=!0;if(n){var r=void 0;try{r=n(e.state)}catch(e){return void t.error(e)}if(!r)return void t.complete();if(t.closed)return}var i;try{i=e.resultSelector(e.state)}catch(e){return void t.error(e)}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(e)}},t}(i.Observable);t.GenerateObservable=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(1),o=n(18),a=n(17),s=function(e){function t(t,n,r){e.call(this),this.condition=t,this.thenSource=n,this.elseSource=r}return r(t,e),t.create=function(e,n,r){return new t(e,n,r)},t.prototype._subscribe=function(e){var t=this,n=t.condition,r=t.thenSource,i=t.elseSource;return new u(e,n,r,i)},t}(i.Observable);t.IfObservable=s;var u=function(e){function t(t,n,r,i){e.call(this,t),this.condition=n,this.thenSource=r,this.elseSource=i,this.tryIf()}return r(t,e),t.prototype.tryIf=function(){var e,t=this,n=t.condition,r=t.thenSource,i=t.elseSource;try{e=n();var a=e?r:i;a?this.add(o.subscribeToResult(this,a)):this._complete()}catch(e){this._error(e)}},t}(a.OuterSubscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(199),o=n(1),a=n(36),s=function(e){function t(t,n){void 0===t&&(t=0),void 0===n&&(n=a.async),e.call(this),this.period=t,this.scheduler=n,(!i.isNumeric(t)||t<0)&&(this.period=0),n&&"function"==typeof n.schedule||(this.scheduler=a.async)}return r(t,e),t.create=function(e,n){return void 0===e&&(e=0),void 0===n&&(n=a.async),new t(e,n)},t.dispatch=function(e){var t=e.index,n=e.subscriber,r=e.period;n.next(t),n.closed||(e.index+=1,this.schedule(e,r))},t.prototype._subscribe=function(e){var n=this.period,r=this.scheduler;e.add(r.schedule(t.dispatch,n,{index:0,subscriber:e,period:n}))},t}(o.Observable);t.IntervalObservable=s},function(e,t,n){"use strict";function r(e){var t=e[l.iterator];if(!t&&"string"==typeof e)return new f(e);if(!t&&void 0!==e.length)return new d(e);if(!t)throw new TypeError("object is not iterable");return e[l.iterator]()}function i(e){var t=+e.length;return isNaN(t)?0:0!==t&&o(t)?(t=a(t)*Math.floor(Math.abs(t)),t<=0?0:t>h?h:t):t}function o(e){return"number"==typeof e&&u.root.isFinite(e)}function a(e){var t=+e;return 0===t?t:isNaN(t)?t:t<0?-1:1}var s=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},u=n(31),c=n(1),l=n(147),p=function(e){function t(t,n){if(e.call(this),this.scheduler=n,null==t)throw new Error("iterator cannot be null.");this.iterator=r(t)}return s(t,e),t.create=function(e,n){return new t(e,n)},t.dispatch=function(e){var t=e.index,n=e.hasError,r=e.iterator,i=e.subscriber;if(n)return void i.error(e.error);var o=r.next();return o.done?void i.complete():(i.next(o.value),e.index=t+1,i.closed?void("function"==typeof r.return&&r.return()):void this.schedule(e))},t.prototype._subscribe=function(e){var n=this,r=n.iterator,i=n.scheduler;if(i)return i.schedule(t.dispatch,0,{index:0,iterator:r,subscriber:e});for(;;){var o=r.next();if(o.done){e.complete();break}if(e.next(o.value),e.closed){"function"==typeof r.return&&r.return();break}}},t}(c.Observable);t.IteratorObservable=p;var f=function(){function e(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.length),this.str=e,this.idx=t,this.len=n}return e.prototype[l.iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},e}(),d=function(){function e(e,t,n){void 0===t&&(t=0),void 0===n&&(n=i(e)),this.arr=e,this.idx=t,this.len=n}return e.prototype[l.iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},e}(),h=Math.pow(2,53)-1},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(1),o=n(490),a=function(e){function t(){e.call(this)}return r(t,e),t.create=function(){return new t},t.prototype._subscribe=function(e){o.noop()},t}(i.Observable);t.NeverObservable=a},function(e,t,n){"use strict";function r(e){var t=e.obj,n=e.keys,r=e.length,i=e.index,o=e.subscriber;if(i===r)return void o.complete();var a=n[i];o.next([a,t[a]]),e.index=i+1,this.schedule(e)}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(1),a=function(e){function t(t,n){e.call(this),this.obj=t,this.scheduler=n,this.keys=Object.keys(t)}return i(t,e),t.create=function(e,n){return new t(e,n)},t.prototype._subscribe=function(e){var t=this,n=t.keys,i=t.scheduler,o=n.length;if(i)return i.schedule(r,0,{obj:this.obj,keys:n,length:o,index:0,subscriber:e});for(var a=0;a<o;a++){var s=n[a];e.next([s,this.obj[s]])}e.complete()},t}(o.Observable);t.PairsObservable=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(1),o=function(e){function t(t,n,r){e.call(this),this.start=t,this._count=n,this.scheduler=r}return r(t,e),t.create=function(e,n,r){return void 0===e&&(e=0),void 0===n&&(n=0),new t(e,n,r)},t.dispatch=function(e){var t=e.start,n=e.index,r=e.count,i=e.subscriber;if(n>=r)return void i.complete();i.next(t),i.closed||(e.index=n+1,e.start=t+1,this.schedule(e))},t.prototype._subscribe=function(e){var n=0,r=this.start,i=this._count,o=this.scheduler;if(o)return o.schedule(t.dispatch,0,{index:n,count:i,start:r,subscriber:e});for(;;){if(n++>=i){e.complete();break}if(e.next(r++),e.closed)break}},t}(i.Observable);t.RangeObservable=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(1),o=n(480),a=n(199),s=function(e){function t(t,n,r){void 0===n&&(n=0),void 0===r&&(r=o.asap),e.call(this),this.source=t,this.delayTime=n,this.scheduler=r,(!a.isNumeric(n)||n<0)&&(this.delayTime=0),r&&"function"==typeof r.schedule||(this.scheduler=o.asap)}return r(t,e),t.create=function(e,n,r){return void 0===n&&(n=0),void 0===r&&(r=o.asap),new t(e,n,r)},t.dispatch=function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))},t.prototype._subscribe=function(e){var n=this.delayTime,r=this.source;return this.scheduler.schedule(t.dispatch,n,{source:r,subscriber:e})},t}(i.Observable);t.SubscribeOnObservable=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(199),o=n(1),a=n(36),s=n(66),u=n(197),c=function(e){function t(t,n,r){void 0===t&&(t=0),e.call(this),this.period=-1,this.dueTime=0,i.isNumeric(n)?this.period=Number(n)<1&&1||Number(n):s.isScheduler(n)&&(r=n),s.isScheduler(r)||(r=a.async),this.scheduler=r,this.dueTime=u.isDate(t)?+t-this.scheduler.now():t}return r(t,e),t.create=function(e,n,r){return void 0===e&&(e=0),new t(e,n,r)},t.dispatch=function(e){var t=e.index,n=e.period,r=e.subscriber,i=this;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,i.schedule(e,n)}},t.prototype._subscribe=function(e){var n=this,r=n.period,i=n.dueTime;return n.scheduler.schedule(t.dispatch,i,{index:0,period:r,subscriber:e})},t}(o.Observable);t.TimerObservable=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(1),o=n(18),a=n(17),s=function(e){function t(t,n){e.call(this),this.resourceFactory=t,this.observableFactory=n}return r(t,e),t.create=function(e,n){return new t(e,n)},t.prototype._subscribe=function(e){var t,n=this,r=n.resourceFactory,i=n.observableFactory;try{return t=r(),new u(e,t,i)}catch(t){e.error(t)}},t}(i.Observable);t.UsingObservable=s;var u=function(e){function t(t,n,r){e.call(this,t),this.resource=n,this.observableFactory=r,t.add(n),this.tryUse()}return r(t,e),t.prototype.tryUse=function(){try{var e=this.observableFactory.call(this,this.resource);e&&this.add(o.subscribeToResult(this,e))}catch(e){this._error(e)}},t}(a.OuterSubscriber)},function(e,t,n){"use strict";var r=n(1190);t.bindCallback=r.BoundCallbackObservable.create},function(e,t,n){"use strict";var r=n(1191);t.bindNodeCallback=r.BoundNodeCallbackObservable.create},function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=null,r=null;return i.isScheduler(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&o.isArray(e[0])&&(e=e[0]),new a.ArrayObservable(e,r).lift(new s.CombineLatestOperator(n))}var i=n(66),o=n(65),a=n(64),s=n(282);t.combineLatest=r},function(e,t,n){"use strict";var r=n(283);t.concat=r.concatStatic},function(e,t,n){"use strict";var r=n(1192);t.defer=r.DeferObservable.create},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(26),o=n(12),a=n(1),s=n(27),u=n(31),c=n(190),l=n(32),p=n(29),f=n(1328),d=function(e){function t(t,n){if(t instanceof a.Observable)e.call(this,n,t);else{if(e.call(this),this.WebSocketCtor=u.root.WebSocket,this._output=new i.Subject,"string"==typeof t?this.url=t:f.assign(this,t),!this.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new c.ReplaySubject}}return r(t,e),t.prototype.resultSelector=function(e){return JSON.parse(e.data)},t.create=function(e){return new t(e)},t.prototype.lift=function(e){var n=new t(this,this.destination);return n.operator=e,n},t.prototype._resetState=function(){this.socket=null,this.source||(this.destination=new c.ReplaySubject),this._output=new i.Subject},t.prototype.multiplex=function(e,t,n){var r=this;return new a.Observable(function(i){var o=l.tryCatch(e)();o===p.errorObject?i.error(p.errorObject.e):r.next(o);var a=r.subscribe(function(e){var t=l.tryCatch(n)(e);t===p.errorObject?i.error(p.errorObject.e):t&&i.next(e)},function(e){return i.error(e)},function(){return i.complete()});return function(){var e=l.tryCatch(t)();e===p.errorObject?i.error(p.errorObject.e):r.next(e),a.unsubscribe()}})},t.prototype._connectSocket=function(){var e=this,t=this.WebSocketCtor,n=this._output,r=null;try{r=this.protocol?new t(this.url,this.protocol):new t(this.url),this.socket=r,this.binaryType&&(this.socket.binaryType=this.binaryType)}catch(e){return void n.error(e)}var i=new s.Subscription(function(){e.socket=null,r&&1===r.readyState&&r.close()});r.onopen=function(t){var a=e.openObserver;a&&a.next(t);var s=e.destination;e.destination=o.Subscriber.create(function(e){return 1===r.readyState&&r.send(e)},function(t){var i=e.closingObserver;i&&i.next(void 0),t&&t.code?r.close(t.code,t.reason):n.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),e._resetState()},function(){var t=e.closingObserver;t&&t.next(void 0),r.close(),e._resetState()}),s&&s instanceof c.ReplaySubject&&i.add(s.subscribe(e.destination))},r.onerror=function(t){e._resetState(),n.error(t)},r.onclose=function(t){e._resetState();var r=e.closeObserver;r&&r.next(t),t.wasClean?n.complete():n.error(t)},r.onmessage=function(t){var r=l.tryCatch(e.resultSelector)(t);r===p.errorObject?n.error(p.errorObject.e):n.next(r)}},t.prototype._subscribe=function(e){var t=this,n=this.source;if(n)return n.subscribe(e);this.socket||this._connectSocket();var r=new s.Subscription;return r.add(this._output.subscribe(e)),r.add(function(){var e=t.socket;0===t._output.observers.length&&(e&&1===e.readyState&&e.close(),t._resetState())}),r},t.prototype.unsubscribe=function(){var t=this,n=t.source,r=t.socket;r&&1===r.readyState&&(r.close(),this._resetState()),e.prototype.unsubscribe.call(this),n||(this.destination=new c.ReplaySubject)},t}(i.AnonymousSubject);t.WebSocketSubject=d},function(e,t,n){"use strict";var r=n(464);t.ajax=r.AjaxObservable.create},function(e,t,n){"use strict";var r=n(1212);t.webSocket=r.WebSocketSubject.create},function(e,t,n){"use strict";var r=n(81);t.empty=r.EmptyObservable.create},function(e,t,n){"use strict";var r=n(1194);t.forkJoin=r.ForkJoinObservable.create},function(e,t,n){"use strict";var r=n(1195);t.fromEvent=r.FromEventObservable.create},function(e,t,n){"use strict";var r=n(1196);t.fromEventPattern=r.FromEventPatternObservable.create},function(e,t,n){"use strict";var r=n(463);t.fromPromise=r.PromiseObservable.create},function(e,t,n){"use strict";var r=n(1198);t._if=r.IfObservable.create},function(e,t,n){"use strict";var r=n(1199);t.interval=r.IntervalObservable.create},function(e,t,n){"use strict";var r=n(1201);t.never=r.NeverObservable.create},function(e,t,n){"use strict";var r=n(1202);t.pairs=r.PairsObservable.create},function(e,t,n){"use strict";var r=n(1203);t.range=r.RangeObservable.create},function(e,t,n){"use strict";var r=n(1193);t._throw=r.ErrorObservable.create},function(e,t,n){"use strict";var r=n(1205);t.timer=r.TimerObservable.create},function(e,t,n){"use strict";var r=n(1206);t.using=r.UsingObservable.create},function(e,t,n){"use strict";var r=n(287);t.zip=r.zipStatic},function(e,t,n){"use strict";function r(e){return this.lift(new c(e))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(32),a=n(29),s=n(17),u=n(18);t.audit=r;var c=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.durationSelector))},e}(),l=function(e){function t(t,n){e.call(this,t),this.durationSelector=n,this.hasValue=!1}return i(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=o.tryCatch(this.durationSelector)(e);t===a.errorObject?this.destination.error(a.errorObject.e):this.add(this.throttled=u.subscribeToResult(this,t))}},t.prototype.clearThrottle=function(){var e=this,t=e.value,n=e.hasValue,r=e.throttled;r&&(this.remove(r),this.throttled=null,r.unsubscribe()),n&&(this.value=null,this.hasValue=!1,this.destination.next(t))},t.prototype.notifyNext=function(e,t,n,r){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(s.OuterSubscriber)},function(e,t,n){"use strict";function r(e,t){return void 0===t&&(t=a.async),this.lift(new u(e,t))}function i(e){e.clearThrottle()}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=n(36),s=n(12);t.auditTime=r;var u=function(){function e(e,t){this.duration=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.duration,this.scheduler))},e}(),c=function(e){function t(t,n,r){e.call(this,t),this.duration=n,this.scheduler=r,this.hasValue=!1}return o(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0,this.throttled||this.add(this.throttled=this.scheduler.schedule(i,this.duration,this))},t.prototype.clearThrottle=function(){var e=this,t=e.value,n=e.hasValue,r=e.throttled;r&&(this.remove(r),this.throttled=null,r.unsubscribe()),n&&(this.value=null,this.hasValue=!1,this.destination.next(t))},t}(s.Subscriber)},function(e,t,n){"use strict";function r(e){return this.lift(new s(e))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(17),a=n(18);t.buffer=r;var s=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.closingNotifier))},e}(),u=function(e){function t(t,n){e.call(this,t),this.buffer=[],this.add(a.subscribeToResult(this,n))}return i(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(e,t,n,r,i){var o=this.buffer;this.buffer=[],this.destination.next(o)},t}(o.OuterSubscriber)},function(e,t,n){"use strict";function r(e,t){return void 0===t&&(t=null),this.lift(new a(e,t))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12);t.bufferCount=r;var a=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?u:s}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),s=function(e){function t(t,n){e.call(this,t),this.bufferSize=n,this.buffer=[]}return i(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(o.Subscriber),u=function(e){function t(t,n,r){e.call(this,t),this.bufferSize=n,this.startBufferEvery=r,this.buffers=[],this.count=0}return i(t,e),t.prototype._next=function(e){var t=this,n=t.bufferSize,r=t.startBufferEvery,i=t.buffers,o=t.count;this.count++,o%r==0&&i.push([]);for(var a=i.length;a--;){var s=i[a];s.push(e),s.length===n&&(i.splice(a,1),this.destination.next(s))}},t.prototype._complete=function(){for(var t=this,n=t.buffers,r=t.destination;n.length>0;){var i=n.shift();i.length>0&&r.next(i)}e.prototype._complete.call(this)},t}(o.Subscriber)},function(e,t,n){"use strict";function r(e){var t=arguments.length,n=u.async;l.isScheduler(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],t--);var r=null;t>=2&&(r=arguments[1]);var i=Number.POSITIVE_INFINITY;return t>=3&&(i=arguments[2]),this.lift(new p(e,r,i,n))}function i(e){var t=e.subscriber,n=e.context;n&&t.closeContext(n),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function o(e){var t=e.bufferCreationInterval,n=e.bufferTimeSpan,r=e.subscriber,i=e.scheduler,o=r.openContext(),s=this;r.closed||(r.add(o.closeAction=i.schedule(a,n,{subscriber:r,context:o})),s.schedule(e,t))}function a(e){var t=e.subscriber,n=e.context;t.closeContext(n)}var s=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},u=n(36),c=n(12),l=n(66);t.bufferTime=r;var p=function(){function e(e,t,n,r){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),f=function(){function e(){this.buffer=[]}return e}(),d=function(e){function t(t,n,r,s,u){e.call(this,t),this.bufferTimeSpan=n,this.bufferCreationInterval=r,this.maxBufferSize=s,this.scheduler=u,this.contexts=[];var c=this.openContext();if(this.timespanOnly=null==r||r<0,this.timespanOnly){var l={subscriber:this,context:c,bufferTimeSpan:n};this.add(c.closeAction=u.schedule(i,n,l))}else{var p={subscriber:this,context:c},f={bufferTimeSpan:n,bufferCreationInterval:r,subscriber:this,scheduler:u};this.add(c.closeAction=u.schedule(a,n,p)),this.add(u.schedule(o,r,f))}}return s(t,e),t.prototype._next=function(e){for(var t,n=this.contexts,r=n.length,i=0;i<r;i++){var o=n[i],a=o.buffer;a.push(e),a.length==this.maxBufferSize&&(t=o)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this,n=t.contexts,r=t.destination;n.length>0;){var i=n.shift();r.next(i.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var n=this.bufferTimeSpan,r={subscriber:this,context:e,bufferTimeSpan:n};this.add(e.closeAction=this.scheduler.schedule(i,n,r))}},t.prototype.openContext=function(){var e=new f;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)},t}(c.Subscriber)},function(e,t,n){"use strict";function r(e,t){return this.lift(new u(e,t))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(27),a=n(18),s=n(17);t.bufferToggle=r;var u=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.openings,this.closingSelector))},e}(),c=function(e){function t(t,n,r){e.call(this,t),this.openings=n,this.closingSelector=r,this.contexts=[],this.add(a.subscribeToResult(this,n))}return i(t,e),t.prototype._next=function(e){for(var t=this.contexts,n=t.length,r=0;r<n;r++)t[r].buffer.push(e)},t.prototype._error=function(t){for(var n=this.contexts;n.length>0;){var r=n.shift();r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var n=t.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,r,i){e?this.closeBuffer(e):this.openBuffer(t)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var t=this.closingSelector,n=t.call(this,e);n&&this.trySubscribe(n)}catch(e){this._error(e)}},t.prototype.closeBuffer=function(e){var t=this.contexts;if(t&&e){var n=e.buffer,r=e.subscription;this.destination.next(n),t.splice(t.indexOf(e),1),this.remove(r),r.unsubscribe()}},t.prototype.trySubscribe=function(e){var t=this.contexts,n=[],r=new o.Subscription,i={buffer:n,subscription:r};t.push(i);var s=a.subscribeToResult(this,e,i);!s||s.closed?this.closeBuffer(i):(s.context=i,this.add(s),r.add(s))},t}(s.OuterSubscriber)},function(e,t,n){"use strict";function r(e){return this.lift(new l(e))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(27),a=n(32),s=n(29),u=n(17),c=n(18);t.bufferWhen=r;var l=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new p(e,this.closingSelector))},e}(),p=function(e){function t(t,n){e.call(this,t),this.closingSelector=n,this.subscribing=!1,this.openBuffer()}return i(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},t.prototype.notifyNext=function(e,t,n,r,i){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t=this.buffer;this.buffer&&this.destination.next(t),this.buffer=[];var n=a.tryCatch(this.closingSelector)();n===s.errorObject?this.error(s.errorObject.e):(e=new o.Subscription,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(c.subscribeToResult(this,n)),this.subscribing=!1)},t}(u.OuterSubscriber)},function(e,t,n){"use strict";function r(e){var t=new s(e),n=this.lift(t);return t.caught=n}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(17),a=n(18);t._catch=r;var s=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.selector,this.caught))},e}(),u=function(e){function t(t,n,r){e.call(this,t),this.selector=n,this.caught=r}return i(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle(),this.add(a.subscribeToResult(this,n))}},t}(o.OuterSubscriber)},function(e,t,n){"use strict";function r(e){return this.lift(new i.CombineLatestOperator(e))}var i=n(282);t.combineAll=r},function(e,t,n){"use strict";function r(){return this.lift(new i.MergeAllOperator(1))}var i=n(192);t.concatAll=r},function(e,t,n){"use strict";function r(e,t){return this.lift(new i.MergeMapOperator(e,t,1))}var i=n(471);t.concatMap=r},function(e,t,n){"use strict";function r(e,t){return this.lift(new i.MergeMapToOperator(e,t,1))}var i=n(472);t.concatMapTo=r},function(e,t,n){"use strict";function r(e){return this.lift(new a(e,this))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12);t.count=r;var a=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.source))},e}(),s=function(e){function t(t,n,r){e.call(this,t),this.predicate=n,this.source=r,this.count=0,this.index=0}return i(t,e),t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(o.Subscriber)},function(e,t,n){"use strict";function r(e){return this.lift(new s(e))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(17),a=n(18);t.debounce=r;var s=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.durationSelector))},e}(),u=function(e){function t(t,n){e.call(this,t),this.durationSelector=n,this.hasValue=!1,this.durationSubscription=null}return i(t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var n=this.durationSubscription;this.value=e,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),n=a.subscribeToResult(this,t),n.closed||this.add(this.durationSubscription=n)},t.prototype.notifyNext=function(e,t,n,r,i){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,n=this.durationSubscription;n&&(this.durationSubscription=null,n.unsubscribe(),this.remove(n)),this.value=null,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(o.OuterSubscriber)},function(e,t,n){"use strict";function r(e,t){return void 0===t&&(t=s.async),this.lift(new u(e,t))}function i(e){e.debouncedNext()}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=n(12),s=n(36);t.debounceTime=r;var u=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.dueTime,this.scheduler))},e}(),c=function(e){function t(t,n,r){e.call(this,t),this.dueTime=n,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return o(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(i,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(a.Subscriber)},function(e,t,n){"use strict";function r(e){return void 0===e&&(e=null),this.lift(new a(e))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12);t.defaultIfEmpty=r;var a=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.defaultValue))},e}(),s=function(e){function t(t,n){e.call(this,t),this.defaultValue=n,this.isEmpty=!0}return i(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(o.Subscriber)},function(e,t,n){"use strict";function r(e,t){void 0===t&&(t=o.async);var n=a.isDate(e),r=n?+e-t.now():Math.abs(e);return this.lift(new c(r,t))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(36),a=n(197),s=n(12),u=n(144);t.delay=r;var c=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.delay,this.scheduler))},e}(),l=function(e){function t(t,n,r){e.call(this,t),this.delay=n,this.scheduler=r,this.queue=[],this.active=!1,this.errored=!1}return i(t,e),t.dispatch=function(e){for(var t=e.source,n=t.queue,r=e.scheduler,i=e.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(e,o)}else t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,n=new p(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(u.Notification.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e)},t.prototype._complete=function(){this.scheduleNotification(u.Notification.createComplete())},t}(s.Subscriber),p=function(){function e(e,t){this.time=e,this.notification=t}return e}()},function(e,t,n){"use strict";function r(e,t){return t?new p(this,t).lift(new c(e)):this.lift(new c(e))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12),a=n(1),s=n(17),u=n(18);t.delayWhen=r;var c=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.delayDurationSelector))},e}(),l=function(e){function t(t,n){e.call(this,t),this.delayDurationSelector=n,this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}return i(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(e),this.removeSubscription(i),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){try{var t=this.delayDurationSelector(e);t&&this.tryDelay(t,e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e),n=null;return-1!==t&&(n=this.values[t],this.delayNotifierSubscriptions.splice(t,1),this.values.splice(t,1)),n},t.prototype.tryDelay=function(e,t){var n=u.subscribeToResult(this,e,t);n&&!n.closed&&(this.add(n),this.delayNotifierSubscriptions.push(n)),this.values.push(t)},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(s.OuterSubscriber),p=function(e){function t(t,n){e.call(this),this.source=t,this.subscriptionDelay=n}return i(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new f(e,this.source))},t}(a.Observable),f=function(e){function t(t,n){e.call(this),this.parent=t,this.source=n,this.sourceSubscribed=!1}return i(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(o.Subscriber)},function(e,t,n){"use strict";function r(){return this.lift(new a)}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12);t.dematerialize=r;var a=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new s(e))},e}(),s=function(e){function t(t){e.call(this,t)}return i(t,e),t.prototype._next=function(e){e.observe(this.destination)},t}(o.Subscriber)},function(e,t,n){"use strict";function r(e,t){return this.lift(new u(e,t))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(17),a=n(18),s=n(1327);t.distinct=r;var u=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.keySelector,this.flushes))},e}(),c=function(e){function t(t,n,r){e.call(this,t),this.keySelector=n,this.values=new s.Set,r&&this.add(a.subscribeToResult(this,r))}return i(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.values.clear()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t,n=this.destination;try{t=this.keySelector(e)}catch(e){return void n.error(e)}this._finalizeNext(t,e)},t.prototype._finalizeNext=function(e,t){var n=this.values;n.has(e)||(n.add(e),this.destination.next(t))},t}(o.OuterSubscriber);t.DistinctSubscriber=c},function(e,t,n){"use strict";function r(e,t){return i.distinctUntilChanged.call(this,function(n,r){return t?t(n[e],r[e]):n[e]===r[e]})}var i=n(468);t.distinctUntilKeyChanged=r},function(e,t,n){"use strict";function r(e,t,n){return this.lift(new a(e,t,n))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12);t._do=r;var a=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.nextOrObserver,this.error,this.complete))},e}(),s=function(e){function t(t,n,r,i){e.call(this,t);var a=new o.Subscriber(n,r,i);a.syncErrorThrowable=!0,this.add(a),this.safeSubscriber=a}return i(t,e),t.prototype._next=function(e){var t=this.safeSubscriber;t.next(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.next(e)},t.prototype._error=function(e){var t=this.safeSubscriber;t.error(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.error(e)},t.prototype._complete=function(){var e=this.safeSubscriber;e.complete(),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.complete()},t}(o.Subscriber)},function(e,t,n){"use strict";function r(e,t){return this.lift(new s(e,t))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12),a=n(148);t.elementAt=r;var s=function(){function e(e,t){if(this.index=e,this.defaultValue=t,e<0)throw new a.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.index,this.defaultValue))},e}(),u=function(e){function t(t,n,r){e.call(this,t),this.index=n,this.defaultValue=r}return i(t,e),t.prototype._next=function(e){0==this.index--&&(this.destination.next(e),this.destination.complete())},t.prototype._complete=function(){var e=this.destination;this.index>=0&&(void 0!==this.defaultValue?e.next(this.defaultValue):e.error(new a.ArgumentOutOfRangeError)),e.complete()},t}(o.Subscriber)},function(e,t,n){"use strict";function r(e,t){return this.lift(new a(e,t,this))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12);t.every=r;var a=function(){function e(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.thisArg,this.source))},e}(),s=function(e){function t(t,n,r,i){e.call(this,t),this.predicate=n,this.thisArg=r,this.source=i,this.index=0,this.thisArg=r||this}return i(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(o.Subscriber)},function(e,t,n){"use strict";function r(){return this.lift(new s)}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(17),a=n(18);t.exhaust=r;var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new u(e))},e}(),u=function(e){function t(t){e.call(this,t),this.hasCompleted=!1,this.hasSubscription=!1}return i(t,e),t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add(a.subscribeToResult(this,e)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(o.OuterSubscriber)},function(e,t,n){"use strict";function r(e,t){return this.lift(new s(e,t))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(17),a=n(18);t.exhaustMap=r;var s=function(){function e(e,t){this.project=e,this.resultSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.project,this.resultSelector))},e}(),u=function(e){function t(t,n,r){e.call(this,t),this.project=n,this.resultSelector=r,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}return i(t,e),t.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},t.prototype.tryNext=function(e){var t=this.index++,n=this.destination;try{var r=this.project(e,t);this.hasSubscription=!0,this.add(a.subscribeToResult(this,r,e,t))}catch(e){n.error(e)}},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,i){var o=this,a=o.resultSelector,s=o.destination;a?this.trySelectResult(e,t,n,r):s.next(t)},t.prototype.trySelectResult=function(e,t,n,r){var i=this,o=i.resultSelector,a=i.destination;try{var s=o(e,t,n,r);a.next(s)}catch(e){a.error(e)}},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(o.OuterSubscriber)},function(e,t,n){"use strict";function r(e,t,n){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=void 0),t=(t||0)<1?Number.POSITIVE_INFINITY:t,this.lift(new c(e,t,n))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(32),a=n(29),s=n(17),u=n(18);t.expand=r;var c=function(){function e(e,t,n){this.project=e,this.concurrent=t,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.project,this.concurrent,this.scheduler))},e}();t.ExpandOperator=c;var l=function(e){function t(t,n,r,i){e.call(this,t),this.project=n,this.concurrent=r,this.scheduler=i,this.index=0,this.active=0,this.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(this.buffer=[])}return i(t,e),t.dispatch=function(e){var t=e.subscriber,n=e.result,r=e.value,i=e.index;t.subscribeToProjection(n,r,i)},t.prototype._next=function(e){var n=this.destination;if(n.closed)return void this._complete();var r=this.index++;if(this.active<this.concurrent){n.next(e);var i=o.tryCatch(this.project)(e,r);if(i===a.errorObject)n.error(a.errorObject.e);else if(this.scheduler){var s={subscriber:this,result:i,value:e,index:r};this.add(this.scheduler.schedule(t.dispatch,0,s))}else this.subscribeToProjection(i,e,r)}else this.buffer.push(e)},t.prototype.subscribeToProjection=function(e,t,n){this.active++,this.add(u.subscribeToResult(this,e,t,n))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,i){this._next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(s.OuterSubscriber);t.ExpandSubscriber=l},function(e,t,n){"use strict";function r(e){return this.lift(new s(e))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12),a=n(27);t._finally=r;var s=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.callback))},e}(),u=function(e){function t(t,n){e.call(this,t),this.add(new a.Subscription(n))}return i(t,e),t}(o.Subscriber)},function(e,t,n){"use strict";function r(e,t){return this.lift(new i.FindValueOperator(e,this,!0,t))}var i=n(469);t.findIndex=r},function(e,t,n){"use strict";function r(e,t,n){return this.lift(new s(e,t,n,this))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12),a=n(195);t.first=r;var s=function(){function e(e,t,n,r){this.predicate=e,this.resultSelector=t,this.defaultValue=n,this.source=r}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.predicate,this.resultSelector,this.defaultValue,this.source))},e}(),u=function(e){function t(t,n,r,i,o){e.call(this,t),this.predicate=n,this.resultSelector=r,this.defaultValue=i,this.source=o,this.index=0,this.hasCompleted=!1,this._emitted=!1}return i(t,e),t.prototype._next=function(e){var t=this.index++;this.predicate?this._tryPredicate(e,t):this._emit(e,t)},t.prototype._tryPredicate=function(e,t){var n;try{n=this.predicate(e,t,this.source)}catch(e){return void this.destination.error(e)}n&&this._emit(e,t)},t.prototype._emit=function(e,t){if(this.resultSelector)return void this._tryResultSelector(e,t);this._emitFinal(e)},t.prototype._tryResultSelector=function(e,t){var n;try{n=this.resultSelector(e,t)}catch(e){return void this.destination.error(e)}this._emitFinal(n)},t.prototype._emitFinal=function(e){var t=this.destination;this._emitted||(this._emitted=!0,t.next(e),t.complete(),this.hasCompleted=!0)},t.prototype._complete=function(){var e=this.destination;this.hasCompleted||void 0===this.defaultValue?this.hasCompleted||e.error(new a.EmptyError):(e.next(this.defaultValue),e.complete())},t}(o.Subscriber)},function(e,t,n){"use strict";function r(e,t,n,r){return this.lift(new p(e,t,n,r))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12),a=n(27),s=n(1),u=n(26),c=n(1325),l=n(1323);t.groupBy=r;var p=function(){function e(e,t,n,r){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=r}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),f=function(e){function t(t,n,r,i,o){e.call(this,t),this.keySelector=n,this.elementSelector=r,this.durationSelector=i,this.subjectSelector=o,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}return i(t,e),t.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(e){return void this.error(e)}this._group(e,t)},t.prototype._group=function(e,t){var n=this.groups;n||(n=this.groups="string"==typeof t?new l.FastMap:new c.Map);var r,i=n.get(t);if(this.elementSelector)try{r=this.elementSelector(e)}catch(e){this.error(e)}else r=e;if(!i){i=this.subjectSelector?this.subjectSelector():new u.Subject,n.set(t,i);var o=new h(t,i,this);if(this.destination.next(o),this.durationSelector){var a=void 0;try{a=this.durationSelector(new h(t,i))}catch(e){return void this.error(e)}this.add(a.subscribe(new d(t,i,this)))}}i.closed||i.next(r)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach(function(t,n){t.error(e)}),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach(function(e,t){e.complete()}),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(o.Subscriber),d=function(e){function t(t,n,r){e.call(this),this.key=t,this.group=n,this.parent=r}return i(t,e),t.prototype._next=function(e){this._complete()},t.prototype._error=function(e){var t=this.group;t.closed||t.error(e),this.parent.removeGroup(this.key)},t.prototype._complete=function(){var e=this.group;e.closed||e.complete(),this.parent.removeGroup(this.key)},t}(o.Subscriber),h=function(e){function t(t,n,r){e.call(this),this.key=t,this.groupSubject=n,this.refCountSubscription=r}return i(t,e),t.prototype._subscribe=function(e){var t=new a.Subscription,n=this,r=n.refCountSubscription,i=n.groupSubject;return r&&!r.closed&&t.add(new m(r)),t.add(i.subscribe(e)),t},t}(s.Observable);t.GroupedObservable=h;var m=function(e){function t(t){e.call(this),this.parent=t,t.count++}return i(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(a.Subscription)},function(e,t,n){"use strict";function r(){return this.lift(new s)}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12),a=n(490);t.ignoreElements=r;var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new u(e))},e}(),u=function(e){function t(){e.apply(this,arguments)}return i(t,e),t.prototype._next=function(e){a.noop()},t}(o.Subscriber)},function(e,t,n){"use strict";function r(){return this.lift(new a)}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12);t.isEmpty=r;var a=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new s(e))},e}(),s=function(e){function t(t){e.call(this,t)}return i(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(o.Subscriber)},function(e,t,n){"use strict";function r(e,t,n){return this.lift(new s(e,t,n,this))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12),a=n(195);t.last=r;var s=function(){function e(e,t,n,r){this.predicate=e,this.resultSelector=t,this.defaultValue=n,this.source=r}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.predicate,this.resultSelector,this.defaultValue,this.source))},e}(),u=function(e){function t(t,n,r,i,o){e.call(this,t),this.predicate=n,this.resultSelector=r,this.defaultValue=i,this.source=o,this.hasValue=!1,this.index=0,void 0!==i&&(this.lastValue=i,this.hasValue=!0)}return i(t,e),t.prototype._next=function(e){var t=this.index++;if(this.predicate)this._tryPredicate(e,t);else{if(this.resultSelector)return void this._tryResultSelector(e,t);this.lastValue=e,this.hasValue=!0}},t.prototype._tryPredicate=function(e,t){var n;try{n=this.predicate(e,t,this.source)}catch(e){return void this.destination.error(e)}if(n){if(this.resultSelector)return void this._tryResultSelector(e,t);this.lastValue=e,this.hasValue=!0}},t.prototype._tryResultSelector=function(e,t){var n;try{n=this.resultSelector(e,t)}catch(e){return void this.destination.error(e)}this.lastValue=n,this.hasValue=!0},t.prototype._complete=function(){var e=this.destination;this.hasValue?(e.next(this.lastValue),e.complete()):e.error(new a.EmptyError)},t}(o.Subscriber)},function(e,t,n){"use strict";function r(e){return e(this)}t.letProto=r},function(e,t,n){"use strict";function r(e){return this.lift(new a(e))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12);t.mapTo=r;var a=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.value))},e}(),s=function(e){function t(t,n){e.call(this,t),this.value=n}return i(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(o.Subscriber)},function(e,t,n){"use strict";function r(){return this.lift(new s)}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12),a=n(144);t.materialize=r;var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new u(e))},e}(),u=function(e){function t(t){e.call(this,t)}return i(t,e),t.prototype._next=function(e){this.destination.next(a.Notification.createNext(e))},t.prototype._error=function(e){var t=this.destination;t.next(a.Notification.createError(e)),t.complete()},t.prototype._complete=function(){var e=this.destination;e.next(a.Notification.createComplete()),e.complete()},t}(o.Subscriber)},function(e,t,n){"use strict";function r(e){var t="function"==typeof e?function(t,n){return e(t,n)>0?t:n}:function(e,t){return e>t?e:t};return this.lift(new i.ReduceOperator(t))}var i=n(286);t.max=r},function(e,t,n){"use strict";function r(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),this.lift(new c(e,t,n))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(32),a=n(29),s=n(18),u=n(17);t.mergeScan=r;var c=function(){function e(e,t,n){this.accumulator=e,this.seed=t,this.concurrent=n}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.accumulator,this.seed,this.concurrent))},e}();t.MergeScanOperator=c;var l=function(e){function t(t,n,r,i){e.call(this,t),this.accumulator=n,this.acc=r,this.concurrent=i,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return i(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.index++,n=o.tryCatch(this.accumulator)(this.acc,e),r=this.destination;n===a.errorObject?r.error(a.errorObject.e):(this.active++,this._innerSub(n,e,t))}else this.buffer.push(e)},t.prototype._innerSub=function(e,t,n){this.add(s.subscribeToResult(this,e,t,n))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t.prototype.notifyNext=function(e,t,n,r,i){var o=this.destination;this.acc=t,this.hasValue=!0,o.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t}(u.OuterSubscriber);t.MergeScanSubscriber=l},function(e,t,n){"use strict";function r(e){var t="function"==typeof e?function(t,n){return e(t,n)<0?t:n}:function(e,t){return e<t?e:t};return this.lift(new i.ReduceOperator(t))}var i=n(286);t.min=r},function(e,t,n){"use strict";function r(){return this.lift(new a)}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12);t.pairwise=r;var a=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new s(e))},e}(),s=function(e){function t(t){e.call(this,t),this.hasPrev=!1}return i(t,e),t.prototype._next=function(e){this.hasPrev?this.destination.next([this.prev,e]):this.hasPrev=!0,this.prev=e},t}(o.Subscriber)},function(e,t,n){"use strict";function r(e,t){return[o.filter.call(this,e,t),o.filter.call(this,i.not(e,t))]}var i=n(1329),o=n(284);t.partition=r},function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=e.length;if(0===n)throw new Error("list of properties cannot be empty.");return o.map.call(this,i(e,n))}function i(e,t){return function(n){for(var r=n,i=0;i<t;i++){var o=r[e[i]];if(void 0===o)return;r=o}return r}}var o=n(191);t.pluck=r},function(e,t,n){"use strict";function r(e){return e?o.multicast.call(this,function(){return new i.Subject},e):o.multicast.call(this,new i.Subject)}var i=n(26),o=n(99);t.publish=r},function(e,t,n){"use strict";function r(e){return o.multicast.call(this,new i.BehaviorSubject(e))}var i=n(458),o=n(99);t.publishBehavior=r},function(e,t,n){"use strict";function r(){return o.multicast.call(this,new i.AsyncSubject)}var i=n(189),o=n(99);t.publishLast=r},function(e,t,n){"use strict";function r(e,t,n){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===t&&(t=Number.POSITIVE_INFINITY),o.multicast.call(this,new i.ReplaySubject(e,t,n))}var i=n(190),o=n(99);t.publishReplay=r},function(e,t,n){"use strict";function r(e){return void 0===e&&(e=-1),0===e?new a.EmptyObservable:e<0?this.lift(new s(-1,this)):this.lift(new s(e-1,this))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12),a=n(81);t.repeat=r;var s=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.count,this.source))},e}(),u=function(e){function t(t,n,r){e.call(this,t),this.count=n,this.source=r}return i(t,e),t.prototype.complete=function(){if(!this.isStopped){var t=this,n=t.source,r=t.count;if(0===r)return e.prototype.complete.call(this);r>-1&&(this.count=r-1),n.subscribe(this._unsubscribeAndRecycle())}},t}(o.Subscriber)},function(e,t,n){"use strict";function r(e){return this.lift(new l(e))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(26),a=n(32),s=n(29),u=n(17),c=n(18);t.repeatWhen=r;var l=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new p(e,this.notifier,t))},e}(),p=function(e){function t(t,n,r){e.call(this,t),this.notifier=n,this.source=r,this.sourceIsBeingSubscribedTo=!0}return i(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(t){if(!1===this.sourceIsBeingSubscribedTo)return e.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries){if(this.retriesSubscription.closed)return e.prototype.complete.call(this)}else this.subscribeToRetries();this._unsubscribeAndRecycle(),this.notifications.next()}},t.prototype._unsubscribe=function(){var e=this,t=e.notifications,n=e.retriesSubscription;t&&(t.unsubscribe(),this.notifications=null),n&&(n.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype._unsubscribeAndRecycle=function(){var t=this,n=t.notifications,r=t.retries,i=t.retriesSubscription;return this.notifications=null,this.retries=null,this.retriesSubscription=null,e.prototype._unsubscribeAndRecycle.call(this),this.notifications=n,this.retries=r,this.retriesSubscription=i,this},t.prototype.subscribeToRetries=function(){this.notifications=new o.Subject;var t=a.tryCatch(this.notifier)(this.notifications);if(t===s.errorObject)return e.prototype.complete.call(this);this.retries=t,this.retriesSubscription=c.subscribeToResult(this,t)},t}(u.OuterSubscriber)},function(e,t,n){"use strict";function r(e){return void 0===e&&(e=-1),this.lift(new a(e,this))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12);t.retry=r;var a=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.count,this.source))},e}(),s=function(e){function t(t,n,r){e.call(this,t),this.count=n,this.source=r}return i(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this,r=n.source,i=n.count;if(0===i)return e.prototype.error.call(this,t);i>-1&&(this.count=i-1),r.subscribe(this._unsubscribeAndRecycle())}},t}(o.Subscriber)},function(e,t,n){"use strict";function r(e){return this.lift(new l(e,this))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(26),a=n(32),s=n(29),u=n(17),c=n(18);t.retryWhen=r;var l=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new p(e,this.notifier,this.source))},e}(),p=function(e){function t(t,n,r){e.call(this,t),this.notifier=n,this.source=r}return i(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.errors,r=this.retries,i=this.retriesSubscription;if(r)this.errors=null,this.retriesSubscription=null;else{if(n=new o.Subject,(r=a.tryCatch(this.notifier)(n))===s.errorObject)return e.prototype.error.call(this,s.errorObject.e);i=c.subscribeToResult(this,r)}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=i,n.next(t)}},t.prototype._unsubscribe=function(){var e=this,t=e.errors,n=e.retriesSubscription;t&&(t.unsubscribe(),this.errors=null),n&&(n.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype.notifyNext=function(e,t,n,r,i){var o=this,a=o.errors,s=o.retries,u=o.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this._unsubscribeAndRecycle(),this.errors=a,this.retries=s,this.retriesSubscription=u,this.source.subscribe(this)},t}(u.OuterSubscriber)},function(e,t,n){"use strict";function r(e){return this.lift(new s(e))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(17),a=n(18);t.sample=r;var s=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new u(e),r=t.subscribe(n);return r.add(a.subscribeToResult(n,this.notifier)),r},e}(),u=function(e){function t(){e.apply(this,arguments),this.hasValue=!1}return i(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(e,t,n,r,i){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(o.OuterSubscriber)},function(e,t,n){"use strict";function r(e,t){return void 0===t&&(t=s.async),this.lift(new u(e,t))}function i(e){var t=e.subscriber,n=e.period;t.notifyNext(),this.schedule(e,n)}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=n(12),s=n(36);t.sampleTime=r;var u=function(){function e(e,t){this.period=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.period,this.scheduler))},e}(),c=function(e){function t(t,n,r){e.call(this,t),this.period=n,this.scheduler=r,this.hasValue=!1,this.add(r.schedule(i,n,{subscriber:this,period:n}))}return o(t,e),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(a.Subscriber)},function(e,t,n){"use strict";function r(e,t){var n=!1;return arguments.length>=2&&(n=!0),this.lift(new a(e,t,n))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12);t.scan=r;var a=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.accumulator,this.seed,this.hasSeed))},e}(),s=function(e){function t(t,n,r,i){e.call(this,t),this.accumulator=n,this._seed=r,this.hasSeed=i,this.index=0}return i(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)},t}(o.Subscriber)},function(e,t,n){"use strict";function r(e,t){return this.lift(new u(e,t))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12),a=n(32),s=n(29);t.sequenceEqual=r;var u=function(){function e(e,t){this.compareTo=e,this.comparor=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.compareTo,this.comparor))},e}();t.SequenceEqualOperator=u;var c=function(e){function t(t,n,r){e.call(this,t),this.compareTo=n,this.comparor=r,this._a=[],this._b=[],this._oneComplete=!1,this.add(n.subscribe(new l(t,this)))}return i(t,e),t.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},t.prototype.checkValues=function(){for(var e=this,t=e._a,n=e._b,r=e.comparor;t.length>0&&n.length>0;){var i=t.shift(),o=n.shift(),u=!1;r?(u=a.tryCatch(r)(i,o))===s.errorObject&&this.destination.error(s.errorObject.e):u=i===o,u||this.emit(!1)}},t.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},t}(o.Subscriber);t.SequenceEqualSubscriber=c;var l=function(e){function t(t,n){e.call(this,t),this.parent=n}return i(t,e),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e)},t.prototype._complete=function(){this.parent._complete()},t}(o.Subscriber)},function(e,t,n){"use strict";function r(){return new a.Subject}function i(){return o.multicast.call(this,r).refCount()}var o=n(99),a=n(26);t.share=i},function(e,t,n){"use strict";function r(e,t,n){var r;return i.multicast.call(this,function(){return this._isComplete?r:r=new o.ReplaySubject(e,t,n)}).refCount()}var i=n(99),o=n(190);t.shareReplay=r},function(e,t,n){"use strict";function r(e){return this.lift(new s(e,this))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12),a=n(195);t.single=r;var s=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.predicate,this.source))},e}(),u=function(e){function t(t,n,r){e.call(this,t),this.predicate=n,this.source=r,this.seenValue=!1,this.index=0}return i(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},t.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new a.EmptyError)},t}(o.Subscriber)},function(e,t,n){"use strict";function r(e){return this.lift(new a(e))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12);t.skip=r;var a=function(){function e(e){this.total=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.total))},e}(),s=function(e){function t(t,n){e.call(this,t),this.total=n,this.count=0}return i(t,e),t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(o.Subscriber)},function(e,t,n){"use strict";function r(e){return this.lift(new s(e))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12),a=n(148);t.skipLast=r;var s=function(){function e(e){if(this._skipCount=e,this._skipCount<0)throw new a.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return 0===this._skipCount?t.subscribe(new o.Subscriber(e)):t.subscribe(new u(e,this._skipCount))},e}(),u=function(e){function t(t,n){e.call(this,t),this._skipCount=n,this._count=0,this._ring=new Array(n)}return i(t,e),t.prototype._next=function(e){var t=this._skipCount,n=this._count++;if(n<t)this._ring[n]=e;else{var r=n%t,i=this._ring,o=i[r];i[r]=e,this.destination.next(o)}},t}(o.Subscriber)},function(e,t,n){"use strict";function r(e){return this.lift(new s(e))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(17),a=n(18);t.skipUntil=r;var s=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.notifier))},e}(),u=function(e){function t(t,n){e.call(this,t),this.hasValue=!1,this.isInnerStopped=!1,this.add(a.subscribeToResult(this,n))}return i(t,e),t.prototype._next=function(t){this.hasValue&&e.prototype._next.call(this,t)},t.prototype._complete=function(){this.isInnerStopped?e.prototype._complete.call(this):this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,i){this.hasValue=!0},t.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&e.prototype._complete.call(this)},t}(o.OuterSubscriber)},function(e,t,n){"use strict";function r(e){return this.lift(new a(e))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12);t.skipWhile=r;var a=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate))},e}(),s=function(e){function t(t,n){e.call(this,t),this.predicate=n,this.skipping=!0,this.index=0}return i(t,e),t.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},t.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(e){this.destination.error(e)}},t}(o.Subscriber)},function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=e[e.length-1];u.isScheduler(n)?e.pop():n=null;var r=e.length;return 1===r?s.concatStatic(new o.ScalarObservable(e[0],n),this):r>1?s.concatStatic(new i.ArrayObservable(e,n),this):s.concatStatic(new a.EmptyObservable(n),this)}var i=n(64),o=n(281),a=n(81),s=n(283),u=n(66);t.startWith=r},function(e,t,n){"use strict";function r(e,t){return void 0===t&&(t=0),this.lift(new o(e,t))}var i=n(1204);t.subscribeOn=r;var o=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new i.SubscribeOnObservable(t,this.delay,this.scheduler).subscribe(e)},e}()},function(e,t,n){"use strict";function r(){return this.lift(new s)}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(17),a=n(18);t._switch=r;var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new u(e))},e}(),u=function(e){function t(t){e.call(this,t),this.active=0,this.hasCompleted=!1}return i(t,e),t.prototype._next=function(e){this.unsubscribeInner(),this.active++,this.add(this.innerSubscription=a.subscribeToResult(this,e))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&this.destination.complete()},t.prototype.unsubscribeInner=function(){this.active=this.active>0?this.active-1:0;var e=this.innerSubscription;e&&(e.unsubscribe(),this.remove(e))},t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.unsubscribeInner(),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(o.OuterSubscriber)},function(e,t,n){"use strict";function r(e,t){return this.lift(new s(e,t))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(17),a=n(18);t.switchMapTo=r;var s=function(){function e(e,t){this.observable=e,this.resultSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.observable,this.resultSelector))},e}(),u=function(e){function t(t,n,r){e.call(this,t),this.inner=n,this.resultSelector=r,this.index=0}return i(t,e),t.prototype._next=function(e){var t=this.innerSubscription;t&&t.unsubscribe(),this.add(this.innerSubscription=a.subscribeToResult(this,this.inner,e,this.index++))},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,r,i){var o=this,a=o.resultSelector,s=o.destination;a?this.tryResultSelector(e,t,n,r):s.next(t)},t.prototype.tryResultSelector=function(e,t,n,r){var i,o=this,a=o.resultSelector,s=o.destination;try{i=a(e,t,n,r)}catch(e){return void s.error(e)}s.next(i)},t}(o.OuterSubscriber)},function(e,t,n){"use strict";function r(e){return 0===e?new s.EmptyObservable:this.lift(new u(e))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12),a=n(148),s=n(81);t.take=r;var u=function(){function e(e){if(this.total=e,this.total<0)throw new a.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.total))},e}(),c=function(e){function t(t,n){e.call(this,t),this.total=n,this.count=0}return i(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(o.Subscriber)},function(e,t,n){"use strict";function r(e){return 0===e?new s.EmptyObservable:this.lift(new u(e))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12),a=n(148),s=n(81);t.takeLast=r;var u=function(){function e(e){if(this.total=e,this.total<0)throw new a.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.total))},e}(),c=function(e){function t(t,n){e.call(this,t),this.total=n,this.ring=new Array,this.count=0}return i(t,e),t.prototype._next=function(e){var t=this.ring,n=this.total,r=this.count++;if(t.length<n)t.push(e);else{t[r%n]=e}},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()},t}(o.Subscriber)},function(e,t,n){"use strict";function r(e){return this.lift(new s(e))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(17),a=n(18);t.takeUntil=r;var s=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.notifier))},e}(),u=function(e){function t(t,n){e.call(this,t),this.notifier=n,this.add(a.subscribeToResult(this,n))}return i(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.complete()},t.prototype.notifyComplete=function(){},t}(o.OuterSubscriber)},function(e,t,n){"use strict";function r(e){return this.lift(new a(e))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12);t.takeWhile=r;var a=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate))},e}(),s=function(e){function t(t,n){e.call(this,t),this.predicate=n,this.index=0}return i(t,e),t.prototype._next=function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(e){return void n.error(e)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var n=this.destination;Boolean(t)?n.next(e):n.complete()},t}(o.Subscriber)},function(e,t,n){"use strict";function r(e,t,n){return void 0===t&&(t=s.async),void 0===n&&(n=u.defaultThrottleConfig),this.lift(new c(e,t,n.leading,n.trailing))}function i(e){e.subscriber.clearThrottle()}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=n(12),s=n(36),u=n(476);t.throttleTime=r;var c=function(){function e(e,t,n,r){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=r}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),l=function(e){function t(t,n,r,i,o){e.call(this,t),this.duration=n,this.scheduler=r,this.leading=i,this.trailing=o,this._hasTrailingValue=!1,this._trailingValue=null}return o(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(i,this.duration,{subscriber:this})),this.leading&&this.destination.next(e))},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(a.Subscriber)},function(e,t,n){"use strict";function r(e,t){void 0===t&&(t=o.async);var n=a.isDate(e),r=n?+e-t.now():Math.abs(e);return this.lift(new c(r,n,t,new u.TimeoutError))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(36),a=n(197),s=n(12),u=n(484);t.timeout=r;var c=function(){function e(e,t,n,r){this.waitFor=e,this.absoluteTimeout=t,this.scheduler=n,this.errorInstance=r}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.absoluteTimeout,this.waitFor,this.scheduler,this.errorInstance))},e}(),l=function(e){function t(t,n,r,i,o){e.call(this,t),this.absoluteTimeout=n,this.waitFor=r,this.scheduler=i,this.errorInstance=o,this.action=null,this.scheduleTimeout()}return i(t,e),t.dispatchTimeout=function(e){e.error(e.errorInstance)},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.errorInstance=null},t}(s.Subscriber)},function(e,t,n){"use strict";function r(e,t,n){void 0===n&&(n=o.async);var r=a.isDate(e),i=r?+e-n.now():Math.abs(e);return this.lift(new c(i,r,t,n))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(36),a=n(197),s=n(17),u=n(18);t.timeoutWith=r;var c=function(){function e(e,t,n,r){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),l=function(e){function t(t,n,r,i,o){e.call(this,t),this.absoluteTimeout=n,this.waitFor=r,this.withObservable=i,this.scheduler=o,this.action=null,this.scheduleTimeout()}return i(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(u.subscribeToResult(e,t))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},t}(s.OuterSubscriber)},function(e,t,n){"use strict";function r(){return this.lift(new a)}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12);t.toArray=r;var a=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new s(e))},e}(),s=function(e){function t(t){e.call(this,t),this.array=[]}return i(t,e),t.prototype._next=function(e){this.array.push(e)},t.prototype._complete=function(){this.destination.next(this.array),this.destination.complete()},t}(o.Subscriber)},function(e,t,n){"use strict";function r(e){var t=this;if(e||(i.root.Rx&&i.root.Rx.config&&i.root.Rx.config.Promise?e=i.root.Rx.config.Promise:i.root.Promise&&(e=i.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})}var i=n(31);t.toPromise=r},function(e,t,n){"use strict";function r(e){return this.lift(new u(e))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(26),a=n(17),s=n(18);t.window=r;var u=function(){function e(e){this.windowBoundaries=e}return e.prototype.call=function(e,t){var n=new c(e),r=t.subscribe(n);return r.closed||n.add(s.subscribeToResult(n,this.windowBoundaries)),r},e}(),c=function(e){function t(t){e.call(this,t),this.window=new o.Subject,t.next(this.window)}return i(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.openWindow()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,n=this.window=new o.Subject;t.next(n)},t}(a.OuterSubscriber)},function(e,t,n){"use strict";function r(e,t){return void 0===t&&(t=0),this.lift(new s(e,t))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12),a=n(26);t.windowCount=r;var s=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.windowSize,this.startWindowEvery))},e}(),u=function(e){function t(t,n,r){e.call(this,t),this.destination=t,this.windowSize=n,this.startWindowEvery=r,this.windows=[new a.Subject],this.count=0,t.next(this.windows[0])}return i(t,e),t.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,i=this.windows,o=i.length,s=0;s<o&&!this.closed;s++)i[s].next(e);var u=this.count-r+1;if(u>=0&&u%t==0&&!this.closed&&i.shift().complete(),++this.count%t==0&&!this.closed){var c=new a.Subject;i.push(c),n.next(c)}},t.prototype._error=function(e){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(o.Subscriber)},function(e,t,n){"use strict";function r(e){var t=c.async,n=null,r=Number.POSITIVE_INFINITY;return f.isScheduler(arguments[3])&&(t=arguments[3]),f.isScheduler(arguments[2])?t=arguments[2]:p.isNumeric(arguments[2])&&(r=arguments[2]),f.isScheduler(arguments[1])?t=arguments[1]:p.isNumeric(arguments[1])&&(n=arguments[1]),this.lift(new d(e,n,r,t))}function i(e){var t=e.subscriber,n=e.windowTimeSpan,r=e.window;r&&t.closeWindow(r),e.window=t.openWindow(),this.schedule(e,n)}function o(e){var t=e.windowTimeSpan,n=e.subscriber,r=e.scheduler,i=e.windowCreationInterval,o=n.openWindow(),s=this,u={action:s,subscription:null},c={subscriber:n,window:o,context:u};u.subscription=r.schedule(a,t,c),s.add(u.subscription),s.schedule(e,i)}function a(e){var t=e.subscriber,n=e.window,r=e.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),t.closeWindow(n)}var s=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},u=n(26),c=n(36),l=n(12),p=n(199),f=n(66);t.windowTime=r;var d=function(){function e(e,t,n,r){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new m(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),h=function(e){function t(){e.apply(this,arguments),this._numberOfNextedValues=0}return s(t,e),t.prototype.next=function(t){this._numberOfNextedValues++,e.prototype.next.call(this,t)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(u.Subject),m=function(e){function t(t,n,r,s,u){e.call(this,t),this.destination=t,this.windowTimeSpan=n,this.windowCreationInterval=r,this.maxWindowSize=s,this.scheduler=u,this.windows=[];var c=this.openWindow();if(null!==r&&r>=0){var l={subscriber:this,window:c,context:null},p={windowTimeSpan:n,windowCreationInterval:r,subscriber:this,scheduler:u};this.add(u.schedule(a,n,l)),this.add(u.schedule(o,r,p))}else{var f={subscriber:this,window:c,windowTimeSpan:n};this.add(u.schedule(i,n,f))}}return s(t,e),t.prototype._next=function(e){for(var t=this.windows,n=t.length,r=0;r<n;r++){var i=t[r];i.closed||(i.next(e),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},t.prototype._error=function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var t=e.shift();t.closed||t.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new h;return this.windows.push(e),this.destination.next(e),e},t.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},t}(l.Subscriber)},function(e,t,n){"use strict";function r(e,t){return this.lift(new p(e,t))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(26),a=n(27),s=n(32),u=n(29),c=n(17),l=n(18);t.windowToggle=r;var p=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.openings,this.closingSelector))},e}(),f=function(e){function t(t,n,r){e.call(this,t),this.openings=n,this.closingSelector=r,this.contexts=[],this.add(this.openSubscription=l.subscribeToResult(this,n,n))}return i(t,e),t.prototype._next=function(e){var t=this.contexts;if(t)for(var n=t.length,r=0;r<n;r++)t[r].window.next(e)},t.prototype._error=function(t){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,i=-1;++i<r;){var o=n[i];o.window.error(t),o.subscription.unsubscribe()}e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,r=-1;++r<n;){var i=t[r];i.window.complete(),i.subscription.unsubscribe()}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,n=-1;++n<t;){var r=e[n];r.window.unsubscribe(),r.subscription.unsubscribe()}},t.prototype.notifyNext=function(e,t,n,r,i){if(e===this.openings){var c=this.closingSelector,p=s.tryCatch(c)(t);if(p===u.errorObject)return this.error(u.errorObject.e);var f=new o.Subject,d=new a.Subscription,h={window:f,subscription:d};this.contexts.push(h);var m=l.subscribeToResult(this,p,h);m.closed?this.closeWindow(this.contexts.length-1):(m.context=h,d.add(m)),this.destination.next(f)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(-1!==e){var t=this.contexts,n=t[e],r=n.window,i=n.subscription;t.splice(e,1),r.complete(),i.unsubscribe()}},t}(c.OuterSubscriber)},function(e,t,n){"use strict";function r(e){return this.lift(new l(e))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(26),a=n(32),s=n(29),u=n(17),c=n(18);t.windowWhen=r;var l=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new p(e,this.closingSelector))},e}(),p=function(e){function t(t,n){e.call(this,t),this.destination=t,this.closingSelector=n,this.openWindow()}return i(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.openWindow(i)},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var n=this.window=new o.Subject;this.destination.next(n);var r=a.tryCatch(this.closingSelector)();if(r===s.errorObject){var i=s.errorObject.e;this.destination.error(i),this.window.error(i)}else this.add(this.closingNotification=c.subscribeToResult(this,r))},t}(u.OuterSubscriber)},function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n;"function"==typeof e[e.length-1]&&(n=e.pop());var r=e;return this.lift(new s(r,n))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(17),a=n(18);t.withLatestFrom=r;var s=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.observables,this.project))},e}(),u=function(e){function t(t,n,r){e.call(this,t),this.observables=n,this.project=r,this.toRespond=[];var i=n.length;this.values=new Array(i);for(var o=0;o<i;o++)this.toRespond.push(o);for(var o=0;o<i;o++){var s=n[o];this.add(a.subscribeToResult(this,s,s,o))}}return i(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.values[n]=t;var o=this.toRespond;if(o.length>0){var a=o.indexOf(n);-1!==a&&o.splice(a,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(o.OuterSubscriber)},function(e,t,n){"use strict";function r(e){return this.lift(new i.ZipOperator(e))}var i=n(287);t.zipAll=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(27),o=function(e){function t(t,n){e.call(this)}return r(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(i.Subscription);t.Action=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(145),o=n(1322),a=function(e){function t(t,n){e.call(this,t,n),this.scheduler=t,this.work=n}return r(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=o.AnimationFrame.requestAnimationFrame(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(o.AnimationFrame.cancelAnimationFrame(n),t.scheduled=void 0)},t}(i.AsyncAction);t.AnimationFrameAction=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(146),o=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(i.AsyncScheduler);t.AnimationFrameScheduler=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(1324),o=n(145),a=function(e){function t(t,n){e.call(this,t,n),this.scheduler=t,this.work=n}return r(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=i.Immediate.setImmediate(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(i.Immediate.clearImmediate(n),t.scheduled=void 0)},t}(o.AsyncAction);t.AsapAction=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(146),o=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(i.AsyncScheduler);t.AsapScheduler=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(145),o=function(e){function t(t,n){e.call(this,t,n),this.scheduler=t,this.work=n}return r(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(i.AsyncAction);t.QueueAction=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(146),o=function(e){function t(){e.apply(this,arguments)}return r(t,e),t}(i.AsyncScheduler);t.QueueScheduler=o},function(e,t,n){"use strict";var r=n(1312),i=n(1313);t.animationFrame=new i.AnimationFrameScheduler(r.AnimationFrameAction)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(1),o=n(27),a=n(483),s=n(486),u=function(e){function t(t,n){e.call(this,function(e){var t=this,n=t.logSubscribedFrame();return e.add(new o.Subscription(function(){t.logUnsubscribedFrame(n)})),t.scheduleMessages(e),e}),this.messages=t,this.subscriptions=[],this.scheduler=n}return r(t,e),t.prototype.scheduleMessages=function(e){for(var t=this.messages.length,n=0;n<t;n++){var r=this.messages[n];e.add(this.scheduler.schedule(function(e){var t=e.message,n=e.subscriber;t.notification.observe(n)},r.frame,{message:r,subscriber:e}))}},t}(i.Observable);t.ColdObservable=u,s.applyMixins(u,[a.SubscriptionLoggable])},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(26),o=n(27),a=n(483),s=n(486),u=function(e){function t(t,n){e.call(this),this.messages=t,this.subscriptions=[],this.scheduler=n}return r(t,e),t.prototype._subscribe=function(t){var n=this,r=n.logSubscribedFrame();return t.add(new o.Subscription(function(){n.logUnsubscribedFrame(r)})),e.prototype._subscribe.call(this,t)},t.prototype.setup=function(){for(var e=this,t=e.messages.length,n=0;n<t;n++)!function(){var t=e.messages[n];e.scheduler.schedule(function(){t.notification.observe(e)},t.frame)}()},t}(i.Subject);t.HotObservable=u,s.applyMixins(u,[a.SubscriptionLoggable])},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(1),o=n(144),a=n(1319),s=n(1320),u=n(482),c=n(479),l=750,p=function(e){function t(t){e.call(this,c.VirtualAction,l),this.assertDeepEqual=t,this.hotObservables=[],this.coldObservables=[],this.flushTests=[]}return r(t,e),t.prototype.createTime=function(e){var n=e.indexOf("|");if(-1===n)throw new Error('marble diagram for time should have a completion marker "|"');return n*t.frameTimeFactor},t.prototype.createColdObservable=function(e,n,r){if(-1!==e.indexOf("^"))throw new Error('cold observable cannot have subscription offset "^"');if(-1!==e.indexOf("!"))throw new Error('cold observable cannot have unsubscription marker "!"');var i=t.parseMarbles(e,n,r),o=new a.ColdObservable(i,this);return this.coldObservables.push(o),o},t.prototype.createHotObservable=function(e,n,r){if(-1!==e.indexOf("!"))throw new Error('hot observable cannot have unsubscription marker "!"');var i=t.parseMarbles(e,n,r),o=new s.HotObservable(i,this);return this.hotObservables.push(o),o},t.prototype.materializeInnerObservable=function(e,t){var n=this,r=[];return e.subscribe(function(e){r.push({frame:n.frame-t,notification:o.Notification.createNext(e)})},function(e){r.push({frame:n.frame-t,notification:o.Notification.createError(e)})},function(){r.push({frame:n.frame-t,notification:o.Notification.createComplete()})}),r},t.prototype.expectObservable=function(e,n){var r=this;void 0===n&&(n=null);var a,s=[],u={actual:s,ready:!1},c=t.parseMarblesAsSubscriptions(n).unsubscribedFrame;return this.schedule(function(){a=e.subscribe(function(e){var t=e;e instanceof i.Observable&&(t=r.materializeInnerObservable(t,r.frame)),s.push({frame:r.frame,notification:o.Notification.createNext(t)})},function(e){s.push({frame:r.frame,notification:o.Notification.createError(e)})},function(){s.push({frame:r.frame,notification:o.Notification.createComplete()})})},0),c!==Number.POSITIVE_INFINITY&&this.schedule(function(){return a.unsubscribe()},c),this.flushTests.push(u),{toBe:function(e,n,r){u.ready=!0,u.expected=t.parseMarbles(e,n,r,!0)}}},t.prototype.expectSubscriptions=function(e){var n={actual:e,ready:!1};return this.flushTests.push(n),{toBe:function(e){var r="string"==typeof e?[e]:e;n.ready=!0,n.expected=r.map(function(e){return t.parseMarblesAsSubscriptions(e)})}}},t.prototype.flush=function(){for(var t=this.hotObservables;t.length>0;)t.shift().setup();e.prototype.flush.call(this);for(var n=this.flushTests.filter(function(e){return e.ready});n.length>0;){var r=n.shift();this.assertDeepEqual(r.actual,r.expected)}},t.parseMarblesAsSubscriptions=function(e){if("string"!=typeof e)return new u.SubscriptionLog(Number.POSITIVE_INFINITY);for(var t=e.length,n=-1,r=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,o=0;o<t;o++){var a=o*this.frameTimeFactor,s=e[o];switch(s){case"-":case" ":break;case"(":n=a;break;case")":n=-1;break;case"^":if(r!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");r=n>-1?n:a;break;case"!":if(i!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");i=n>-1?n:a;break;default:throw new Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+s+"'.")}}return i<0?new u.SubscriptionLog(r):new u.SubscriptionLog(r,i)},t.parseMarbles=function(e,t,n,r){if(void 0===r&&(r=!1),-1!==e.indexOf("!"))throw new Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var i=e.length,s=[],u=e.indexOf("^"),c=-1===u?0:u*-this.frameTimeFactor,l="object"!=typeof t?function(e){return e}:function(e){return r&&t[e]instanceof a.ColdObservable?t[e].messages:t[e]},p=-1,f=0;f<i;f++){var d=f*this.frameTimeFactor+c,h=void 0,m=e[f];switch(m){case"-":case" ":break;case"(":p=d;break;case")":p=-1;break;case"|":h=o.Notification.createComplete();break;case"^":break;case"#":h=o.Notification.createError(n||"error");break;default:h=o.Notification.createNext(l(m))}h&&s.push({frame:p>-1?p:d,notification:h})}return s},t}(c.VirtualTimeScheduler);t.TestScheduler=p},function(e,t,n){"use strict";var r=n(31),i=function(){function e(e){e.requestAnimationFrame?(this.cancelAnimationFrame=e.cancelAnimationFrame.bind(e),this.requestAnimationFrame=e.requestAnimationFrame.bind(e)):e.mozRequestAnimationFrame?(this.cancelAnimationFrame=e.mozCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.mozRequestAnimationFrame.bind(e)):e.webkitRequestAnimationFrame?(this.cancelAnimationFrame=e.webkitCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.webkitRequestAnimationFrame.bind(e)):e.msRequestAnimationFrame?(this.cancelAnimationFrame=e.msCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.msRequestAnimationFrame.bind(e)):e.oRequestAnimationFrame?(this.cancelAnimationFrame=e.oCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.oRequestAnimationFrame.bind(e)):(this.cancelAnimationFrame=e.clearTimeout.bind(e),this.requestAnimationFrame=function(t){return e.setTimeout(t,1e3/60)})}return e}();t.RequestAnimationFrameDefinition=i,t.AnimationFrame=new i(r.root)},function(e,t,n){"use strict";var r=function(){function e(){this.values={}}return e.prototype.delete=function(e){return this.values[e]=null,!0},e.prototype.set=function(e,t){return this.values[e]=t,this},e.prototype.get=function(e){return this.values[e]},e.prototype.forEach=function(e,t){var n=this.values;for(var r in n)n.hasOwnProperty(r)&&null!==n[r]&&e.call(t,n[r],r)},e.prototype.clear=function(){this.values={}},e}();t.FastMap=r},function(e,t,n){"use strict";(function(e,r){var i=n(31),o=function(){function e(e){if(this.root=e,e.setImmediate&&"function"==typeof e.setImmediate)this.setImmediate=e.setImmediate.bind(e),this.clearImmediate=e.clearImmediate.bind(e);else{this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.canUseProcessNextTick()?this.setImmediate=this.createProcessNextTickSetImmediate():this.canUsePostMessage()?this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.setImmediate=this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.setImmediate=this.createReadyStateChangeSetImmediate():this.setImmediate=this.createSetTimeoutSetImmediate();var t=function e(t){delete e.instance.tasksByHandle[t]};t.instance=this,this.clearImmediate=t}}return e.prototype.identify=function(e){return this.root.Object.prototype.toString.call(e)},e.prototype.canUseProcessNextTick=function(){return"[object process]"===this.identify(this.root.process)},e.prototype.canUseMessageChannel=function(){return Boolean(this.root.MessageChannel)},e.prototype.canUseReadyStateChange=function(){var e=this.root.document;return Boolean(e&&"onreadystatechange"in e.createElement("script"))},e.prototype.canUsePostMessage=function(){var e=this.root;if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}return!1},e.prototype.partiallyApplied=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=function e(){var t=e,n=t.handler,r=t.args;"function"==typeof n?n.apply(void 0,r):new Function(""+n)()};return r.handler=e,r.args=t,r},e.prototype.addFromSetImmediateArguments=function(e){return this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,e),this.nextHandle++},e.prototype.createProcessNextTickSetImmediate=function(){var e=function e(){var t=e.instance,n=t.addFromSetImmediateArguments(arguments);return t.root.process.nextTick(t.partiallyApplied(t.runIfPresent,n)),n};return e.instance=this,e},e.prototype.createPostMessageSetImmediate=function(){var e=this.root,t="setImmediate$"+e.Math.random()+"$",n=function n(r){var i=n.instance;r.source===e&&"string"==typeof r.data&&0===r.data.indexOf(t)&&i.runIfPresent(+r.data.slice(t.length))};n.instance=this,e.addEventListener("message",n,!1);var r=function e(){var t=e,n=t.messagePrefix,r=t.instance,i=r.addFromSetImmediateArguments(arguments);return r.root.postMessage(n+i,"*"),i};return r.instance=this,r.messagePrefix=t,r},e.prototype.runIfPresent=function(e){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,e),0);else{var t=this.tasksByHandle[e];if(t){this.currentlyRunningATask=!0;try{t()}finally{this.clearImmediate(e),this.currentlyRunningATask=!1}}}},e.prototype.createMessageChannelSetImmediate=function(){var e=this,t=new this.root.MessageChannel;t.port1.onmessage=function(t){var n=t.data;e.runIfPresent(n)};var n=function e(){var t=e,n=t.channel,r=t.instance,i=r.addFromSetImmediateArguments(arguments);return n.port2.postMessage(i),i};return n.channel=t,n.instance=this,n},e.prototype.createReadyStateChangeSetImmediate=function(){var e=function e(){var t=e.instance,n=t.root,r=n.document,i=r.documentElement,o=t.addFromSetImmediateArguments(arguments),a=r.createElement("script");return a.onreadystatechange=function(){t.runIfPresent(o),a.onreadystatechange=null,i.removeChild(a),a=null},i.appendChild(a),o};return e.instance=this,e},e.prototype.createSetTimeoutSetImmediate=function(){var e=function e(){var t=e.instance,n=t.addFromSetImmediateArguments(arguments);return t.root.setTimeout(t.partiallyApplied(t.runIfPresent,n),0),n};return e.instance=this,e},e}();t.ImmediateDefinition=o,t.Immediate=new o(i.root)}).call(t,n(491).clearImmediate,n(491).setImmediate)},function(e,t,n){"use strict";var r=n(31),i=n(1326);t.Map=r.root.Map||function(){return i.MapPolyfill}()},function(e,t,n){"use strict";var r=function(){function e(){this.size=0,this._values=[],this._keys=[]}return e.prototype.get=function(e){var t=this._keys.indexOf(e);return-1===t?void 0:this._values[t]},e.prototype.set=function(e,t){var n=this._keys.indexOf(e);return-1===n?(this._keys.push(e),this._values.push(t),this.size++):this._values[n]=t,this},e.prototype.delete=function(e){var t=this._keys.indexOf(e);return-1!==t&&(this._values.splice(t,1),this._keys.splice(t,1),this.size--,!0)},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this.size=0},e.prototype.forEach=function(e,t){for(var n=0;n<this.size;n++)e.call(t,this._values[n],this._keys[n])},e}();t.MapPolyfill=r},function(e,t,n){"use strict";function r(){return function(){function e(){this._values=[]}return e.prototype.add=function(e){this.has(e)||this._values.push(e)},e.prototype.has=function(e){return-1!==this._values.indexOf(e)},Object.defineProperty(e.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this._values.length=0},e}()}var i=n(31);t.minimalSetImpl=r,t.Set=i.root.Set||r()},function(e,t,n){"use strict";function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t.length,i=0;i<r;i++){var o=t[i];for(var a in o)o.hasOwnProperty(a)&&(e[a]=o[a])}return e}function i(e){return e.Object.assign||r}var o=n(31);t.assignImpl=r,t.getAssign=i,t.assign=i(o.root)},function(e,t,n){"use strict";function r(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}t.not=r},function(e,t,n){"use strict";function r(e,t,n){if(e){if(e instanceof i.Subscriber)return e;if(e[o.rxSubscriber])return e[o.rxSubscriber]()}return e||t||n?new i.Subscriber(e,t,n):new i.Subscriber(a.empty)}var i=n(12),o=n(194),a=n(459);t.toSubscriber=r},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return c[u]=r,s(u),u++}function i(e){delete c[e]}function o(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function a(e){if(l)setTimeout(a,0,e);else{var t=c[e];if(t){l=!0;try{o(t)}finally{i(e),l=!1}}}}if(!e.setImmediate){var s,u=1,c={},l=!1,p=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){a(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},s=function(t){e.port2.postMessage(t)}}():p&&"onreadystatechange"in p.createElement("script")?function(){var e=p.documentElement;s=function(t){var n=p.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){s=function(e){setTimeout(a,0,e)}}(),f.setImmediate=r,f.clearImmediate=i}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(28),n(1011))},function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i))return e;var o;return o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")"})}},function(e,t,n){var r=n(690);"string"==typeof r&&(r=[[e.i,r,""]]);n(321)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(1336),a=function(e){return e&&e.__esModule?e:{default:e}}(o);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var s=(0,a.default)(i);t.default=s}).call(t,n(28),n(104)(e))},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r}],[636]);
//# sourceMappingURL=maintenance-7b4b72284bb16785357b.js.map
